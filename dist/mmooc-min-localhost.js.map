{"version":3,"sources":["../src/js/3party/pfdkautoresize.js","../src/js/utilities/course-options.js","../src/js/3party/h5piframeresizer.js","../src/js/3party/handlebars-v1.3.0.js","../src/js/3party/jquery.csv-0.71.min.js","webpack://jso/webpack/universalModuleDefinition","webpack://jso/webpack/bootstrap","webpack://jso/node_modules/core-js/modules/_wks.js","webpack://jso/node_modules/core-js/modules/_global.js","webpack://jso/node_modules/core-js/modules/_core.js","webpack://jso/node_modules/core-js/modules/_an-object.js","webpack://jso/node_modules/core-js/modules/_hide.js","webpack://jso/node_modules/core-js/modules/_export.js","webpack://jso/node_modules/core-js/modules/_iterators.js","webpack://jso/node_modules/core-js/modules/_has.js","webpack://jso/node_modules/core-js/modules/_redefine.js","webpack://jso/node_modules/core-js/modules/_descriptors.js","webpack://jso/node_modules/core-js/modules/_is-object.js","webpack://jso/src/Loaders/BasicLoader.js","webpack://jso/src/utils.js","webpack://jso/node_modules/core-js/modules/_cof.js","webpack://jso/node_modules/core-js/modules/_a-function.js","webpack://jso/node_modules/core-js/modules/_ctx.js","webpack://jso/node_modules/core-js/modules/_object-dp.js","webpack://jso/node_modules/core-js/modules/_new-promise-capability.js","webpack://jso/node_modules/core-js/modules/_set-to-string-tag.js","webpack://jso/node_modules/core-js/modules/_classof.js","webpack://jso/node_modules/core-js/modules/_shared-key.js","webpack://jso/node_modules/core-js/modules/_to-integer.js","webpack://jso/node_modules/core-js/modules/_defined.js","webpack://jso/node_modules/core-js/modules/_to-iobject.js","webpack://jso/node_modules/core-js/modules/_object-keys.js","webpack://jso/node_modules/core-js/modules/_uid.js","webpack://jso/node_modules/core-js/modules/_dom-create.js","webpack://jso/node_modules/core-js/modules/_fails.js","webpack://jso/src/errors/Error.js","webpack://jso/src/errors/ExpiredTokenError.js","webpack://jso/node_modules/core-js/modules/_promise-resolve.js","webpack://jso/node_modules/core-js/modules/_perform.js","webpack://jso/node_modules/core-js/modules/_task.js","webpack://jso/node_modules/core-js/modules/_species-constructor.js","webpack://jso/node_modules/core-js/modules/_html.js","webpack://jso/node_modules/core-js/modules/_library.js","webpack://jso/node_modules/core-js/modules/_iter-define.js","webpack://jso/node_modules/core-js/modules/_add-to-unscopables.js","webpack://jso/node_modules/core-js/modules/_to-object.js","webpack://jso/node_modules/core-js/modules/_enum-bug-keys.js","webpack://jso/node_modules/core-js/modules/_shared.js","webpack://jso/node_modules/core-js/modules/_to-length.js","webpack://jso/node_modules/core-js/modules/_array-includes.js","webpack://jso/node_modules/core-js/modules/_iobject.js","webpack://jso/node_modules/core-js/modules/_property-desc.js","webpack://jso/src/EventEmitter.js","webpack://jso/src/Config.js","webpack://jso/src/errors/OAuthResponseError.js","webpack://jso/src/HTTP/FetcherJQuery.js","webpack://jso/src/HTTP/Fetcher.js","webpack://jso/src/Loaders/Popup.js","webpack://jso/src/Loaders/IFramePassive.js","webpack://jso/src/Loaders/HTTPRedirect.js","webpack://jso/src/store.js","webpack://jso/node_modules/core-js/modules/es7.promise.try.js","webpack://jso/node_modules/core-js/modules/es7.promise.finally.js","webpack://jso/node_modules/core-js/modules/_iter-detect.js","webpack://jso/node_modules/core-js/modules/_set-species.js","webpack://jso/node_modules/core-js/modules/_redefine-all.js","webpack://jso/node_modules/core-js/modules/_microtask.js","webpack://jso/node_modules/core-js/modules/_invoke.js","webpack://jso/node_modules/core-js/modules/core.get-iterator-method.js","webpack://jso/node_modules/core-js/modules/_is-array-iter.js","webpack://jso/node_modules/core-js/modules/_iter-call.js","webpack://jso/node_modules/core-js/modules/_for-of.js","webpack://jso/node_modules/core-js/modules/_an-instance.js","webpack://jso/node_modules/core-js/modules/es6.promise.js","webpack://jso/node_modules/core-js/modules/_iter-step.js","webpack://jso/node_modules/core-js/modules/es6.array.iterator.js","webpack://jso/node_modules/core-js/modules/web.dom.iterable.js","webpack://jso/node_modules/core-js/modules/_object-gpo.js","webpack://jso/node_modules/core-js/modules/_object-dps.js","webpack://jso/node_modules/core-js/modules/_object-create.js","webpack://jso/node_modules/core-js/modules/_iter-create.js","webpack://jso/node_modules/core-js/modules/_string-at.js","webpack://jso/node_modules/core-js/modules/es6.string.iterator.js","webpack://jso/node_modules/core-js/modules/es6.object.to-string.js","webpack://jso/node_modules/core-js/fn/promise.js","webpack://jso/node_modules/core-js/modules/es7.array.includes.js","webpack://jso/node_modules/core-js/fn/array/includes.js","webpack://jso/node_modules/core-js/modules/_object-pie.js","webpack://jso/node_modules/core-js/modules/_object-gops.js","webpack://jso/node_modules/core-js/modules/_to-absolute-index.js","webpack://jso/node_modules/core-js/modules/_object-keys-internal.js","webpack://jso/node_modules/core-js/modules/_object-assign.js","webpack://jso/node_modules/core-js/modules/_to-primitive.js","webpack://jso/node_modules/core-js/modules/_ie8-dom-define.js","webpack://jso/node_modules/core-js/modules/es6.object.assign.js","webpack://jso/node_modules/core-js/fn/object/assign.js","webpack://jso/src/JSO.js","../src/js/3party/kpas.js","../src/js/3party/messagehandler.js","../src/js/3party/multilanguage.js","../src/js/3party/nrk.js","../src/js/3party/privacypolicy.js","../src/js/3party/uob7.js","../src/js/3party/vimeo.js","../src/js/3party/vimeoplayer.js","../src/js/3party/youtube.js","templates.js","../src/js/api/api.js","../src/js/settingsRoot.js","../src/js/utilRoot.js","../src/js/modules/announcements.js","../src/js/modules/badges.js","../src/js/modules/courselist.js","../src/js/modules/coursepage.js","../src/js/modules/coursesettings.js","../src/js/modules/dataporten.js","../src/js/modules/discussion-topics.js","../src/js/modules/enroll.js","../src/js/modules/fknr.js","../src/js/modules/footer.js","../src/js/modules/greeting.js","../src/js/modules/groups.js","../src/js/modules/login.js","../src/js/modules/menu.js","../src/js/modules/pages.js","../src/js/modules/powerfunctions.js","../src/js/modules/routes.js","../src/js/modules/template.js","../src/js/modules/tinyMCEEditor.js","../src/js/modules/uidp.js","../src/js/modules/util.js","../src/js/settings.js","../src/js/i18n.js","../src/js/main.js","../src/addons/canva_badges/js/canvas_profile_badges.js"],"names":["receiveMessage","evt","CourseOptions","course","option","code","course_code","toUpperCase","upperCaseOption","delimitor","this","indexOf","_this2","hasOption","window","postMessage","addEventListener","h5pResizerInitialized","actionHandlers","hello","iframe","data","respond","style","width","getBoundingClientRect","resize","contentWindow","removeEventListener","prepareResize","clientHeight","scrollHeight","height","event","context","iframes","document","getElementsByTagName","i","length","source","action","undefined","origin","ready","src","Handlebars","__module4__","SafeString","string","prototype","toString","__module3__","__dependency1__","escapeChar","chr","escape","extend","obj","value","key","Object","hasOwnProperty","call","escapeExpression","possible","test","replace","badChars","isEmpty","isArray","__exports__","&","<",">","\"","'","`","isFunction","Array","_typeof","__module5__","Exception","message","node","line","firstLine","firstColumn","tmp","Error","constructor","idx","errorProps","lineNumber","column","__module2__","__dependency2__","HandlebarsEnvironment","helpers","partials","registerDefaultHelpers","instance","registerHelper","arg","arguments","options","inverse","fn","each","ret","createFrame","j","index","first","last","conditional","hash","includeZero","Utils","level","parseInt","log","logger","VERSION","COMPILER_REVISION","REVISION_CHANGES","1","2","3","4","objectType","name","not","registerPartial","str","methodMap","0","DEBUG","INFO","WARN","ERROR","method","console","object","__module6__","__dependency3__","checkRevision","compilerInfo","compilerRevision","currentRevision","runtimeVersions","compilerVersions","template","templateSpec","env","invokePartialWrapper","partial","result","VM","invokePartial","apply","compile","container","programs","program","programWrapper","_program","merge","param","common","programWithDepth","noop","namespace","args","slice","prog","concat","depth","Function","__module1__","__dependency4__","__dependency5__","base","runtime","create","hb","spec","__module7__","LocationInfo","locInfo","first_line","first_column","lastColumn","last_column","lastLine","last_line","AST","ProgramNode","statements","inverseStrip","inverseLocationInfo","firstInverseNode","type","strip","right","left","MustacheNode","rawParams","open","charAt","escapeFlag","escaped","SexprNode","sexpr","isRoot","id","params","eligibleHelper","isHelper","isSimple","PartialNode","partialName","BlockNode","mustache","close","original","path","isInverse","ContentNode","HashNode","pairs","IdNode","parts","dig","l","part","separator","isScoped","push","join","stringModeValue","PartialNameNode","DataNode","StringNode","IntegerNode","integer","Number","BooleanNode","bool","CommentNode","comment","__module9__","stripFlags","Parser","yy","parser","trace","symbols_","error","root","EOF","simpleInverse","statement","openInverse","closeBlock","openBlock","CONTENT","COMMENT","OPEN_BLOCK","CLOSE","OPEN_INVERSE","OPEN_ENDBLOCK","OPEN","OPEN_UNESCAPED","CLOSE_UNESCAPED","OPEN_PARTIAL","partial_option0","sexpr_repetition0","sexpr_option0","dataName","STRING","INTEGER","BOOLEAN","OPEN_SEXPR","CLOSE_SEXPR","hash_repetition_plus0","hashSegment","ID","EQUALS","DATA","pathSegments","SEP","$accept","$end","terminals_","5","14","15","16","18","19","20","22","23","24","25","32","33","34","35","36","40","41","42","44","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","table","8","9","11","12","13","6","7","17","21","30","43","26","10","28","27","29","31","37","38","39","defaultActions","50","parseError","parse","input","lex","token","self","lexer","stack","vstack","lstack","recovering","setInput","yylloc","yyloc","ranges","symbol","preErrorSymbol","state","r","p","len","newState","expected","yyval","errStr","showPosition","text","match","loc","range","_input","_more","_less","done","matched","conditionStack","offset","ch","unput","lines","split","substr","oldLines","more","less","n","pastInput","past","upcomingInput","next","pre","c","tempMatch","rules","_currentRules","flex","matches","begin","condition","popState","pop","conditions","topState","pushState","yy_","$avoiding_name_collisions","YY_START","start","end","mu","inclusive","emu","com","INITIAL","__module8__","__module10__","Compiler","precompile","ast","environment","JavaScriptCompiler","compileInput","compiled","compiler","disassemble","opcode","opcodes","out","equals","other","otherOpcode","children","guid","depths","list","knownHelpers","helperMissing","blockHelperMissing","if","unless","with","accept","_program2","sort","a","b","compileProgram","usePartial","addDepth","block","_block","classifySexpr","helperSexpr","simpleSexpr","ambiguousSexpr","_hash","pair","val","stringParams","_partial","content","_content","_mustache","noEscape","isBlock","setupFullMustacheParams","knownHelpersOnly","_sexpr","declare","isEligible","pushParams","__module11__","Literal","nameLookup","parent","wrap","isValidJavaScriptVariableName","revision","appendToBuffer","initializeBuffer","quotedString","asObject","isChild","environments","aliases","preamble","stackSlot","stackVars","registers","hashes","compileStack","inlineStack","compileChildren","stripNext","pushSource","createFunctionContext","copies","lastContext","locals","alias","substring","mergeSource","functionSource","buffer","blockValue","setupParams","replaceStack","current","splice","ambiguousBlockValue","topStack","lastHelper","appendContent","pendingContent","append","flushInline","local","popStack","appendEscaped","getContext","lookupOnContext","pushContext","pushStackLiteral","resolvePossibleLambda","functionType","lookup","lookupData","pushStringParam","pushString","emptyHash","pushHash","values","types","contexts","popHash","expr","pushLiteral","pushProgram","programExpression","invokeHelper","paramSize","useRegister","helper","setupHelper","nonHelper","paramsInit","callParams","helperMissingParams","invokeKnownHelper","invokeAmbiguous","helperCall","helperName","nextStack","assignToHash","child","matchExistingProgram","programParams","register","item","pushStack","incrStack","callback","createdStack","usedLiteral","prefix","inline","isInline","top","topStackName","entry","wrapped","missingParams","setupOptions","reservedWords","compilerWords","RESERVED_WORDS","_create","RegExp","s","csv","defaults","delimiter","headers","hooks","castToScalar","hasDot","isNaN","parseFloat","parsers","endOfEntry","rowNum","colNum","onParseEntry","hookVal","exit","endOfValue","onParseValue","hook","escSeparator","escDelimiter","matchSrc","m0","splitLines","endOfLine","entries","prevChar","parseEntry","toArray","config","toArrays","toObjects","headerOptions","headerLine","fromArrays","arrays","escaper","experimental","output","fromObjects2CSV","objects","csvEntry2Array","csv2Array","csv2Dictionary","jQuery","e","t","exports","module","define","amd","o","modules","__webpack_require__","configurable","enumerable","get","__esModule","default","uid","Symbol","USE_SYMBOL","store","Math","__g","version","__e","TypeError","createDesc","f","core","hide","redefine","ctx","$export","h","F","IS_GLOBAL","IS_STATIC","IS_PROTO","IS_BIND","target","global","expProto","own","exp","has","SRC","$toString","TPL","O","safe","u","defineProperty","writable","BasicLoader","url","_classCallCheck","utils","round","Date","getTime","random","parseQueryString","qs","d","decodeURIComponent","q","urlParams","exec","scopes","uniqueList","items","uniqueItems","resultItems","msg","debug","unshift","k","res","encodeURIComponent","firstSeparator","aFunction","IE8_DOM_DEFINE","toPrimitive","dP","anObject","P","resolve","reject","TAG","it","ARG","callee","ceil","floor","defined","enumBugKeys","px","is","createElement","props","ExpiredTokenError","isObject","newPromiseCapability","promiseCapability","promise","defer","invoke","html","cel","process","setTask","clearTask","MessageChannel","Dispatch","counter","queue","run","g","listener","y","port","channel","setTimeout","set","clear","SPECIES","S","Iterators","$iterCreate","setToStringTag","getPrototypeOf","ITERATOR","BUGGY","returnThis","methods","DEF_VALUES","VALUES_BUG","proto","$native","$default","$entries","$anyNative","IteratorPrototype","LIBRARY","keys","_","w","ArrayProto","min","toLength","toAbsoluteIndex","EventEmitter","_callbacks","Config","assign","pointer","splittedKeys","defaultValue","isRequired","_Error2","OAuthResponseError","error_description","_ExpiredTokenError","FetcherJQuery","jso","jquery","opts","Promise","fail","jqXHR","textStatus","errorThrown","_this","wipeTokens","ajax","reccur","getTokenOpts","fetchOpts","mode","getToken","catch","err","then","Authorization","access_token","_fetch","fetch","Fetcher","response","status","_BasicLoader2","Popup","popupCompleted","newwindow","location","href","focus","IFramePassive","timeout","isCompleted","_utils2","uuid","eventMethod","setAttribute","encodedHash","search","_completed","_failed","errorCallback","appendChild","element","getElementById","parentNode","removeChild","_cleanup","HTTPRedirect","_utils","localStorage","setItem","JSON","stringify","getItem","removeItem","scope","tokens","usethis","now","epoch","expires","hasScope","provider","getTokens","filterTokens","saveTokens","perform","try","speciesConstructor","promiseResolve","finally","onFinally","SAFE_CLOSING","riter","iter","arr","DESCRIPTORS","macrotask","Observer","isNode","flush","head","notify","navigator","standalone","observe","characterData","return","isArrayIter","getIterFn","BREAK","RETURN","v","step","Internal","classof","anInstance","forOf","task","microtask","newPromiseCapabilityModule","$Promise","empty","USE_NATIVE","_x","FakePromise","PromiseRejectionEvent","isThenable","_n","_c","_v","ok","domain","handler","_h","M","isReject","onUnhandled","unhandled","isUnhandled","_a","onHandleUnhandled","$reject","$resolve","_d","_w","executor","reaction","OwnPromiseCapability","newGenericPromiseCapability","Wrapper","capability","$$reject","m","all","remaining","alreadyCalled","C","race","toIObject","_t","kind","addToUnscopables","getKeys","wks","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","explicit","Collection","toObject","IE_PROTO","ObjectProto","dPs","Empty","createDict","iframeDocument","descriptor","Constructor","String","charCodeAt","TO_STRING","point","$includes","includes","propertyIsEnumerable","max","arrayIndexOf","gOPS","pIE","IObject","$assign","B","K","A","aLen","getSymbols","isEnum","valueOf","default_config","lifetime","JSO","configure","providerID","getProviderID","Loader","callbacks","getValue","newstore","loader","client_id","atoken","getState","processReceivedToken","received","expires_in","saveToken","restoreHash","emit","Headers","btoa","tokenRequest","grant_type","redirect_uri","body","encodeQS","httpResponse","json","tokenResponse","getResponseFromURL","processTokenResponse","processAuthorizationCodeResponse","processErrorResponse","request","require","scopesRequire","_this3","_getRequiredScopes","allowredir","_authorize","authurl","openid","authorization","_this4","response_type","_getRequestScopes","scopeList","nonce","encodeURL","saveState","gotoAuthorizeURL","execute","mmooc","kpas","showInfo","groups","show","getJsonData","progressId","d3","on","loaded","innerHTML","createDiagram","graphicId","isTeacherOrAdmin","courseId","groupsInfo","iframeSrc","municipalityId","countyId","messageHandler","findDomForWindow","sourceWindow","_i","init","_error","uob","setVimeoPlayerReady","subject","connectedMsg","sendMsg","api","getUserGroups","usergroupsmsg","util","updateInformationPane","getCurrentCourseId","getUserGroupsForCourse","dom","elem","parentElement","bgColor","getComputedStyle","getPropertyValue","bgColorMessage","kpasCheckElement","MultilangUtils","language","LANGUAGES","filter","lang","reduce","tooltipText","menu","tooltipRegexpPattern","attrSelector","querySelector","tooltip","getAttribute","tooltipParsedResult","getParsedTooltipText","spanned","getSpannedText","newTooltipText","createNewTooltipText","selectors","map","selector","querySelectorAll","flatMap","nodeList","from","forEach","makeSpansOf","textContent","splitArray","newContent","_i2","childNodes","every","childNode","nodeType","URLSearchParams","COOKIE_NAME","languageCode","isValidLanguage","history","replaceState","pathname","cookie","langCode","getLanguageParameter","langCookie","getLanguageCookie","isMultilangCourse","getLanguageCode","getLocale","activeLang","setLanguageCookie","setLanguageParameter","createCss","some","displayValue","toLowerCase","doApply","doc","editorCss","applyColorCodingInEditor","styleElement","endsWith","makeSpansForSelectors","multilanguage","makeSpansOnPage","performPrevNextTooltip","makeSpansForTooltip","performNextTooltip","performPrevTooltip","initializeCss","nrk","mmoocLoadScript","privacyPolicy","currentPrivacyPolicyVersion","displayPrivacyPolicyDialog","renderTemplateWithData","privacyPolicyLink","settings","privacyPolicyBoxPosition","insertAdjacentHTML","before","onclick","privacyPolicyCheckbox","checked","disabled","saveUserPrivacyPolicyVersion","remove","isAuthenticated","_error2","getJSON","kpasinfo","privacyPolicyVersion","loadUserPrivacyPolicyVersion","userData","uobAddComponents","onElementRendered","$content","re","$tooltipElements","el","$tables","find","$table","_idx","_item","prev","trim","contents","strSetNum","strAnchor","strHTML","tableFound","strValue","strIndex","attr","acc","getElementsByClassName","classList","toggle","firstElementChild","panel","nextElementSibling","maxHeight","$tabs","tabs","active","collapsible","heightStyle","beforeActivate","ui","oldPanel","click","activate","beforeLoad","load","$revealBody","strSelector","iHashPos","lastIndexOf","css","$revealButton","button","icons","secondary","$button","slideUp","slideDown","$regexpInput","$input","strData","$data","$regexpButton","strDataRoot","strInput","strRegExp","$ratingTable","isTeacher","hasAnyRole","strParams","title","ENV","current_user_id","current_user","display_name","strRating","aBoxTags","found","strTag","patt","$anchor","strHref","file_id","isPreviewable","displayName","$a","$img","after","$div","onElementMissing","$identity","vimeoPlayerReady","vimeoTranscriptInitialized","vimeo","uobInititalized","onPage","regex","roles","cb","current_user_roles","_attempts","transcript","vimeoIframeId","vimeoVideoId","playbackRate","transcriptId","transcriptLoadingId","transcriptParentId","videoId","iframeId","transcriptButtonId","transcriptContentId","player","transcriptParentDiv","hrefPrefix","captionsLoaded","captionTimeout","captionsArr","captions","currentCaptionIndex","nextCaptionIndex","initializePlayer","Vimeo","Player","playerPlaying","playerNotPlaying","getVideoTitle","setPlaybackRate","findCaptionIndexFromTimestamp","timeStamp","duration","il","getStartTimeFromCaption","getDurationFromCaption","clearCurrentHighlighting","timeStampId","getTimeIdFromTimestampIndex","removeClass","highlightNextCaption","timestampId","addClass","targetParent","scrollTop","offsetTop","offsetHeight","calculateTimeout","currentTime","startTimeNextCaption","timeoutValue","setCaptionTimeout","clearTimeout","adjustedTimeoutValue","getPlaybackRate","highlightCaptionAndPrepareForNext","getCurrentTime","setCurrentTime","seekToTime","seconds","play","getPaused","paused","highlightCaptionFromTimestamp","startTime","removeLeadingAndTrailingDash","updateTranscriptText","srt_output","noOfSentencesInParagraph","captionText","displayErrorMessage","oTranscriptArea","transcriptContentArea","createTranscriptArea","br","getTranscriptSelectId","transcriptArea","createLanguageMenu","selectedLanguage","getTextTracks","tracks","transcriptSelectId","languageTracks","onchange","autoPositionTranscriptParent","insertAfterSibling","iframeParent","iframeParentStyle","getVimeoVideoIdFromUrl","insertBefore","nextSibling","insertTranscriptParent","transcriptLoaded","transcriptXml","errorMessage","preferredLanguage","getPreferredLanguage","languages","selectedLanguageCode","nbLanguageAvailable","languageNo","languageTotal","getTranscriptId","getTranscriptParentId","getTranscriptContentId","getIFrameId","getVideoId","newPlaybackRate","getPlayer","getTranscript","oTranscript","success","XMLHttpRequest","transcriptContainer","initialized","noOfVimeoVideos","noOfInits","getTranscriptFromTranscriptId","_transcript","getNoOfVimeoVideos","getUniqueIframeId","vimeoId","_transcript2","globalThis","isFinite","E","T","firstChild","XDomainRequest","onload","responseText","domain_status_code","onerror","send","warn","userAgent","shift","WeakMap","_id","x","add","drain","chain","failure","triggered","def","__NPO__","setImmediate","_t2","N","Boolean","ownerDocument","defaultView","nodeName","_window","_onMessage","_originalElement","delete","isEnabled","isFullscreen","callMethod","time","removeAttribute","fullscreenchange","fullscreenerror","off","documentElement","requestFullscreen","exitFullscreen","defineProperties","fullscreenElement","fullscreenEnabled","VimeoPlayerResizeEmbeds_","paddingBottom","bottom","youtube","transcriptIdPrefix","YT","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","transcriptArr","seekTo","playVideo","previousOnYouTubePlayerAPIReady","onYouTubePlayerAPIReady","APIReady","getTranscriptFromVideoId","getIframe","PlayerState","PLAYING","getScript","depth0","stack1","program1","checkReadStateFor","findRightUrlFor","localize","created_at","program2","program4","activities","program3","program5","program7","isMobileOrTablet","courseLabel","coursesAmountText","YouAreRegisteredToXCoursesText","enrolled","program8","program6","program10","depth1","public_description","program11","ifUnmaintained","program13","program17","program15","courseAlert","depth2","queryString","self_enrollment_code","goToCourse","courseRegister","program19","program20","program22","program26","program24","coursesAmount","coursesEnrolledAmount","openCoursesGroupText","closeCoursesGroupText","courses","submission","attachments","getPathFromUrl","preview_url","program12","program14","getPeerReviewWorkflowIconClass","workflow_state","assessor","mmooc_url","late","norwegianDateAndTime","submitted_at","ifAllPeerReviewsAreComplete","peerReview","user","isPeerReviewFinished","isTeacherViewingStudentsSubmission","grade","assignment","points_possible","program21","getSubmissionAssessmentText","ifAtLeastOnePeerReviewIsComplete","program27","program25","program29","program31","program33","program35","submissionTitle","assignment_id","isPeerReview","ifHasRole","enrollments","urlForCourseId","syllabus_body","course_progress","program9","requirement_count","ifEquals","requirement_completed_count","percentage","subtitle","courseIsMultilanguage","otherLanguages","menuItems","toolList","program16","selectedMenuItem","languageOptions","ifAllModulesCompleted","percentageForModules","ifAllStudentModulesCompleted","percentageForStudentModules","dataportenGroup","member","privacypolicylink","homeOrganization","contactPoint","about","hoverOverText","group","avatar_url","members","groupId","feedback","alertMsg","unmaintainedSince","program18","notificationtouser","expiredCommunity","observer","pfdk","logInText","logInCanvasText","indent","program23","isCurrentHeader","isCurrent","html_url","ifItemIsCompleted","completion_requirement","mapItemType","overrideIconClassByTitle","backToCoursePage","ifIsIndented","program30","program28","urlForFirstNoneCompleteItem","ifItemTypeDiscussion","content_id","coursemodules","urlForFirstNoneCompletePrincipalItem","linkText","accounts","group_id","user_id","assigns","categories","description","heading","login_id","logins","label","displayInboxMenu","alertMenuItem","avatar_image_url","userId","userMergeLtiToolId","_ref","_urlToTypeMapping","_ajax","_env","_location","_uriPrefix","_defaultError","jqxhr","thrownError","_sendRequest","uri","_get","customError","student_id","_groupId","_readOnlyError","_post","post","_put","_delete","listModulesForCourse","cid","noOfModules","asyncsDone","getCurrentModuleItemId","moduleId","relativeUrl","paramName","getCurrentTypeAndContentId","contentElementRegexp","isContentRegexp","contentId","_tmp","getAllCourses","_callback","filteredCourses","filterSearchAllCourse","per_page","getAllPublicCourses","_callback2","getEnrolledCourses","_callback3","filterCourses","filterCourse","include","getModulesForCurrentCourse","getModulesForCourseId","getItemsForModuleId","currentUrl","utilRoot","getCourseIdFromUrl","getModuleItemSequence","moduleItemId","_callback4","moduleItemSequence","asset_id","asset_type","getCourse","isGroupDiscussion","DISCUSSION","IS_GROUP","getDiscussionTopic","discussion","group_category_id","getCurrentGroupId","getGroup","getGroupMembers","getCurrentModuleForItemOrTypeAndContentId","typeAndContentId","bCurrentItemFound","currentHeaderItem","_i3","_module","noOfItemsBelongingToThisHeaderDone","noOfItemsBelongingToThisHeader","completed","passed","getCurrentModuleItemForGroupDiscussion","groupTopicId","regexp","getSpecificGroupDiscussionTopic","groupDiscussion","_i4","currentTypeAndContentId","root_topic_id","getCurrentModule","currentModuleItemId","bFound","LOCALE","usesFrontPage","COURSE","default_view","getRoles","getUser","getUserProfile","getActivityStreamForUser","currentPageIsAnnouncement","size","currentPageIsModuleItem","getUnreadMessageSize","getSectionRecipients","recipientsContext","permissions","messageable_only","synthetic_contexts","postMessageToConversation","recipient","courseContext","recipients","getAccounts","getUsersForAccount","account","getCoursesForAccount","getCoursesForUser","getGroupCategoriesForAccount","getGroupCategoriesForCourse","_getGroupsForAccountHelper","accumulatedGroups","that","xhr","getResponseHeader","fullURI","getGroupsForAccount","getGroupCategory","categoryID","getGroupsInCategory","getGroupsInCourse","courseID","usersGroups","_i5","course_id","getSectionsForCourse","getSingleSection","sectionID","getSingleAssignment","assignmentId","getAssignmentsForCourse","getPagesForCourse","getDiscussionTopicsForCourse","getQuizzesForCourse","getSingleSubmissionForUser","getPeerReviewsForSubmissionId","submission_id","getPeerReviewsForAssignment","createPeerReview","assignmentID","submissionID","userID","enrollUser","enrollAction","enrollUserIdInSection","sectionId","etype","enrollment[user_id]","enrollment[type]","enrollment[enrollment_state]","enrollment[limit_privileges_to_course_section]","createGroup","categoryId","groupName","createSection","sectionName","course_section[name]","createGroupMembership","gid","createUserLogin","account_id","getQuiz","getGroupDiscussionTopics","getAnnouncementsForCourse","only_announcements","getEnrollmentsForCourse","getEnrollmentsForSection","getUsersEnrollmentsForCourse","_callback5","_defineProperty","ns","saveUserCustomData","loadUserCustomData","forced_read_state","hrefQueryString","hrefAmpQueryString","settingsRoot","feideEnrollRefferers","kpasApiUrl","getLinkToMyCourses","parse_query_string","query","vars","query_string","urlParamsToObject","checkReferrer","ref","referrer","isEnrollReferrer","permittedReferrers","hasPermittedRefferer","redirectFeideAuthIfEnrollReferrer","isEnrollCodeParamPassed","urlParamsObj","enrollCode","isLoginParamPassed","triggerForgotPasswordIfParamPassed","redirectToEnrollIfCodeParamPassed","design","newHref","linkToMyCourses","redirectToSamlIfUdirCourse","currentCourseId","isDeepLinkToUdirCourse","context_id","tmpHref","tmpHrefArr","announcements","hideMarkAsReadButton","updateNotificationsForUser","addMarkAsReadButton","discussionTopic","read_state","buttonHTML","markDiscussionTopicAsRead","printAnnouncementsUnreadCount","totalUnread","announcement","unread_count","printUnreadCountInTab","setAnnouncementsListUnreadClass","checkExist","setInterval","clearInterval","badges","resizeIframe","adaptHeightToIframeContentForId","initPage","resizeTimer","claimBadge","OpenBadges","urls","callBack","issue_no_modal","courseList","listCourses","parentId","appendTo","linkToAvailableCourses","getLinkToAvailableCourses","i18n","CoursePlural","NoEnrollments","sortedCourses","sortCourses","categorys","getCourseCategories","getCoursesCategorized","Course","updateProgressForRoleBasedCourses","showAddCourseButton","AddACourse","showFilter","filterOptions","applyFilter","_this5","courseCode","isCourseCompleted","_i6","_module2","coursePage","showCourseInvitation","enrollButton","linkToSelectedCourse","selectedCourseId","EnrollButton","preventDefault","listModulesAndShowProgressBar","progressHTML","modulesHTML","isActiveCourseRoleBased","isPrincipal","CourseProgressionTitle","navname","GoToModule","ModulePlural","isMMOOCLicense","footer","addLicenseInFooter","postModuleCoursePageProcessing","discussionTopics","printDiscussionUnreadCount","hideCourseInvitationsForAllUsers","closest","overrideUnregisterDialog","selfUnenrollmentButton","selfUnenrollmentDialog","DropCourse","prepend","DropCourseDialogText","JoinCourseDialogText","replaceUpcomingInSidebar","coming_up","replaceWith","eventsAndDeadlinesTitle","_displayDeadlines","allDeadlines","date","monthName","getMonthShortName","getDate","upcoming","findUpcomingDate","row","position","scroll","animate","printDeadlinesForCourse","all_events","context_codes","getCaledarEvents","end_at","deadlineObj","assignments","all_day_date","dates","nearestDate","today","nearestDiff","Infinity","noMoreDeadlines","diff","coursesettings","getStyle","color","bgcolor","getBooleanOutput","printRowInTableId","c1","c2","rowHtml","printRowWithColorInTableId","printRedRowInTableId","printGreenRowInTableId","printRowWithColor","printRedRow","getSanityTableId","getWaitIconRowId","tableId","waitIcon","clearWaitIcon","printPageTable","postProcessPageTable","req","reqtype","printSubHeaderTable","postProcessSubHeaderTable","printFileTable","contentHtml","postProcessFileTable","printDiscussionTable","postProcessDiscussionTable","discussion_type","printAssignmentTable","postProcessAssignmentTable","submission_types","allowed_extensions","due_at","peer_reviews","automatic_peer_reviews","hvvfrist","peer_reviews_assign_at","peer_review_count","printQuizTable","postProcessQuizTable","printSanityTableForItem","postProcessSanityTableForItem","getCommonUrlKey","urlPrefix","storeItem","AllModuleItems","getSanityTableForModule","moduleItems","published","min_score","postProcessSanityTableForModule","processModules","postProcessModules","getTitle","pageType","DISCUSSIONTYPE","PAGETYPE","getPublishedString","getOrphanTableId","createTable","printRowWithColorInOrphanTable","c3","printRedRowInOrphanTable","printGreenRowInOrphanTable","getOrphanItemsTable","itemList","orphans","getGroupCategoryTableId","getSectionTableId","ASSIGNMENTTYPE","QUIZTYPE","_error3","addSanityCheckButton","bCancel","contentarea","coursePublished","pages","discussions","quizzes","addListSectionsButton","sections","resultHtml","addListUsersButton","tableHtml","section","enrollment","course_section_id","sis_user_id","addListAssignmentsButton","addListGroupsButton","category","dataporten","dataportenCallback","dataportenClientId","kpasapiurl","client","getSilentOpts","silent_opts","prompt","getClient","updateStatus","clearStatus","updateContent","clearContent","display","checkToken","tokenBelongsToLoggedInUser","belongs","canvasUserId","dataportenUserInfo","validToken","userid","userid_sec","printLogoutOptions","hiddenIframeLogin","displayUserInfo","getUserInfo","userInfo","displayGroups","getFeideIdFromDataportenUserInfo","userIdSec","userProfile","feideId","wipeToken","printLoginOptions","dataportenHtml","authorizePopup","beforeSend","setRequestHeader","errMsg","alert","isMemberOf","groupCategory","canvasGroups","addUserToGroup","unenrollmentIds","displayOneGroup","membership","basic","dataportenGroupHtml","dataportenGroups","setLoader","setDiscussionTopicPubDate","formattedDate","posted_at","pubDate","prependTo","setDiscussionsListUnreadClass","insertSearchButton","discussionItems","getDiscussionItems","groupDiscussionTopics","printUnreadCountOnIcon","printGroupDiscussionUnreadCount","sectionNames","totalAsyncs","allUnreadCounts","rootTopicUnreadCountsObj","rootTopicId","unreadCount","unreadCountForRootTopic","totalRootTopicUnreadCounts","totalRootTopicUnreadCountsObj","uniqueTotalRootTopicUnreadCounts","used","printUnreadCountInDiscussionsList","unread","discussionId","groupDiscussionsUnreadCount","showUnreadCountInDiscussionList","hideUnreadCountInDiscussionList","injectReplyButtonAction","userGroups","tinyMceEditorIsInDOM","tinyMCEEditor","injectGroupHashtags","subReplyButtons","_i7","enroll","changeEnrollInformationPolicyLink","informationPolicy","termsOfService","addForgotPasswordLink","buttonId","forgotPasswordButtonHtml","forgotPasswordButton","changeEnrollPage","printAllCoursesContainer","allAvailableCoursesIngress","AllAvailableCoursesIngress","goToAllCourses","printAllCourses","allCourses","enrolledCourses","allCoursesWithStatus","setCourseEnrolledStatus","allCoursesWithStatusSorted","coursesCategorized","coursesCategory","courseRegisterText","LogInCanvas","CourseRegisterWhenAuthenticated","CoursesAmount","GoToCourse","OpenCoursesGroup","CloseCoursesGroup","YouAreRegisteredToXCourses","NoCoursesInfo","insertModalAndOverlay","setClickHandlers","accordionIndex","hasClass","toggleClass","tabIndex","mobileTabIndex","createHashTags","scrollToCourse","hashTag","currentTarget","firstCourseId","siblings","eq","currentHash","currentElementId","trigger","matchMedia","handleEnrollClick","keyCode","populateFilter","utgaatteKommuneNr","$mmoocLicenseElement","changeFooter","$parentElementOfOldFooter","aboutThePlatform","greeting","redesignPage","fixLinkToModules","firstItemPerModule","oldPath","moduleNumber","enableGreetingButtonIfNecessary","$diplomaButton","$formIdDiv","$nameEntryIdDiv","$emailEntryIdDiv","formId","nameEntryId","emailEntryId","str1","str2","googleurl","nameEntry","emailEntry","profile","primary_email","dataType","complete","enableDownloadDiplomaButtonIfNecessary","$downloadDiplomaButton","$scriptUrlDiv","$diplomaIdDiv","scriptUrl","diplomaId","downloadingDiploma","bufferArray","Int8Array","diploma","blob","Blob","link","URL","createObjectURL","download","diplomaName","innerText","enableNewGreetingButtonIfNecessary","$newDiplomaButton","$diplomaId","interceptLinkToGroupPageForHref","interceptLinksToGroupPage","interceptLinksToTeacherGroupPage","showGroupHeader","headerHTML","changeGroupListURLs","moveSequenceLinks","sequenceContainer","cloneSequenceContainer","clone","discussionContainer","login","handleLoginButtonClick","_html","LogInPopup","_renderCourseMenu","hideTabs","_insertCourseMenuHtml","languagesMap","languagesExcept","previousLanguage","newLanguage","setActiveLanguage","groupsUrl","useDataportenGroups","displayGroupsTab","displayDiscussionsTab","tools","getToolsInLeftMenu","tool","activeTool","activeToolName","activeToolPath","badgeSafe","extractBadgesLinkFromPage","useCanvaBadge","setCanvaBadgesLink","canvaBadgeObject","handleMenuClick","createStyleSheet","createTextNode","sheet","insertCustomMenuElementInTopMenu","menuSelectId","menuId","mouseleave","stylesheet","listModuleItems","courseIsRoleBased","tooltipsHandled","BackToCoursePage","updatePrevAndNextButtons","postModuleMenuProcessing","$trigger","handlePrevModuleItem","prevItem","prevButton","updateButtonTooltip","handleNextModuleItem","nextItem","nextButton","oldText","tooltipType","newText","update","firstValidItem","lastValidItem","prevSet","nextSet","currentFound","showLeftMenu","insertRule","cssRules","renderLeftHeaderMenu","removeGlobalGradesLink","removeGroupsLink","renderUnauthenticatedMenu","alterHomeLink","_html2","LogIn","htmlMobile","hideRightMenu","showMobileTabs","selectedTab","notSelectedTabs","allTabs","desktopViewport","tabsNotSelected","tabsHamburger","hideSectionTabsHeader","showHamburger","header","showMobileMenu","mobileMenu","showUserMenu","displayAlertsMenuItem","conversations","msgBadge","setMenuActiveLink","unreadNotifications","badge","notifications","showAllItems","showCourseMenu","showBackButton","groupHeaderHTML","showDiscussionGroupMenu","strLeft","sourceStr","keyStr","_addGetHelpFromteacherButton","_getSectionRecipientFromGroupName","sectionRecipients","_tilkallVeilederFeilet","_sendMessageToSectionTeachers","groupCourseId","sectionRecipient","sectionRecipientTeachers","GroupGetInTouchSubject","discussionUrl","discussionAndGroupTitle","discussionTitle","newLine","WeHaveAQuestionToTeacherInTheDiscussion","_addClickEventOnGetHelpFromTeacherButton","getHelpButtonFromteacherButtonHTML","CallForInstructorHoverOverText","getPageTitleAfterColon","displayCallForAssistanceButtonInGroupDisccussions","activity","Badgesafe","host","urlToCanvaBadgesApi","CanvaBadgeProtocolAndHost","crossDomain","injectGroupsPage","detach","alterCourseLink","updateButtonText","getHeaderBarJson","headerBarPosition","headerBar","addButton","buttonHtml","headerBarJson","modifyMarkAsDoneButton","bind","change","addGotoModuleButton","addStudentViewButton","COURSE_ID","updateSidebarWhenMarkedAsDone","icon","principal","activeHeader","activeListId","activeList","noOfItemsInActiveList","noOfItemsDoneInActiveList","headerIcon","updateSidebarWhenContributedToDiscussion","createMarkAsDoneButtonClone","markAsDoneButton","cloneButtonId","oldMarkAsDoneButtonClone","newMarkAsDoneButtonClone","cloneNode","showInformationPane","isMemberOfExpiredCommunity","paneHTML","hideInformationPane","showBackLinkIfNecessary","linkBack","LinkBack","redesignAssignmentPage","_isAssignmentWithPeerReview","returnValue","peerReviewer","PeerReviewer","_getPeerReviewArray","_getWorkFlowState","peerReviewLinkClass","_workflow_state","$peerReviewLinks","_peerReview","_appendPeerReviewHtmlOnRightSide","peerReviewHtml","_appendPeerReviewWarningInContentsColumn","peerReviewWarningHtml","_displayRightColumnContents","redesignPeerReviewAndOwnSubmissionDetailsPage","_isCodeRunningInIframe","SUBMISSION","_getSubmissionTitle","PeerReview","DetailsAboutYourDelivery","submission_user_id","DetailsAboutDelivery","_isTeacherViewingStudentsSubmission","_isPeerReviewFinished","_isRubric","_addClickEventOnOpenAssessmentButton","_updateDomAfterSaveRubricButtonClick","_appendCompletedPeerReviewHtml","submissionObject","submissionHtml","_logDataToConsole","_isPeerReview","peerReviewText","originalSubmissionHeader","_isOwnSubmission","deliveryText","Delivery","_appendSubmissionHtml","isRubric","isOwnSubmission","powerFunctions","rootId","_render","AssignPeerReviewsForGroup","_renderView","peerReviewAssignments","peerReviewAssignment","_i8","activeAssignment","assignmentDue","_peerReviewDue","getMonth","getFullYear","peerReviewDue","selectedGroups","_this6","_listPeerReviewsForGroup","_showInput","peerReviewsInGroup","count","inArray","groupsMembers","allSubmitted","noOfAssignedPeerReviewsForStudent","noOfPeerReviewersForStudent","peerReviews","groupsMembersSorted","_findSubmissionsForGroups","totalMembers","_i9","_j","_i10","_i11","_printSingleGroup","submitted","_i12","_i13","assessor_id","_i14","noOfAssignedPeerReviews","_j2","_k","unbind","numOfReviews","_isNormalInteger","_createPeerReviewsForGroups","assesorIndex","skipped","_i15","_l","_k2","defaultNumberOfReviews","ListStudentProgress","_error4","_printStudentProgressForSection","moduleID","sectionIndex","sectionParams","moduleParams","students","itemsForStudent","Menu","_setUpClickHandlers","routes","Route","paths","queryStrings","isAlreadyHandled","addRouteForPath","addRouteForQueryString","addRouteForPathOrQueryString","performHandlerForUrl","route","hasQueryString","number1","number2","var1","var2","isUnmaintained","role","value1","value2","principalRoleType","timestamp","year","day","monthNumber","Months","numberOfReviews","numberOfReviewsCompleted","singlePeerReview","SubmissionIsNotAssessed","SubmissionIsAssessedByOne","SubmissionIsAssessedByAll","OutOf","SubmissionAssessmentsAreReady","atLeastOnePeerReviewComplete","allPeerReviewsAreComplete","percentageProgress","firstIncompleteItemHtmlUrl","optionalValue","getGroupNames","groupNames","_i16","hyphenateGroupNames","regExp","hyphenatedGroupNames","_i17","trimmedName","hyphenatedName","hashtagGroupNames","hashtaggedGroupNames","_i18","hashtaggedGroupName","htmlDecode","encoded","DOMParser","parseFromString","hashtaggedHyphenatedGroupNames","joinedNames","htmlElementWithGroupNames","rawContent","tinyMCE","activeEditor","getContent","setContent","uidp","uidpCallback","uidpClientId","uidpUserInfo","getFeideIdFromuidpUserInfo","uidpHtml","id_token","loginType","dashboard","valideToken","courseListEnum","normalCourse","allCoursesList","myCoursesList","mmoocScript","mmoocScriptElement","templates","check","vendor","opera","getPageTitleBeforeColon","filterCoursesOnAccountId","callWhenElementIsPresent","classId","checkClassId","arraySorted","array","elementToSort","field1","toLocaleLowerCase","field2","localeCompare","usage","goBack","oldHash","back","preventPropagation","containerId","frameId","isEnrolledAsStudent","isEnrolledAsObserver","enrollmentsHasRoleInCourse","hasRoleInCourse","isObserver","isEnrolledWithRole","isPfDKCourse","hasOptionFunction","isRoleBasedCourse","postModuleProcessing","isAlertMsg","isNotificationToUser","isFeedback","getCountyOrCommunityNumber","groupDescription","memberOfUtgaattKommune","countyOrCommunityNumber","getGroupsInfo","bIncludeIndentedItems","firstHtmlUrl","firstItem","total","_error5","divId","setGlobalPeerReviewButtonState","disablePeerReviewButton","prop","month","getHours","getMinutes","getWeekdayShortName","getDay","hasOther","getCourseCategory","aParams","aCourseCode","bParams","categoryCourses","categoryObj","modulesFound","currentClass","debounce","func","wait","immediate","later","callNow","fun","thisp","urlHashToObject","updateRightMenuButtons","$this","_href","isCourseFrontpageForAllCoursesList","executeCallbackWhenObjectExists","functionWithObjectReference","maxTries","objectExistInterval","displayProfileLeftMenu","displayUserMergeButton","platformName","CourseContinue","amount","CreateAccountTitle","CreateAccountSubtitle","CourseDefinite","Module","CourseModules","Assignment","Discussion","Quiz","Page","ExternalUrl","ExternalTool","File","Announcement","DiscussionTopic","Conversation","Message","Submission","AssessmentRequest","Conference","Collaboration","NoTeacherFeedbackLink","courseView","opener","canvabadgesForCurrentCourse","frontPage","elementId","notificationButtonHTML","mergeUserButtonHTML","isBadgesafePage","extractPluginNumber","badgesafeUrl","_error6","protocol_and_host","isProfilePage","splits","$box","$badge","config_id","config_nonce","image_url"],"mappings":"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,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MC1aJhpE,KAAK0hC,MAAQ1hC,KAAK0hC,UAElB1hC,KAAK0hC,MAAMi2B,OAAU,WACnB,OACEC,mBAAqB,WACnBlkD,EAAA,mBAAqB8U,MACrB,IAAIygD,GAAuBv1D,EAAA,iBAEvB4Z,EAAOoU,MAAMiC,KAAKyF,uBAAsB,oBAC5C6/B,GAAqB37C,KAAKA,IAE5B47C,aAAe,WACb,GAAIC,GAA4Bz1D,EAAA,gCAC5B4Z,EAAOoU,MAAMiC,KAAKyF,uBAAsB,UAAYC,kBAAmB3H,MAAM4H,SAASD,kBAAmBuZ,iBAAkBlhB,MAAM4H,SAASsZ,iBAAkBC,aAAcnhB,MAAM4H,SAASuZ,aAAcC,MAAOphB,MAAM4H,SAAS8/B,kBACjOD,GAA0BnpD,OAAOsN,QCdvCoU,MAAQA,UAERA,MAAM2nC,SAAY,WAChB,QAASC,KACP51D,EAAA,YAAco/B,SAAQ,gBAGxB,QAASy2B,GAAgB9+B,GACpBA,EAAUK,KAAI,iBAAkBmhB,QAAU,IAI7Cqd,IAC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","file":"mmooc-min-localhost.js","sourcesContent":["\nwindow.addEventListener('message', receiveMessage, false);\nfunction receiveMessage(evt) {\n  return; //Unused code?  \n  obj = JSON.parse(evt.data);\n  if (obj.Sender != 'pfdkautoresize') {\n    return;\n  }\n  var PfDKiframes = document.getElementsByTagName('iframe');\n  for (var i = 0; i < PfDKiframes.length; i++) {\n    var iFrame = PfDKiframes[i];\n    if (iFrame.contentWindow === evt.source) {\n      iFrame.height = obj.Height;\n    }\n  }\n}\n","class CourseOptions {\n    static delimitor() {\n        return '::';\n    }\n\n    static hasOption(course, option) {\n        if (course) {\n            const code = course.course_code.toUpperCase();\n            const upperCaseOption = option.toUpperCase();\n            const delimitor = this.delimitor();\n\n            return code.indexOf(delimitor + upperCaseOption + delimitor) > -1;\n        }\n        return false;\n    }\n\n    static hasOptionFunction(option) {\n        return (course) => this.hasOption(course, option);\n    }\n}","// Source H5P resizer: https://h5p.org/sites/all/modules/h5p/library/js/h5p-resizer.js\r\n// H5P iframe Resizer\r\n(function () {\r\n  if (!window.postMessage || !window.addEventListener || window.h5pResizerInitialized) {\r\n    return; // Not supported\r\n  }\r\n  window.h5pResizerInitialized = true;\r\n\r\n  // Map actions to handlers\r\n  var actionHandlers = {};\r\n\r\n  /**\r\n   * Prepare iframe resize.\r\n   *\r\n   * @private\r\n   * @param {Object} iframe Element\r\n   * @param {Object} data Payload\r\n   * @param {Function} respond Send a response to the iframe\r\n   */\r\n  actionHandlers.hello = function (iframe, data, respond) {\r\n    // Make iframe responsive\r\n    iframe.style.width = '100%';\r\n\r\n    // Bugfix for Chrome: Force update of iframe width. If this is not done the\r\n    // document size may not be updated before the content resizes.\r\n    iframe.getBoundingClientRect();\r\n\r\n    // Tell iframe that it needs to resize when our window resizes\r\n    var resize = function () {\r\n      if (iframe.contentWindow) {\r\n        // Limit resize calls to avoid flickering\r\n        respond('resize');\r\n      }\r\n      else {\r\n        // Frame is gone, unregister.\r\n        window.removeEventListener('resize', resize);\r\n      }\r\n    };\r\n    window.addEventListener('resize', resize, false);\r\n\r\n    // Respond to let the iframe know we can resize it\r\n    respond('hello');\r\n  };\r\n\r\n  /**\r\n   * Prepare iframe resize.\r\n   *\r\n   * @private\r\n   * @param {Object} iframe Element\r\n   * @param {Object} data Payload\r\n   * @param {Function} respond Send a response to the iframe\r\n   */\r\n  actionHandlers.prepareResize = function (iframe, data, respond) {\r\n    // Do not resize unless page and scrolling differs\r\n    if (iframe.clientHeight !== data.scrollHeight ||\r\n        data.scrollHeight !== data.clientHeight) {\r\n\r\n      // Reset iframe height, in case content has shrinked.\r\n      iframe.style.height = data.clientHeight + 'px';\r\n      respond('resizePrepared');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Resize parent and iframe to desired height.\r\n   *\r\n   * @private\r\n   * @param {Object} iframe Element\r\n   * @param {Object} data Payload\r\n   * @param {Function} respond Send a response to the iframe\r\n   */\r\n  actionHandlers.resize = function (iframe, data) {\r\n    // Resize iframe so all content is visible. Use scrollHeight to make sure we get everything\r\n    iframe.style.height = data.scrollHeight + 'px';\r\n  };\r\n\r\n  /**\r\n   * Keyup event handler. Exits full screen on escape.\r\n   *\r\n   * @param {Event} event\r\n   */\r\n  var escape = function (event) {\r\n    if (event.keyCode === 27) {\r\n      exitFullScreen();\r\n    }\r\n  };\r\n\r\n  // Listen for messages from iframes\r\n  window.addEventListener('message', function receiveMessage(event) {\r\n    if (event.data.context !== 'h5p') {\r\n      return; // Only handle h5p requests.\r\n    }\r\n\r\n    // Find out who sent the message\r\n    var iframe, iframes = document.getElementsByTagName('iframe');\r\n    for (var i = 0; i < iframes.length; i++) {\r\n      if (iframes[i].contentWindow === event.source) {\r\n        iframe = iframes[i];\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!iframe) {\r\n      return; // Cannot find sender\r\n    }\r\n\r\n    // Find action handler handler\r\n    if (actionHandlers[event.data.action]) {\r\n      actionHandlers[event.data.action](iframe, event.data, function respond(action, data) {\r\n        if (data === undefined) {\r\n          data = {};\r\n        }\r\n        data.action = action;\r\n        data.context = 'h5p';\r\n        event.source.postMessage(data, event.origin);\r\n      });\r\n    }\r\n  }, false);\r\n\r\n  // Let h5p iframes know we're ready!\r\n  var iframes = document.getElementsByTagName('iframe');\r\n  var ready = {\r\n    context: 'h5p',\r\n    action: 'ready'\r\n  };\r\n  for (var i = 0; i < iframes.length; i++) {\r\n    if (iframes[i].src.indexOf('h5p') !== -1) {\r\n      iframes[i].contentWindow.postMessage(ready, '*');\r\n    }\r\n  }\r\n\r\n})();","/*!\r\n\r\n handlebars v1.3.0\r\n\r\nCopyright (C) 2011 by Yehuda Katz\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.\r\n\r\n@license\r\n*/\r\n/* exported Handlebars */\r\nvar Handlebars = (function() {\r\n// handlebars/safe-string.js\r\nvar __module4__ = (function() {\r\n  \"use strict\";\r\n  var __exports__;\r\n  // Build out our basic SafeString type\r\n  function SafeString(string) {\r\n    this.string = string;\r\n  }\r\n\r\n  SafeString.prototype.toString = function() {\r\n    return \"\" + this.string;\r\n  };\r\n\r\n  __exports__ = SafeString;\r\n  return __exports__;\r\n})();\r\n\r\n// handlebars/utils.js\r\nvar __module3__ = (function(__dependency1__) {\r\n  \"use strict\";\r\n  var __exports__ = {};\r\n  /*jshint -W004 */\r\n  var SafeString = __dependency1__;\r\n\r\n  var escape = {\r\n    \"&\": \"&amp;\",\r\n    \"<\": \"&lt;\",\r\n    \">\": \"&gt;\",\r\n    '\"': \"&quot;\",\r\n    \"'\": \"&#x27;\",\r\n    \"`\": \"&#x60;\"\r\n  };\r\n\r\n  var badChars = /[&<>\"'`]/g;\r\n  var possible = /[&<>\"'`]/;\r\n\r\n  function escapeChar(chr) {\r\n    return escape[chr] || \"&amp;\";\r\n  }\r\n\r\n  function extend(obj, value) {\r\n    for(var key in value) {\r\n      if(Object.prototype.hasOwnProperty.call(value, key)) {\r\n        obj[key] = value[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  __exports__.extend = extend;var toString = Object.prototype.toString;\r\n  __exports__.toString = toString;\r\n  // Sourced from lodash\r\n  // https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\r\n  var isFunction = function(value) {\r\n    return typeof value === 'function';\r\n  };\r\n  // fallback for older versions of Chrome and Safari\r\n  if (isFunction(/x/)) {\r\n    isFunction = function(value) {\r\n      return typeof value === 'function' && toString.call(value) === '[object Function]';\r\n    };\r\n  }\r\n  var isFunction;\r\n  __exports__.isFunction = isFunction;\r\n  var isArray = Array.isArray || function(value) {\r\n    return (value && typeof value === 'object') ? toString.call(value) === '[object Array]' : false;\r\n  };\r\n  __exports__.isArray = isArray;\r\n\r\n  function escapeExpression(string) {\r\n    // don't escape SafeStrings, since they're already safe\r\n    if (string instanceof SafeString) {\r\n      return string.toString();\r\n    } else if (!string && string !== 0) {\r\n      return \"\";\r\n    }\r\n\r\n    // Force a string conversion as this will be done by the append regardless and\r\n    // the regex test will do this transparently behind the scenes, causing issues if\r\n    // an object's to string has escaped characters in it.\r\n    string = \"\" + string;\r\n\r\n    if(!possible.test(string)) { return string; }\r\n    return string.replace(badChars, escapeChar);\r\n  }\r\n\r\n  __exports__.escapeExpression = escapeExpression;function isEmpty(value) {\r\n    if (!value && value !== 0) {\r\n      return true;\r\n    } else if (isArray(value) && value.length === 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  __exports__.isEmpty = isEmpty;\r\n  return __exports__;\r\n})(__module4__);\r\n\r\n// handlebars/exception.js\r\nvar __module5__ = (function() {\r\n  \"use strict\";\r\n  var __exports__;\r\n\r\n  var errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\r\n\r\n  function Exception(message, node) {\r\n    var line;\r\n    if (node && node.firstLine) {\r\n      line = node.firstLine;\r\n\r\n      message += ' - ' + line + ':' + node.firstColumn;\r\n    }\r\n\r\n    var tmp = Error.prototype.constructor.call(this, message);\r\n\r\n    // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\r\n    for (var idx = 0; idx < errorProps.length; idx++) {\r\n      this[errorProps[idx]] = tmp[errorProps[idx]];\r\n    }\r\n\r\n    if (line) {\r\n      this.lineNumber = line;\r\n      this.column = node.firstColumn;\r\n    }\r\n  }\r\n\r\n  Exception.prototype = new Error();\r\n\r\n  __exports__ = Exception;\r\n  return __exports__;\r\n})();\r\n\r\n// handlebars/base.js\r\nvar __module2__ = (function(__dependency1__, __dependency2__) {\r\n  \"use strict\";\r\n  var __exports__ = {};\r\n  var Utils = __dependency1__;\r\n  var Exception = __dependency2__;\r\n\r\n  var VERSION = \"1.3.0\";\r\n  __exports__.VERSION = VERSION;var COMPILER_REVISION = 4;\r\n  __exports__.COMPILER_REVISION = COMPILER_REVISION;\r\n  var REVISION_CHANGES = {\r\n    1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\r\n    2: '== 1.0.0-rc.3',\r\n    3: '== 1.0.0-rc.4',\r\n    4: '>= 1.0.0'\r\n  };\r\n  __exports__.REVISION_CHANGES = REVISION_CHANGES;\r\n  var isArray = Utils.isArray,\r\n      isFunction = Utils.isFunction,\r\n      toString = Utils.toString,\r\n      objectType = '[object Object]';\r\n\r\n  function HandlebarsEnvironment(helpers, partials) {\r\n    this.helpers = helpers || {};\r\n    this.partials = partials || {};\r\n\r\n    registerDefaultHelpers(this);\r\n  }\r\n\r\n  __exports__.HandlebarsEnvironment = HandlebarsEnvironment;HandlebarsEnvironment.prototype = {\r\n    constructor: HandlebarsEnvironment,\r\n\r\n    logger: logger,\r\n    log: log,\r\n\r\n    registerHelper: function(name, fn, inverse) {\r\n      if (toString.call(name) === objectType) {\r\n        if (inverse || fn) { throw new Exception('Arg not supported with multiple helpers'); }\r\n        Utils.extend(this.helpers, name);\r\n      } else {\r\n        if (inverse) { fn.not = inverse; }\r\n        this.helpers[name] = fn;\r\n      }\r\n    },\r\n\r\n    registerPartial: function(name, str) {\r\n      if (toString.call(name) === objectType) {\r\n        Utils.extend(this.partials,  name);\r\n      } else {\r\n        this.partials[name] = str;\r\n      }\r\n    }\r\n  };\r\n\r\n  function registerDefaultHelpers(instance) {\r\n    instance.registerHelper('helperMissing', function(arg) {\r\n      if(arguments.length === 2) {\r\n        return undefined;\r\n      } else {\r\n        throw new Exception(\"Missing helper: '\" + arg + \"'\");\r\n      }\r\n    });\r\n\r\n    instance.registerHelper('blockHelperMissing', function(context, options) {\r\n      var inverse = options.inverse || function() {}, fn = options.fn;\r\n\r\n      if (isFunction(context)) { context = context.call(this); }\r\n\r\n      if(context === true) {\r\n        return fn(this);\r\n      } else if(context === false || context == null) {\r\n        return inverse(this);\r\n      } else if (isArray(context)) {\r\n        if(context.length > 0) {\r\n          return instance.helpers.each(context, options);\r\n        } else {\r\n          return inverse(this);\r\n        }\r\n      } else {\r\n        return fn(context);\r\n      }\r\n    });\r\n\r\n    instance.registerHelper('each', function(context, options) {\r\n      var fn = options.fn, inverse = options.inverse;\r\n      var i = 0, ret = \"\", data;\r\n\r\n      if (isFunction(context)) { context = context.call(this); }\r\n\r\n      if (options.data) {\r\n        data = createFrame(options.data);\r\n      }\r\n\r\n      if(context && typeof context === 'object') {\r\n        if (isArray(context)) {\r\n          for(var j = context.length; i<j; i++) {\r\n            if (data) {\r\n              data.index = i;\r\n              data.first = (i === 0);\r\n              data.last  = (i === (context.length-1));\r\n            }\r\n            ret = ret + fn(context[i], { data: data });\r\n          }\r\n        } else {\r\n          for(var key in context) {\r\n            if(context.hasOwnProperty(key)) {\r\n              if(data) { \r\n                data.key = key; \r\n                data.index = i;\r\n                data.first = (i === 0);\r\n              }\r\n              ret = ret + fn(context[key], {data: data});\r\n              i++;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if(i === 0){\r\n        ret = inverse(this);\r\n      }\r\n\r\n      return ret;\r\n    });\r\n\r\n    instance.registerHelper('if', function(conditional, options) {\r\n      if (isFunction(conditional)) { conditional = conditional.call(this); }\r\n\r\n      // Default behavior is to render the positive path if the value is truthy and not empty.\r\n      // The `includeZero` option may be set to treat the condtional as purely not empty based on the\r\n      // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\r\n      if ((!options.hash.includeZero && !conditional) || Utils.isEmpty(conditional)) {\r\n        return options.inverse(this);\r\n      } else {\r\n        return options.fn(this);\r\n      }\r\n    });\r\n\r\n    instance.registerHelper('unless', function(conditional, options) {\r\n      return instance.helpers['if'].call(this, conditional, {fn: options.inverse, inverse: options.fn, hash: options.hash});\r\n    });\r\n\r\n    instance.registerHelper('with', function(context, options) {\r\n      if (isFunction(context)) { context = context.call(this); }\r\n\r\n      if (!Utils.isEmpty(context)) return options.fn(context);\r\n    });\r\n\r\n    instance.registerHelper('log', function(context, options) {\r\n      var level = options.data && options.data.level != null ? parseInt(options.data.level, 10) : 1;\r\n      instance.log(level, context);\r\n    });\r\n  }\r\n\r\n  var logger = {\r\n    methodMap: { 0: 'debug', 1: 'info', 2: 'warn', 3: 'error' },\r\n\r\n    // State enum\r\n    DEBUG: 0,\r\n    INFO: 1,\r\n    WARN: 2,\r\n    ERROR: 3,\r\n    level: 3,\r\n\r\n    // can be overridden in the host environment\r\n    log: function(level, obj) {\r\n      if (logger.level <= level) {\r\n        var method = logger.methodMap[level];\r\n        if (typeof console !== 'undefined' && console[method]) {\r\n          console[method].call(console, obj);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  __exports__.logger = logger;\r\n  function log(level, obj) { logger.log(level, obj); }\r\n\r\n  __exports__.log = log;var createFrame = function(object) {\r\n    var obj = {};\r\n    Utils.extend(obj, object);\r\n    return obj;\r\n  };\r\n  __exports__.createFrame = createFrame;\r\n  return __exports__;\r\n})(__module3__, __module5__);\r\n\r\n// handlebars/runtime.js\r\nvar __module6__ = (function(__dependency1__, __dependency2__, __dependency3__) {\r\n  \"use strict\";\r\n  var __exports__ = {};\r\n  var Utils = __dependency1__;\r\n  var Exception = __dependency2__;\r\n  var COMPILER_REVISION = __dependency3__.COMPILER_REVISION;\r\n  var REVISION_CHANGES = __dependency3__.REVISION_CHANGES;\r\n\r\n  function checkRevision(compilerInfo) {\r\n    var compilerRevision = compilerInfo && compilerInfo[0] || 1,\r\n        currentRevision = COMPILER_REVISION;\r\n\r\n    if (compilerRevision !== currentRevision) {\r\n      if (compilerRevision < currentRevision) {\r\n        var runtimeVersions = REVISION_CHANGES[currentRevision],\r\n            compilerVersions = REVISION_CHANGES[compilerRevision];\r\n        throw new Exception(\"Template was precompiled with an older version of Handlebars than the current runtime. \"+\r\n              \"Please update your precompiler to a newer version (\"+runtimeVersions+\") or downgrade your runtime to an older version (\"+compilerVersions+\").\");\r\n      } else {\r\n        // Use the embedded version info since the runtime doesn't know about this revision yet\r\n        throw new Exception(\"Template was precompiled with a newer version of Handlebars than the current runtime. \"+\r\n              \"Please update your runtime to a newer version (\"+compilerInfo[1]+\").\");\r\n      }\r\n    }\r\n  }\r\n\r\n  __exports__.checkRevision = checkRevision;// TODO: Remove this line and break up compilePartial\r\n\r\n  function template(templateSpec, env) {\r\n    if (!env) {\r\n      throw new Exception(\"No environment passed to template\");\r\n    }\r\n\r\n    // Note: Using env.VM references rather than local var references throughout this section to allow\r\n    // for external users to override these as psuedo-supported APIs.\r\n    var invokePartialWrapper = function(partial, name, context, helpers, partials, data) {\r\n      var result = env.VM.invokePartial.apply(this, arguments);\r\n      if (result != null) { return result; }\r\n\r\n      if (env.compile) {\r\n        var options = { helpers: helpers, partials: partials, data: data };\r\n        partials[name] = env.compile(partial, { data: data !== undefined }, env);\r\n        return partials[name](context, options);\r\n      } else {\r\n        throw new Exception(\"The partial \" + name + \" could not be compiled when running in runtime-only mode\");\r\n      }\r\n    };\r\n\r\n    // Just add water\r\n    var container = {\r\n      escapeExpression: Utils.escapeExpression,\r\n      invokePartial: invokePartialWrapper,\r\n      programs: [],\r\n      program: function(i, fn, data) {\r\n        var programWrapper = this.programs[i];\r\n        if(data) {\r\n          programWrapper = program(i, fn, data);\r\n        } else if (!programWrapper) {\r\n          programWrapper = this.programs[i] = program(i, fn);\r\n        }\r\n        return programWrapper;\r\n      },\r\n      merge: function(param, common) {\r\n        var ret = param || common;\r\n\r\n        if (param && common && (param !== common)) {\r\n          ret = {};\r\n          Utils.extend(ret, common);\r\n          Utils.extend(ret, param);\r\n        }\r\n        return ret;\r\n      },\r\n      programWithDepth: env.VM.programWithDepth,\r\n      noop: env.VM.noop,\r\n      compilerInfo: null\r\n    };\r\n\r\n    return function(context, options) {\r\n      options = options || {};\r\n      var namespace = options.partial ? options : env,\r\n          helpers,\r\n          partials;\r\n\r\n      if (!options.partial) {\r\n        helpers = options.helpers;\r\n        partials = options.partials;\r\n      }\r\n      var result = templateSpec.call(\r\n            container,\r\n            namespace, context,\r\n            helpers,\r\n            partials,\r\n            options.data);\r\n\r\n      if (!options.partial) {\r\n        env.VM.checkRevision(container.compilerInfo);\r\n      }\r\n\r\n      return result;\r\n    };\r\n  }\r\n\r\n  __exports__.template = template;function programWithDepth(i, fn, data /*, $depth */) {\r\n    var args = Array.prototype.slice.call(arguments, 3);\r\n\r\n    var prog = function(context, options) {\r\n      options = options || {};\r\n\r\n      return fn.apply(this, [context, options.data || data].concat(args));\r\n    };\r\n    prog.program = i;\r\n    prog.depth = args.length;\r\n    return prog;\r\n  }\r\n\r\n  __exports__.programWithDepth = programWithDepth;function program(i, fn, data) {\r\n    var prog = function(context, options) {\r\n      options = options || {};\r\n\r\n      return fn(context, options.data || data);\r\n    };\r\n    prog.program = i;\r\n    prog.depth = 0;\r\n    return prog;\r\n  }\r\n\r\n  __exports__.program = program;function invokePartial(partial, name, context, helpers, partials, data) {\r\n    var options = { partial: true, helpers: helpers, partials: partials, data: data };\r\n\r\n    if(partial === undefined) {\r\n      throw new Exception(\"The partial \" + name + \" could not be found\");\r\n    } else if(partial instanceof Function) {\r\n      return partial(context, options);\r\n    }\r\n  }\r\n\r\n  __exports__.invokePartial = invokePartial;function noop() { return \"\"; }\r\n\r\n  __exports__.noop = noop;\r\n  return __exports__;\r\n})(__module3__, __module5__, __module2__);\r\n\r\n// handlebars.runtime.js\r\nvar __module1__ = (function(__dependency1__, __dependency2__, __dependency3__, __dependency4__, __dependency5__) {\r\n  \"use strict\";\r\n  var __exports__;\r\n  /*globals Handlebars: true */\r\n  var base = __dependency1__;\r\n\r\n  // Each of these augment the Handlebars object. No need to setup here.\r\n  // (This is done to easily share code between commonjs and browse envs)\r\n  var SafeString = __dependency2__;\r\n  var Exception = __dependency3__;\r\n  var Utils = __dependency4__;\r\n  var runtime = __dependency5__;\r\n\r\n  // For compatibility and usage outside of module systems, make the Handlebars object a namespace\r\n  var create = function() {\r\n    var hb = new base.HandlebarsEnvironment();\r\n\r\n    Utils.extend(hb, base);\r\n    hb.SafeString = SafeString;\r\n    hb.Exception = Exception;\r\n    hb.Utils = Utils;\r\n\r\n    hb.VM = runtime;\r\n    hb.template = function(spec) {\r\n      return runtime.template(spec, hb);\r\n    };\r\n\r\n    return hb;\r\n  };\r\n\r\n  var Handlebars = create();\r\n  Handlebars.create = create;\r\n\r\n  __exports__ = Handlebars;\r\n  return __exports__;\r\n})(__module2__, __module4__, __module5__, __module3__, __module6__);\r\n\r\n// handlebars/compiler/ast.js\r\nvar __module7__ = (function(__dependency1__) {\r\n  \"use strict\";\r\n  var __exports__;\r\n  var Exception = __dependency1__;\r\n\r\n  function LocationInfo(locInfo){\r\n    locInfo = locInfo || {};\r\n    this.firstLine   = locInfo.first_line;\r\n    this.firstColumn = locInfo.first_column;\r\n    this.lastColumn  = locInfo.last_column;\r\n    this.lastLine    = locInfo.last_line;\r\n  }\r\n\r\n  var AST = {\r\n    ProgramNode: function(statements, inverseStrip, inverse, locInfo) {\r\n      var inverseLocationInfo, firstInverseNode;\r\n      if (arguments.length === 3) {\r\n        locInfo = inverse;\r\n        inverse = null;\r\n      } else if (arguments.length === 2) {\r\n        locInfo = inverseStrip;\r\n        inverseStrip = null;\r\n      }\r\n\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"program\";\r\n      this.statements = statements;\r\n      this.strip = {};\r\n\r\n      if(inverse) {\r\n        firstInverseNode = inverse[0];\r\n        if (firstInverseNode) {\r\n          inverseLocationInfo = {\r\n            first_line: firstInverseNode.firstLine,\r\n            last_line: firstInverseNode.lastLine,\r\n            last_column: firstInverseNode.lastColumn,\r\n            first_column: firstInverseNode.firstColumn\r\n          };\r\n          this.inverse = new AST.ProgramNode(inverse, inverseStrip, inverseLocationInfo);\r\n        } else {\r\n          this.inverse = new AST.ProgramNode(inverse, inverseStrip);\r\n        }\r\n        this.strip.right = inverseStrip.left;\r\n      } else if (inverseStrip) {\r\n        this.strip.left = inverseStrip.right;\r\n      }\r\n    },\r\n\r\n    MustacheNode: function(rawParams, hash, open, strip, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"mustache\";\r\n      this.strip = strip;\r\n\r\n      // Open may be a string parsed from the parser or a passed boolean flag\r\n      if (open != null && open.charAt) {\r\n        // Must use charAt to support IE pre-10\r\n        var escapeFlag = open.charAt(3) || open.charAt(2);\r\n        this.escaped = escapeFlag !== '{' && escapeFlag !== '&';\r\n      } else {\r\n        this.escaped = !!open;\r\n      }\r\n\r\n      if (rawParams instanceof AST.SexprNode) {\r\n        this.sexpr = rawParams;\r\n      } else {\r\n        // Support old AST API\r\n        this.sexpr = new AST.SexprNode(rawParams, hash);\r\n      }\r\n\r\n      this.sexpr.isRoot = true;\r\n\r\n      // Support old AST API that stored this info in MustacheNode\r\n      this.id = this.sexpr.id;\r\n      this.params = this.sexpr.params;\r\n      this.hash = this.sexpr.hash;\r\n      this.eligibleHelper = this.sexpr.eligibleHelper;\r\n      this.isHelper = this.sexpr.isHelper;\r\n    },\r\n\r\n    SexprNode: function(rawParams, hash, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n\r\n      this.type = \"sexpr\";\r\n      this.hash = hash;\r\n\r\n      var id = this.id = rawParams[0];\r\n      var params = this.params = rawParams.slice(1);\r\n\r\n      // a mustache is an eligible helper if:\r\n      // * its id is simple (a single part, not `this` or `..`)\r\n      var eligibleHelper = this.eligibleHelper = id.isSimple;\r\n\r\n      // a mustache is definitely a helper if:\r\n      // * it is an eligible helper, and\r\n      // * it has at least one parameter or hash segment\r\n      this.isHelper = eligibleHelper && (params.length || hash);\r\n\r\n      // if a mustache is an eligible helper but not a definite\r\n      // helper, it is ambiguous, and will be resolved in a later\r\n      // pass or at runtime.\r\n    },\r\n\r\n    PartialNode: function(partialName, context, strip, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type         = \"partial\";\r\n      this.partialName  = partialName;\r\n      this.context      = context;\r\n      this.strip = strip;\r\n    },\r\n\r\n    BlockNode: function(mustache, program, inverse, close, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n\r\n      if(mustache.sexpr.id.original !== close.path.original) {\r\n        throw new Exception(mustache.sexpr.id.original + \" doesn't match \" + close.path.original, this);\r\n      }\r\n\r\n      this.type = 'block';\r\n      this.mustache = mustache;\r\n      this.program  = program;\r\n      this.inverse  = inverse;\r\n\r\n      this.strip = {\r\n        left: mustache.strip.left,\r\n        right: close.strip.right\r\n      };\r\n\r\n      (program || inverse).strip.left = mustache.strip.right;\r\n      (inverse || program).strip.right = close.strip.left;\r\n\r\n      if (inverse && !program) {\r\n        this.isInverse = true;\r\n      }\r\n    },\r\n\r\n    ContentNode: function(string, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"content\";\r\n      this.string = string;\r\n    },\r\n\r\n    HashNode: function(pairs, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"hash\";\r\n      this.pairs = pairs;\r\n    },\r\n\r\n    IdNode: function(parts, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"ID\";\r\n\r\n      var original = \"\",\r\n          dig = [],\r\n          depth = 0;\r\n\r\n      for(var i=0,l=parts.length; i<l; i++) {\r\n        var part = parts[i].part;\r\n        original += (parts[i].separator || '') + part;\r\n\r\n        if (part === \"..\" || part === \".\" || part === \"this\") {\r\n          if (dig.length > 0) {\r\n            throw new Exception(\"Invalid path: \" + original, this);\r\n          } else if (part === \"..\") {\r\n            depth++;\r\n          } else {\r\n            this.isScoped = true;\r\n          }\r\n        } else {\r\n          dig.push(part);\r\n        }\r\n      }\r\n\r\n      this.original = original;\r\n      this.parts    = dig;\r\n      this.string   = dig.join('.');\r\n      this.depth    = depth;\r\n\r\n      // an ID is simple if it only has one part, and that part is not\r\n      // `..` or `this`.\r\n      this.isSimple = parts.length === 1 && !this.isScoped && depth === 0;\r\n\r\n      this.stringModeValue = this.string;\r\n    },\r\n\r\n    PartialNameNode: function(name, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"PARTIAL_NAME\";\r\n      this.name = name.original;\r\n    },\r\n\r\n    DataNode: function(id, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"DATA\";\r\n      this.id = id;\r\n    },\r\n\r\n    StringNode: function(string, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"STRING\";\r\n      this.original =\r\n        this.string =\r\n        this.stringModeValue = string;\r\n    },\r\n\r\n    IntegerNode: function(integer, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"INTEGER\";\r\n      this.original =\r\n        this.integer = integer;\r\n      this.stringModeValue = Number(integer);\r\n    },\r\n\r\n    BooleanNode: function(bool, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"BOOLEAN\";\r\n      this.bool = bool;\r\n      this.stringModeValue = bool === \"true\";\r\n    },\r\n\r\n    CommentNode: function(comment, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"comment\";\r\n      this.comment = comment;\r\n    }\r\n  };\r\n\r\n  // Must be exported as an object rather than the root of the module as the jison lexer\r\n  // most modify the object to operate properly.\r\n  __exports__ = AST;\r\n  return __exports__;\r\n})(__module5__);\r\n\r\n// handlebars/compiler/parser.js\r\nvar __module9__ = (function() {\r\n  \"use strict\";\r\n  var __exports__;\r\n  /* jshint ignore:start */\r\n  /* Jison generated parser */\r\n  var handlebars = (function(){\r\n  var parser = {trace: function trace() { },\r\n  yy: {},\r\n  symbols_: {\"error\":2,\"root\":3,\"statements\":4,\"EOF\":5,\"program\":6,\"simpleInverse\":7,\"statement\":8,\"openInverse\":9,\"closeBlock\":10,\"openBlock\":11,\"mustache\":12,\"partial\":13,\"CONTENT\":14,\"COMMENT\":15,\"OPEN_BLOCK\":16,\"sexpr\":17,\"CLOSE\":18,\"OPEN_INVERSE\":19,\"OPEN_ENDBLOCK\":20,\"path\":21,\"OPEN\":22,\"OPEN_UNESCAPED\":23,\"CLOSE_UNESCAPED\":24,\"OPEN_PARTIAL\":25,\"partialName\":26,\"partial_option0\":27,\"sexpr_repetition0\":28,\"sexpr_option0\":29,\"dataName\":30,\"param\":31,\"STRING\":32,\"INTEGER\":33,\"BOOLEAN\":34,\"OPEN_SEXPR\":35,\"CLOSE_SEXPR\":36,\"hash\":37,\"hash_repetition_plus0\":38,\"hashSegment\":39,\"ID\":40,\"EQUALS\":41,\"DATA\":42,\"pathSegments\":43,\"SEP\":44,\"$accept\":0,\"$end\":1},\r\n  terminals_: {2:\"error\",5:\"EOF\",14:\"CONTENT\",15:\"COMMENT\",16:\"OPEN_BLOCK\",18:\"CLOSE\",19:\"OPEN_INVERSE\",20:\"OPEN_ENDBLOCK\",22:\"OPEN\",23:\"OPEN_UNESCAPED\",24:\"CLOSE_UNESCAPED\",25:\"OPEN_PARTIAL\",32:\"STRING\",33:\"INTEGER\",34:\"BOOLEAN\",35:\"OPEN_SEXPR\",36:\"CLOSE_SEXPR\",40:\"ID\",41:\"EQUALS\",42:\"DATA\",44:\"SEP\"},\r\n  productions_: [0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],\r\n  performAction: function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$) {\r\n\r\n  var $0 = $$.length - 1;\r\n  switch (yystate) {\r\n  case 1: return new yy.ProgramNode($$[$0-1], this._$); \r\n  break;\r\n  case 2: return new yy.ProgramNode([], this._$); \r\n  break;\r\n  case 3:this.$ = new yy.ProgramNode([], $$[$0-1], $$[$0], this._$);\r\n  break;\r\n  case 4:this.$ = new yy.ProgramNode($$[$0-2], $$[$0-1], $$[$0], this._$);\r\n  break;\r\n  case 5:this.$ = new yy.ProgramNode($$[$0-1], $$[$0], [], this._$);\r\n  break;\r\n  case 6:this.$ = new yy.ProgramNode($$[$0], this._$);\r\n  break;\r\n  case 7:this.$ = new yy.ProgramNode([], this._$);\r\n  break;\r\n  case 8:this.$ = new yy.ProgramNode([], this._$);\r\n  break;\r\n  case 9:this.$ = [$$[$0]];\r\n  break;\r\n  case 10: $$[$0-1].push($$[$0]); this.$ = $$[$0-1]; \r\n  break;\r\n  case 11:this.$ = new yy.BlockNode($$[$0-2], $$[$0-1].inverse, $$[$0-1], $$[$0], this._$);\r\n  break;\r\n  case 12:this.$ = new yy.BlockNode($$[$0-2], $$[$0-1], $$[$0-1].inverse, $$[$0], this._$);\r\n  break;\r\n  case 13:this.$ = $$[$0];\r\n  break;\r\n  case 14:this.$ = $$[$0];\r\n  break;\r\n  case 15:this.$ = new yy.ContentNode($$[$0], this._$);\r\n  break;\r\n  case 16:this.$ = new yy.CommentNode($$[$0], this._$);\r\n  break;\r\n  case 17:this.$ = new yy.MustacheNode($$[$0-1], null, $$[$0-2], stripFlags($$[$0-2], $$[$0]), this._$);\r\n  break;\r\n  case 18:this.$ = new yy.MustacheNode($$[$0-1], null, $$[$0-2], stripFlags($$[$0-2], $$[$0]), this._$);\r\n  break;\r\n  case 19:this.$ = {path: $$[$0-1], strip: stripFlags($$[$0-2], $$[$0])};\r\n  break;\r\n  case 20:this.$ = new yy.MustacheNode($$[$0-1], null, $$[$0-2], stripFlags($$[$0-2], $$[$0]), this._$);\r\n  break;\r\n  case 21:this.$ = new yy.MustacheNode($$[$0-1], null, $$[$0-2], stripFlags($$[$0-2], $$[$0]), this._$);\r\n  break;\r\n  case 22:this.$ = new yy.PartialNode($$[$0-2], $$[$0-1], stripFlags($$[$0-3], $$[$0]), this._$);\r\n  break;\r\n  case 23:this.$ = stripFlags($$[$0-1], $$[$0]);\r\n  break;\r\n  case 24:this.$ = new yy.SexprNode([$$[$0-2]].concat($$[$0-1]), $$[$0], this._$);\r\n  break;\r\n  case 25:this.$ = new yy.SexprNode([$$[$0]], null, this._$);\r\n  break;\r\n  case 26:this.$ = $$[$0];\r\n  break;\r\n  case 27:this.$ = new yy.StringNode($$[$0], this._$);\r\n  break;\r\n  case 28:this.$ = new yy.IntegerNode($$[$0], this._$);\r\n  break;\r\n  case 29:this.$ = new yy.BooleanNode($$[$0], this._$);\r\n  break;\r\n  case 30:this.$ = $$[$0];\r\n  break;\r\n  case 31:$$[$0-1].isHelper = true; this.$ = $$[$0-1];\r\n  break;\r\n  case 32:this.$ = new yy.HashNode($$[$0], this._$);\r\n  break;\r\n  case 33:this.$ = [$$[$0-2], $$[$0]];\r\n  break;\r\n  case 34:this.$ = new yy.PartialNameNode($$[$0], this._$);\r\n  break;\r\n  case 35:this.$ = new yy.PartialNameNode(new yy.StringNode($$[$0], this._$), this._$);\r\n  break;\r\n  case 36:this.$ = new yy.PartialNameNode(new yy.IntegerNode($$[$0], this._$));\r\n  break;\r\n  case 37:this.$ = new yy.DataNode($$[$0], this._$);\r\n  break;\r\n  case 38:this.$ = new yy.IdNode($$[$0], this._$);\r\n  break;\r\n  case 39: $$[$0-2].push({part: $$[$0], separator: $$[$0-1]}); this.$ = $$[$0-2]; \r\n  break;\r\n  case 40:this.$ = [{part: $$[$0]}];\r\n  break;\r\n  case 43:this.$ = [];\r\n  break;\r\n  case 44:$$[$0-1].push($$[$0]);\r\n  break;\r\n  case 47:this.$ = [$$[$0]];\r\n  break;\r\n  case 48:$$[$0-1].push($$[$0]);\r\n  break;\r\n  }\r\n  },\r\n  table: [{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],\r\n  defaultActions: {3:[2,2],16:[2,1],50:[2,42]},\r\n  parseError: function parseError(str, hash) {\r\n      throw new Error(str);\r\n  },\r\n  parse: function parse(input) {\r\n      var self = this, stack = [0], vstack = [null], lstack = [], table = this.table, yytext = \"\", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\r\n      this.lexer.setInput(input);\r\n      this.lexer.yy = this.yy;\r\n      this.yy.lexer = this.lexer;\r\n      this.yy.parser = this;\r\n      if (typeof this.lexer.yylloc == \"undefined\")\r\n          this.lexer.yylloc = {};\r\n      var yyloc = this.lexer.yylloc;\r\n      lstack.push(yyloc);\r\n      var ranges = this.lexer.options && this.lexer.options.ranges;\r\n      if (typeof this.yy.parseError === \"function\")\r\n          this.parseError = this.yy.parseError;\r\n      function popStack(n) {\r\n          stack.length = stack.length - 2 * n;\r\n          vstack.length = vstack.length - n;\r\n          lstack.length = lstack.length - n;\r\n      }\r\n      function lex() {\r\n          var token;\r\n          token = self.lexer.lex() || 1;\r\n          if (typeof token !== \"number\") {\r\n              token = self.symbols_[token] || token;\r\n          }\r\n          return token;\r\n      }\r\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\r\n      while (true) {\r\n          state = stack[stack.length - 1];\r\n          if (this.defaultActions[state]) {\r\n              action = this.defaultActions[state];\r\n          } else {\r\n              if (symbol === null || typeof symbol == \"undefined\") {\r\n                  symbol = lex();\r\n              }\r\n              action = table[state] && table[state][symbol];\r\n          }\r\n          if (typeof action === \"undefined\" || !action.length || !action[0]) {\r\n              var errStr = \"\";\r\n              if (!recovering) {\r\n                  expected = [];\r\n                  for (p in table[state])\r\n                      if (this.terminals_[p] && p > 2) {\r\n                          expected.push(\"'\" + this.terminals_[p] + \"'\");\r\n                      }\r\n                  if (this.lexer.showPosition) {\r\n                      errStr = \"Parse error on line \" + (yylineno + 1) + \":\\n\" + this.lexer.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\r\n                  } else {\r\n                      errStr = \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == 1?\"end of input\":\"'\" + (this.terminals_[symbol] || symbol) + \"'\");\r\n                  }\r\n                  this.parseError(errStr, {text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected});\r\n              }\r\n          }\r\n          if (action[0] instanceof Array && action.length > 1) {\r\n              throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\r\n          }\r\n          switch (action[0]) {\r\n          case 1:\r\n              stack.push(symbol);\r\n              vstack.push(this.lexer.yytext);\r\n              lstack.push(this.lexer.yylloc);\r\n              stack.push(action[1]);\r\n              symbol = null;\r\n              if (!preErrorSymbol) {\r\n                  yyleng = this.lexer.yyleng;\r\n                  yytext = this.lexer.yytext;\r\n                  yylineno = this.lexer.yylineno;\r\n                  yyloc = this.lexer.yylloc;\r\n                  if (recovering > 0)\r\n                      recovering--;\r\n              } else {\r\n                  symbol = preErrorSymbol;\r\n                  preErrorSymbol = null;\r\n              }\r\n              break;\r\n          case 2:\r\n              len = this.productions_[action[1]][1];\r\n              yyval.$ = vstack[vstack.length - len];\r\n              yyval._$ = {first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column};\r\n              if (ranges) {\r\n                  yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\r\n              }\r\n              r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);\r\n              if (typeof r !== \"undefined\") {\r\n                  return r;\r\n              }\r\n              if (len) {\r\n                  stack = stack.slice(0, -1 * len * 2);\r\n                  vstack = vstack.slice(0, -1 * len);\r\n                  lstack = lstack.slice(0, -1 * len);\r\n              }\r\n              stack.push(this.productions_[action[1]][0]);\r\n              vstack.push(yyval.$);\r\n              lstack.push(yyval._$);\r\n              newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\r\n              stack.push(newState);\r\n              break;\r\n          case 3:\r\n              return true;\r\n          }\r\n      }\r\n      return true;\r\n  }\r\n  };\r\n\r\n\r\n  function stripFlags(open, close) {\r\n    return {\r\n      left: open.charAt(2) === '~',\r\n      right: close.charAt(0) === '~' || close.charAt(1) === '~'\r\n    };\r\n  }\r\n\r\n  /* Jison generated lexer */\r\n  var lexer = (function(){\r\n  var lexer = ({EOF:1,\r\n  parseError:function parseError(str, hash) {\r\n          if (this.yy.parser) {\r\n              this.yy.parser.parseError(str, hash);\r\n          } else {\r\n              throw new Error(str);\r\n          }\r\n      },\r\n  setInput:function (input) {\r\n          this._input = input;\r\n          this._more = this._less = this.done = false;\r\n          this.yylineno = this.yyleng = 0;\r\n          this.yytext = this.matched = this.match = '';\r\n          this.conditionStack = ['INITIAL'];\r\n          this.yylloc = {first_line:1,first_column:0,last_line:1,last_column:0};\r\n          if (this.options.ranges) this.yylloc.range = [0,0];\r\n          this.offset = 0;\r\n          return this;\r\n      },\r\n  input:function () {\r\n          var ch = this._input[0];\r\n          this.yytext += ch;\r\n          this.yyleng++;\r\n          this.offset++;\r\n          this.match += ch;\r\n          this.matched += ch;\r\n          var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\r\n          if (lines) {\r\n              this.yylineno++;\r\n              this.yylloc.last_line++;\r\n          } else {\r\n              this.yylloc.last_column++;\r\n          }\r\n          if (this.options.ranges) this.yylloc.range[1]++;\r\n\r\n          this._input = this._input.slice(1);\r\n          return ch;\r\n      },\r\n  unput:function (ch) {\r\n          var len = ch.length;\r\n          var lines = ch.split(/(?:\\r\\n?|\\n)/g);\r\n\r\n          this._input = ch + this._input;\r\n          this.yytext = this.yytext.substr(0, this.yytext.length-len-1);\r\n          //this.yyleng -= len;\r\n          this.offset -= len;\r\n          var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\r\n          this.match = this.match.substr(0, this.match.length-1);\r\n          this.matched = this.matched.substr(0, this.matched.length-1);\r\n\r\n          if (lines.length-1) this.yylineno -= lines.length-1;\r\n          var r = this.yylloc.range;\r\n\r\n          this.yylloc = {first_line: this.yylloc.first_line,\r\n            last_line: this.yylineno+1,\r\n            first_column: this.yylloc.first_column,\r\n            last_column: lines ?\r\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length:\r\n                this.yylloc.first_column - len\r\n            };\r\n\r\n          if (this.options.ranges) {\r\n              this.yylloc.range = [r[0], r[0] + this.yyleng - len];\r\n          }\r\n          return this;\r\n      },\r\n  more:function () {\r\n          this._more = true;\r\n          return this;\r\n      },\r\n  less:function (n) {\r\n          this.unput(this.match.slice(n));\r\n      },\r\n  pastInput:function () {\r\n          var past = this.matched.substr(0, this.matched.length - this.match.length);\r\n          return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\r\n      },\r\n  upcomingInput:function () {\r\n          var next = this.match;\r\n          if (next.length < 20) {\r\n              next += this._input.substr(0, 20-next.length);\r\n          }\r\n          return (next.substr(0,20)+(next.length > 20 ? '...':'')).replace(/\\n/g, \"\");\r\n      },\r\n  showPosition:function () {\r\n          var pre = this.pastInput();\r\n          var c = new Array(pre.length + 1).join(\"-\");\r\n          return pre + this.upcomingInput() + \"\\n\" + c+\"^\";\r\n      },\r\n  next:function () {\r\n          if (this.done) {\r\n              return this.EOF;\r\n          }\r\n          if (!this._input) this.done = true;\r\n\r\n          var token,\r\n              match,\r\n              tempMatch,\r\n              index,\r\n              col,\r\n              lines;\r\n          if (!this._more) {\r\n              this.yytext = '';\r\n              this.match = '';\r\n          }\r\n          var rules = this._currentRules();\r\n          for (var i=0;i < rules.length; i++) {\r\n              tempMatch = this._input.match(this.rules[rules[i]]);\r\n              if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\r\n                  match = tempMatch;\r\n                  index = i;\r\n                  if (!this.options.flex) break;\r\n              }\r\n          }\r\n          if (match) {\r\n              lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\r\n              if (lines) this.yylineno += lines.length;\r\n              this.yylloc = {first_line: this.yylloc.last_line,\r\n                             last_line: this.yylineno+1,\r\n                             first_column: this.yylloc.last_column,\r\n                             last_column: lines ? lines[lines.length-1].length-lines[lines.length-1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length};\r\n              this.yytext += match[0];\r\n              this.match += match[0];\r\n              this.matches = match;\r\n              this.yyleng = this.yytext.length;\r\n              if (this.options.ranges) {\r\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\r\n              }\r\n              this._more = false;\r\n              this._input = this._input.slice(match[0].length);\r\n              this.matched += match[0];\r\n              token = this.performAction.call(this, this.yy, this, rules[index],this.conditionStack[this.conditionStack.length-1]);\r\n              if (this.done && this._input) this.done = false;\r\n              if (token) return token;\r\n              else return;\r\n          }\r\n          if (this._input === \"\") {\r\n              return this.EOF;\r\n          } else {\r\n              return this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\\n'+this.showPosition(),\r\n                      {text: \"\", token: null, line: this.yylineno});\r\n          }\r\n      },\r\n  lex:function lex() {\r\n          var r = this.next();\r\n          if (typeof r !== 'undefined') {\r\n              return r;\r\n          } else {\r\n              return this.lex();\r\n          }\r\n      },\r\n  begin:function begin(condition) {\r\n          this.conditionStack.push(condition);\r\n      },\r\n  popState:function popState() {\r\n          return this.conditionStack.pop();\r\n      },\r\n  _currentRules:function _currentRules() {\r\n          return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;\r\n      },\r\n  topState:function () {\r\n          return this.conditionStack[this.conditionStack.length-2];\r\n      },\r\n  pushState:function begin(condition) {\r\n          this.begin(condition);\r\n      }});\r\n  lexer.options = {};\r\n  lexer.performAction = function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\r\n\r\n\r\n  function strip(start, end) {\r\n    return yy_.yytext = yy_.yytext.substr(start, yy_.yyleng-end);\r\n  }\r\n\r\n\r\n  var YYSTATE=YY_START\r\n  switch($avoiding_name_collisions) {\r\n  case 0:\r\n                                     if(yy_.yytext.slice(-2) === \"\\\\\\\\\") {\r\n                                       strip(0,1);\r\n                                       this.begin(\"mu\");\r\n                                     } else if(yy_.yytext.slice(-1) === \"\\\\\") {\r\n                                       strip(0,1);\r\n                                       this.begin(\"emu\");\r\n                                     } else {\r\n                                       this.begin(\"mu\");\r\n                                     }\r\n                                     if(yy_.yytext) return 14;\r\n                                   \r\n  break;\r\n  case 1:return 14;\r\n  break;\r\n  case 2:\r\n                                     this.popState();\r\n                                     return 14;\r\n                                   \r\n  break;\r\n  case 3:strip(0,4); this.popState(); return 15;\r\n  break;\r\n  case 4:return 35;\r\n  break;\r\n  case 5:return 36;\r\n  break;\r\n  case 6:return 25;\r\n  break;\r\n  case 7:return 16;\r\n  break;\r\n  case 8:return 20;\r\n  break;\r\n  case 9:return 19;\r\n  break;\r\n  case 10:return 19;\r\n  break;\r\n  case 11:return 23;\r\n  break;\r\n  case 12:return 22;\r\n  break;\r\n  case 13:this.popState(); this.begin('com');\r\n  break;\r\n  case 14:strip(3,5); this.popState(); return 15;\r\n  break;\r\n  case 15:return 22;\r\n  break;\r\n  case 16:return 41;\r\n  break;\r\n  case 17:return 40;\r\n  break;\r\n  case 18:return 40;\r\n  break;\r\n  case 19:return 44;\r\n  break;\r\n  case 20:// ignore whitespace\r\n  break;\r\n  case 21:this.popState(); return 24;\r\n  break;\r\n  case 22:this.popState(); return 18;\r\n  break;\r\n  case 23:yy_.yytext = strip(1,2).replace(/\\\\\"/g,'\"'); return 32;\r\n  break;\r\n  case 24:yy_.yytext = strip(1,2).replace(/\\\\'/g,\"'\"); return 32;\r\n  break;\r\n  case 25:return 42;\r\n  break;\r\n  case 26:return 34;\r\n  break;\r\n  case 27:return 34;\r\n  break;\r\n  case 28:return 33;\r\n  break;\r\n  case 29:return 40;\r\n  break;\r\n  case 30:yy_.yytext = strip(1,2); return 40;\r\n  break;\r\n  case 31:return 'INVALID';\r\n  break;\r\n  case 32:return 5;\r\n  break;\r\n  }\r\n  };\r\n  lexer.rules = [/^(?:[^\\x00]*?(?=(\\{\\{)))/,/^(?:[^\\x00]+)/,/^(?:[^\\x00]{2,}?(?=(\\{\\{|\\\\\\{\\{|\\\\\\\\\\{\\{|$)))/,/^(?:[\\s\\S]*?--\\}\\})/,/^(?:\\()/,/^(?:\\))/,/^(?:\\{\\{(~)?>)/,/^(?:\\{\\{(~)?#)/,/^(?:\\{\\{(~)?\\/)/,/^(?:\\{\\{(~)?\\^)/,/^(?:\\{\\{(~)?\\s*else\\b)/,/^(?:\\{\\{(~)?\\{)/,/^(?:\\{\\{(~)?&)/,/^(?:\\{\\{!--)/,/^(?:\\{\\{![\\s\\S]*?\\}\\})/,/^(?:\\{\\{(~)?)/,/^(?:=)/,/^(?:\\.\\.)/,/^(?:\\.(?=([=~}\\s\\/.)])))/,/^(?:[\\/.])/,/^(?:\\s+)/,/^(?:\\}(~)?\\}\\})/,/^(?:(~)?\\}\\})/,/^(?:\"(\\\\[\"]|[^\"])*\")/,/^(?:'(\\\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\\s)])))/,/^(?:false(?=([~}\\s)])))/,/^(?:-?[0-9]+(?=([~}\\s)])))/,/^(?:([^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=([=~}\\s\\/.)]))))/,/^(?:\\[[^\\]]*\\])/,/^(?:.)/,/^(?:$)/];\r\n  lexer.conditions = {\"mu\":{\"rules\":[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],\"inclusive\":false},\"emu\":{\"rules\":[2],\"inclusive\":false},\"com\":{\"rules\":[3],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,1,32],\"inclusive\":true}};\r\n  return lexer;})()\r\n  parser.lexer = lexer;\r\n  function Parser () { this.yy = {}; }Parser.prototype = parser;parser.Parser = Parser;\r\n  return new Parser;\r\n  })();__exports__ = handlebars;\r\n  /* jshint ignore:end */\r\n  return __exports__;\r\n})();\r\n\r\n// handlebars/compiler/base.js\r\nvar __module8__ = (function(__dependency1__, __dependency2__) {\r\n  \"use strict\";\r\n  var __exports__ = {};\r\n  var parser = __dependency1__;\r\n  var AST = __dependency2__;\r\n\r\n  __exports__.parser = parser;\r\n\r\n  function parse(input) {\r\n    // Just return if an already-compile AST was passed in.\r\n    if(input.constructor === AST.ProgramNode) { return input; }\r\n\r\n    parser.yy = AST;\r\n    return parser.parse(input);\r\n  }\r\n\r\n  __exports__.parse = parse;\r\n  return __exports__;\r\n})(__module9__, __module7__);\r\n\r\n// handlebars/compiler/compiler.js\r\nvar __module10__ = (function(__dependency1__) {\r\n  \"use strict\";\r\n  var __exports__ = {};\r\n  var Exception = __dependency1__;\r\n\r\n  function Compiler() {}\r\n\r\n  __exports__.Compiler = Compiler;// the foundHelper register will disambiguate helper lookup from finding a\r\n  // function in a context. This is necessary for mustache compatibility, which\r\n  // requires that context functions in blocks are evaluated by blockHelperMissing,\r\n  // and then proceed as if the resulting value was provided to blockHelperMissing.\r\n\r\n  Compiler.prototype = {\r\n    compiler: Compiler,\r\n\r\n    disassemble: function() {\r\n      var opcodes = this.opcodes, opcode, out = [], params, param;\r\n\r\n      for (var i=0, l=opcodes.length; i<l; i++) {\r\n        opcode = opcodes[i];\r\n\r\n        if (opcode.opcode === 'DECLARE') {\r\n          out.push(\"DECLARE \" + opcode.name + \"=\" + opcode.value);\r\n        } else {\r\n          params = [];\r\n          for (var j=0; j<opcode.args.length; j++) {\r\n            param = opcode.args[j];\r\n            if (typeof param === \"string\") {\r\n              param = \"\\\"\" + param.replace(\"\\n\", \"\\\\n\") + \"\\\"\";\r\n            }\r\n            params.push(param);\r\n          }\r\n          out.push(opcode.opcode + \" \" + params.join(\" \"));\r\n        }\r\n      }\r\n\r\n      return out.join(\"\\n\");\r\n    },\r\n\r\n    equals: function(other) {\r\n      var len = this.opcodes.length;\r\n      if (other.opcodes.length !== len) {\r\n        return false;\r\n      }\r\n\r\n      for (var i = 0; i < len; i++) {\r\n        var opcode = this.opcodes[i],\r\n            otherOpcode = other.opcodes[i];\r\n        if (opcode.opcode !== otherOpcode.opcode || opcode.args.length !== otherOpcode.args.length) {\r\n          return false;\r\n        }\r\n        for (var j = 0; j < opcode.args.length; j++) {\r\n          if (opcode.args[j] !== otherOpcode.args[j]) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n\r\n      len = this.children.length;\r\n      if (other.children.length !== len) {\r\n        return false;\r\n      }\r\n      for (i = 0; i < len; i++) {\r\n        if (!this.children[i].equals(other.children[i])) {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    guid: 0,\r\n\r\n    compile: function(program, options) {\r\n      this.opcodes = [];\r\n      this.children = [];\r\n      this.depths = {list: []};\r\n      this.options = options;\r\n\r\n      // These changes will propagate to the other compiler components\r\n      var knownHelpers = this.options.knownHelpers;\r\n      this.options.knownHelpers = {\r\n        'helperMissing': true,\r\n        'blockHelperMissing': true,\r\n        'each': true,\r\n        'if': true,\r\n        'unless': true,\r\n        'with': true,\r\n        'log': true\r\n      };\r\n      if (knownHelpers) {\r\n        for (var name in knownHelpers) {\r\n          this.options.knownHelpers[name] = knownHelpers[name];\r\n        }\r\n      }\r\n\r\n      return this.accept(program);\r\n    },\r\n\r\n    accept: function(node) {\r\n      var strip = node.strip || {},\r\n          ret;\r\n      if (strip.left) {\r\n        this.opcode('strip');\r\n      }\r\n\r\n      ret = this[node.type](node);\r\n\r\n      if (strip.right) {\r\n        this.opcode('strip');\r\n      }\r\n\r\n      return ret;\r\n    },\r\n\r\n    program: function(program) {\r\n      var statements = program.statements;\r\n\r\n      for(var i=0, l=statements.length; i<l; i++) {\r\n        this.accept(statements[i]);\r\n      }\r\n      this.isSimple = l === 1;\r\n\r\n      this.depths.list = this.depths.list.sort(function(a, b) {\r\n        return a - b;\r\n      });\r\n\r\n      return this;\r\n    },\r\n\r\n    compileProgram: function(program) {\r\n      var result = new this.compiler().compile(program, this.options);\r\n      var guid = this.guid++, depth;\r\n\r\n      this.usePartial = this.usePartial || result.usePartial;\r\n\r\n      this.children[guid] = result;\r\n\r\n      for(var i=0, l=result.depths.list.length; i<l; i++) {\r\n        depth = result.depths.list[i];\r\n\r\n        if(depth < 2) { continue; }\r\n        else { this.addDepth(depth - 1); }\r\n      }\r\n\r\n      return guid;\r\n    },\r\n\r\n    block: function(block) {\r\n      var mustache = block.mustache,\r\n          program = block.program,\r\n          inverse = block.inverse;\r\n\r\n      if (program) {\r\n        program = this.compileProgram(program);\r\n      }\r\n\r\n      if (inverse) {\r\n        inverse = this.compileProgram(inverse);\r\n      }\r\n\r\n      var sexpr = mustache.sexpr;\r\n      var type = this.classifySexpr(sexpr);\r\n\r\n      if (type === \"helper\") {\r\n        this.helperSexpr(sexpr, program, inverse);\r\n      } else if (type === \"simple\") {\r\n        this.simpleSexpr(sexpr);\r\n\r\n        // now that the simple mustache is resolved, we need to\r\n        // evaluate it by executing `blockHelperMissing`\r\n        this.opcode('pushProgram', program);\r\n        this.opcode('pushProgram', inverse);\r\n        this.opcode('emptyHash');\r\n        this.opcode('blockValue');\r\n      } else {\r\n        this.ambiguousSexpr(sexpr, program, inverse);\r\n\r\n        // now that the simple mustache is resolved, we need to\r\n        // evaluate it by executing `blockHelperMissing`\r\n        this.opcode('pushProgram', program);\r\n        this.opcode('pushProgram', inverse);\r\n        this.opcode('emptyHash');\r\n        this.opcode('ambiguousBlockValue');\r\n      }\r\n\r\n      this.opcode('append');\r\n    },\r\n\r\n    hash: function(hash) {\r\n      var pairs = hash.pairs, pair, val;\r\n\r\n      this.opcode('pushHash');\r\n\r\n      for(var i=0, l=pairs.length; i<l; i++) {\r\n        pair = pairs[i];\r\n        val  = pair[1];\r\n\r\n        if (this.options.stringParams) {\r\n          if(val.depth) {\r\n            this.addDepth(val.depth);\r\n          }\r\n          this.opcode('getContext', val.depth || 0);\r\n          this.opcode('pushStringParam', val.stringModeValue, val.type);\r\n\r\n          if (val.type === 'sexpr') {\r\n            // Subexpressions get evaluated and passed in\r\n            // in string params mode.\r\n            this.sexpr(val);\r\n          }\r\n        } else {\r\n          this.accept(val);\r\n        }\r\n\r\n        this.opcode('assignToHash', pair[0]);\r\n      }\r\n      this.opcode('popHash');\r\n    },\r\n\r\n    partial: function(partial) {\r\n      var partialName = partial.partialName;\r\n      this.usePartial = true;\r\n\r\n      if(partial.context) {\r\n        this.ID(partial.context);\r\n      } else {\r\n        this.opcode('push', 'depth0');\r\n      }\r\n\r\n      this.opcode('invokePartial', partialName.name);\r\n      this.opcode('append');\r\n    },\r\n\r\n    content: function(content) {\r\n      this.opcode('appendContent', content.string);\r\n    },\r\n\r\n    mustache: function(mustache) {\r\n      this.sexpr(mustache.sexpr);\r\n\r\n      if(mustache.escaped && !this.options.noEscape) {\r\n        this.opcode('appendEscaped');\r\n      } else {\r\n        this.opcode('append');\r\n      }\r\n    },\r\n\r\n    ambiguousSexpr: function(sexpr, program, inverse) {\r\n      var id = sexpr.id,\r\n          name = id.parts[0],\r\n          isBlock = program != null || inverse != null;\r\n\r\n      this.opcode('getContext', id.depth);\r\n\r\n      this.opcode('pushProgram', program);\r\n      this.opcode('pushProgram', inverse);\r\n\r\n      this.opcode('invokeAmbiguous', name, isBlock);\r\n    },\r\n\r\n    simpleSexpr: function(sexpr) {\r\n      var id = sexpr.id;\r\n\r\n      if (id.type === 'DATA') {\r\n        this.DATA(id);\r\n      } else if (id.parts.length) {\r\n        this.ID(id);\r\n      } else {\r\n        // Simplified ID for `this`\r\n        this.addDepth(id.depth);\r\n        this.opcode('getContext', id.depth);\r\n        this.opcode('pushContext');\r\n      }\r\n\r\n      this.opcode('resolvePossibleLambda');\r\n    },\r\n\r\n    helperSexpr: function(sexpr, program, inverse) {\r\n      var params = this.setupFullMustacheParams(sexpr, program, inverse),\r\n          name = sexpr.id.parts[0];\r\n\r\n      if (this.options.knownHelpers[name]) {\r\n        this.opcode('invokeKnownHelper', params.length, name);\r\n      } else if (this.options.knownHelpersOnly) {\r\n        throw new Exception(\"You specified knownHelpersOnly, but used the unknown helper \" + name, sexpr);\r\n      } else {\r\n        this.opcode('invokeHelper', params.length, name, sexpr.isRoot);\r\n      }\r\n    },\r\n\r\n    sexpr: function(sexpr) {\r\n      var type = this.classifySexpr(sexpr);\r\n\r\n      if (type === \"simple\") {\r\n        this.simpleSexpr(sexpr);\r\n      } else if (type === \"helper\") {\r\n        this.helperSexpr(sexpr);\r\n      } else {\r\n        this.ambiguousSexpr(sexpr);\r\n      }\r\n    },\r\n\r\n    ID: function(id) {\r\n      this.addDepth(id.depth);\r\n      this.opcode('getContext', id.depth);\r\n\r\n      var name = id.parts[0];\r\n      if (!name) {\r\n        this.opcode('pushContext');\r\n      } else {\r\n        this.opcode('lookupOnContext', id.parts[0]);\r\n      }\r\n\r\n      for(var i=1, l=id.parts.length; i<l; i++) {\r\n        this.opcode('lookup', id.parts[i]);\r\n      }\r\n    },\r\n\r\n    DATA: function(data) {\r\n      this.options.data = true;\r\n      if (data.id.isScoped || data.id.depth) {\r\n        throw new Exception('Scoped data references are not supported: ' + data.original, data);\r\n      }\r\n\r\n      this.opcode('lookupData');\r\n      var parts = data.id.parts;\r\n      for(var i=0, l=parts.length; i<l; i++) {\r\n        this.opcode('lookup', parts[i]);\r\n      }\r\n    },\r\n\r\n    STRING: function(string) {\r\n      this.opcode('pushString', string.string);\r\n    },\r\n\r\n    INTEGER: function(integer) {\r\n      this.opcode('pushLiteral', integer.integer);\r\n    },\r\n\r\n    BOOLEAN: function(bool) {\r\n      this.opcode('pushLiteral', bool.bool);\r\n    },\r\n\r\n    comment: function() {},\r\n\r\n    // HELPERS\r\n    opcode: function(name) {\r\n      this.opcodes.push({ opcode: name, args: [].slice.call(arguments, 1) });\r\n    },\r\n\r\n    declare: function(name, value) {\r\n      this.opcodes.push({ opcode: 'DECLARE', name: name, value: value });\r\n    },\r\n\r\n    addDepth: function(depth) {\r\n      if(depth === 0) { return; }\r\n\r\n      if(!this.depths[depth]) {\r\n        this.depths[depth] = true;\r\n        this.depths.list.push(depth);\r\n      }\r\n    },\r\n\r\n    classifySexpr: function(sexpr) {\r\n      var isHelper   = sexpr.isHelper;\r\n      var isEligible = sexpr.eligibleHelper;\r\n      var options    = this.options;\r\n\r\n      // if ambiguous, we can possibly resolve the ambiguity now\r\n      if (isEligible && !isHelper) {\r\n        var name = sexpr.id.parts[0];\r\n\r\n        if (options.knownHelpers[name]) {\r\n          isHelper = true;\r\n        } else if (options.knownHelpersOnly) {\r\n          isEligible = false;\r\n        }\r\n      }\r\n\r\n      if (isHelper) { return \"helper\"; }\r\n      else if (isEligible) { return \"ambiguous\"; }\r\n      else { return \"simple\"; }\r\n    },\r\n\r\n    pushParams: function(params) {\r\n      var i = params.length, param;\r\n\r\n      while(i--) {\r\n        param = params[i];\r\n\r\n        if(this.options.stringParams) {\r\n          if(param.depth) {\r\n            this.addDepth(param.depth);\r\n          }\r\n\r\n          this.opcode('getContext', param.depth || 0);\r\n          this.opcode('pushStringParam', param.stringModeValue, param.type);\r\n\r\n          if (param.type === 'sexpr') {\r\n            // Subexpressions get evaluated and passed in\r\n            // in string params mode.\r\n            this.sexpr(param);\r\n          }\r\n        } else {\r\n          this[param.type](param);\r\n        }\r\n      }\r\n    },\r\n\r\n    setupFullMustacheParams: function(sexpr, program, inverse) {\r\n      var params = sexpr.params;\r\n      this.pushParams(params);\r\n\r\n      this.opcode('pushProgram', program);\r\n      this.opcode('pushProgram', inverse);\r\n\r\n      if (sexpr.hash) {\r\n        this.hash(sexpr.hash);\r\n      } else {\r\n        this.opcode('emptyHash');\r\n      }\r\n\r\n      return params;\r\n    }\r\n  };\r\n\r\n  function precompile(input, options, env) {\r\n    if (input == null || (typeof input !== 'string' && input.constructor !== env.AST.ProgramNode)) {\r\n      throw new Exception(\"You must pass a string or Handlebars AST to Handlebars.precompile. You passed \" + input);\r\n    }\r\n\r\n    options = options || {};\r\n    if (!('data' in options)) {\r\n      options.data = true;\r\n    }\r\n\r\n    var ast = env.parse(input);\r\n    var environment = new env.Compiler().compile(ast, options);\r\n    return new env.JavaScriptCompiler().compile(environment, options);\r\n  }\r\n\r\n  __exports__.precompile = precompile;function compile(input, options, env) {\r\n    if (input == null || (typeof input !== 'string' && input.constructor !== env.AST.ProgramNode)) {\r\n      throw new Exception(\"You must pass a string or Handlebars AST to Handlebars.compile. You passed \" + input);\r\n    }\r\n\r\n    options = options || {};\r\n\r\n    if (!('data' in options)) {\r\n      options.data = true;\r\n    }\r\n\r\n    var compiled;\r\n\r\n    function compileInput() {\r\n      var ast = env.parse(input);\r\n      var environment = new env.Compiler().compile(ast, options);\r\n      var templateSpec = new env.JavaScriptCompiler().compile(environment, options, undefined, true);\r\n      return env.template(templateSpec);\r\n    }\r\n\r\n    // Template is only compiled on first use and cached after that point.\r\n    return function(context, options) {\r\n      if (!compiled) {\r\n        compiled = compileInput();\r\n      }\r\n      return compiled.call(this, context, options);\r\n    };\r\n  }\r\n\r\n  __exports__.compile = compile;\r\n  return __exports__;\r\n})(__module5__);\r\n\r\n// handlebars/compiler/javascript-compiler.js\r\nvar __module11__ = (function(__dependency1__, __dependency2__) {\r\n  \"use strict\";\r\n  var __exports__;\r\n  var COMPILER_REVISION = __dependency1__.COMPILER_REVISION;\r\n  var REVISION_CHANGES = __dependency1__.REVISION_CHANGES;\r\n  var log = __dependency1__.log;\r\n  var Exception = __dependency2__;\r\n\r\n  function Literal(value) {\r\n    this.value = value;\r\n  }\r\n\r\n  function JavaScriptCompiler() {}\r\n\r\n  JavaScriptCompiler.prototype = {\r\n    // PUBLIC API: You can override these methods in a subclass to provide\r\n    // alternative compiled forms for name lookup and buffering semantics\r\n    nameLookup: function(parent, name /* , type*/) {\r\n      var wrap,\r\n          ret;\r\n      if (parent.indexOf('depth') === 0) {\r\n        wrap = true;\r\n      }\r\n\r\n      if (/^[0-9]+$/.test(name)) {\r\n        ret = parent + \"[\" + name + \"]\";\r\n      } else if (JavaScriptCompiler.isValidJavaScriptVariableName(name)) {\r\n        ret = parent + \".\" + name;\r\n      }\r\n      else {\r\n        ret = parent + \"['\" + name + \"']\";\r\n      }\r\n\r\n      if (wrap) {\r\n        return '(' + parent + ' && ' + ret + ')';\r\n      } else {\r\n        return ret;\r\n      }\r\n    },\r\n\r\n    compilerInfo: function() {\r\n      var revision = COMPILER_REVISION,\r\n          versions = REVISION_CHANGES[revision];\r\n      return \"this.compilerInfo = [\"+revision+\",'\"+versions+\"'];\\n\";\r\n    },\r\n\r\n    appendToBuffer: function(string) {\r\n      if (this.environment.isSimple) {\r\n        return \"return \" + string + \";\";\r\n      } else {\r\n        return {\r\n          appendToBuffer: true,\r\n          content: string,\r\n          toString: function() { return \"buffer += \" + string + \";\"; }\r\n        };\r\n      }\r\n    },\r\n\r\n    initializeBuffer: function() {\r\n      return this.quotedString(\"\");\r\n    },\r\n\r\n    namespace: \"Handlebars\",\r\n    // END PUBLIC API\r\n\r\n    compile: function(environment, options, context, asObject) {\r\n      this.environment = environment;\r\n      this.options = options || {};\r\n\r\n      log('debug', this.environment.disassemble() + \"\\n\\n\");\r\n\r\n      this.name = this.environment.name;\r\n      this.isChild = !!context;\r\n      this.context = context || {\r\n        programs: [],\r\n        environments: [],\r\n        aliases: { }\r\n      };\r\n\r\n      this.preamble();\r\n\r\n      this.stackSlot = 0;\r\n      this.stackVars = [];\r\n      this.registers = { list: [] };\r\n      this.hashes = [];\r\n      this.compileStack = [];\r\n      this.inlineStack = [];\r\n\r\n      this.compileChildren(environment, options);\r\n\r\n      var opcodes = environment.opcodes, opcode;\r\n\r\n      this.i = 0;\r\n\r\n      for(var l=opcodes.length; this.i<l; this.i++) {\r\n        opcode = opcodes[this.i];\r\n\r\n        if(opcode.opcode === 'DECLARE') {\r\n          this[opcode.name] = opcode.value;\r\n        } else {\r\n          this[opcode.opcode].apply(this, opcode.args);\r\n        }\r\n\r\n        // Reset the stripNext flag if it was not set by this operation.\r\n        if (opcode.opcode !== this.stripNext) {\r\n          this.stripNext = false;\r\n        }\r\n      }\r\n\r\n      // Flush any trailing content that might be pending.\r\n      this.pushSource('');\r\n\r\n      if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {\r\n        throw new Exception('Compile completed with content left on stack');\r\n      }\r\n\r\n      return this.createFunctionContext(asObject);\r\n    },\r\n\r\n    preamble: function() {\r\n      var out = [];\r\n\r\n      if (!this.isChild) {\r\n        var namespace = this.namespace;\r\n\r\n        var copies = \"helpers = this.merge(helpers, \" + namespace + \".helpers);\";\r\n        if (this.environment.usePartial) { copies = copies + \" partials = this.merge(partials, \" + namespace + \".partials);\"; }\r\n        if (this.options.data) { copies = copies + \" data = data || {};\"; }\r\n        out.push(copies);\r\n      } else {\r\n        out.push('');\r\n      }\r\n\r\n      if (!this.environment.isSimple) {\r\n        out.push(\", buffer = \" + this.initializeBuffer());\r\n      } else {\r\n        out.push(\"\");\r\n      }\r\n\r\n      // track the last context pushed into place to allow skipping the\r\n      // getContext opcode when it would be a noop\r\n      this.lastContext = 0;\r\n      this.source = out;\r\n    },\r\n\r\n    createFunctionContext: function(asObject) {\r\n      var locals = this.stackVars.concat(this.registers.list);\r\n\r\n      if(locals.length > 0) {\r\n        this.source[1] = this.source[1] + \", \" + locals.join(\", \");\r\n      }\r\n\r\n      // Generate minimizer alias mappings\r\n      if (!this.isChild) {\r\n        for (var alias in this.context.aliases) {\r\n          if (this.context.aliases.hasOwnProperty(alias)) {\r\n            this.source[1] = this.source[1] + ', ' + alias + '=' + this.context.aliases[alias];\r\n          }\r\n        }\r\n      }\r\n\r\n      if (this.source[1]) {\r\n        this.source[1] = \"var \" + this.source[1].substring(2) + \";\";\r\n      }\r\n\r\n      // Merge children\r\n      if (!this.isChild) {\r\n        this.source[1] += '\\n' + this.context.programs.join('\\n') + '\\n';\r\n      }\r\n\r\n      if (!this.environment.isSimple) {\r\n        this.pushSource(\"return buffer;\");\r\n      }\r\n\r\n      var params = this.isChild ? [\"depth0\", \"data\"] : [\"Handlebars\", \"depth0\", \"helpers\", \"partials\", \"data\"];\r\n\r\n      for(var i=0, l=this.environment.depths.list.length; i<l; i++) {\r\n        params.push(\"depth\" + this.environment.depths.list[i]);\r\n      }\r\n\r\n      // Perform a second pass over the output to merge content when possible\r\n      var source = this.mergeSource();\r\n\r\n      if (!this.isChild) {\r\n        source = this.compilerInfo()+source;\r\n      }\r\n\r\n      if (asObject) {\r\n        params.push(source);\r\n\r\n        return Function.apply(this, params);\r\n      } else {\r\n        var functionSource = 'function ' + (this.name || '') + '(' + params.join(',') + ') {\\n  ' + source + '}';\r\n        log('debug', functionSource + \"\\n\\n\");\r\n        return functionSource;\r\n      }\r\n    },\r\n    mergeSource: function() {\r\n      // WARN: We are not handling the case where buffer is still populated as the source should\r\n      // not have buffer append operations as their final action.\r\n      var source = '',\r\n          buffer;\r\n      for (var i = 0, len = this.source.length; i < len; i++) {\r\n        var line = this.source[i];\r\n        if (line.appendToBuffer) {\r\n          if (buffer) {\r\n            buffer = buffer + '\\n    + ' + line.content;\r\n          } else {\r\n            buffer = line.content;\r\n          }\r\n        } else {\r\n          if (buffer) {\r\n            source += 'buffer += ' + buffer + ';\\n  ';\r\n            buffer = undefined;\r\n          }\r\n          source += line + '\\n  ';\r\n        }\r\n      }\r\n      return source;\r\n    },\r\n\r\n    // [blockValue]\r\n    //\r\n    // On stack, before: hash, inverse, program, value\r\n    // On stack, after: return value of blockHelperMissing\r\n    //\r\n    // The purpose of this opcode is to take a block of the form\r\n    // `{{#foo}}...{{/foo}}`, resolve the value of `foo`, and\r\n    // replace it on the stack with the result of properly\r\n    // invoking blockHelperMissing.\r\n    blockValue: function() {\r\n      this.context.aliases.blockHelperMissing = 'helpers.blockHelperMissing';\r\n\r\n      var params = [\"depth0\"];\r\n      this.setupParams(0, params);\r\n\r\n      this.replaceStack(function(current) {\r\n        params.splice(1, 0, current);\r\n        return \"blockHelperMissing.call(\" + params.join(\", \") + \")\";\r\n      });\r\n    },\r\n\r\n    // [ambiguousBlockValue]\r\n    //\r\n    // On stack, before: hash, inverse, program, value\r\n    // Compiler value, before: lastHelper=value of last found helper, if any\r\n    // On stack, after, if no lastHelper: same as [blockValue]\r\n    // On stack, after, if lastHelper: value\r\n    ambiguousBlockValue: function() {\r\n      this.context.aliases.blockHelperMissing = 'helpers.blockHelperMissing';\r\n\r\n      var params = [\"depth0\"];\r\n      this.setupParams(0, params);\r\n\r\n      var current = this.topStack();\r\n      params.splice(1, 0, current);\r\n\r\n      this.pushSource(\"if (!\" + this.lastHelper + \") { \" + current + \" = blockHelperMissing.call(\" + params.join(\", \") + \"); }\");\r\n    },\r\n\r\n    // [appendContent]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: ...\r\n    //\r\n    // Appends the string value of `content` to the current buffer\r\n    appendContent: function(content) {\r\n      if (this.pendingContent) {\r\n        content = this.pendingContent + content;\r\n      }\r\n      if (this.stripNext) {\r\n        content = content.replace(/^\\s+/, '');\r\n      }\r\n\r\n      this.pendingContent = content;\r\n    },\r\n\r\n    // [strip]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: ...\r\n    //\r\n    // Removes any trailing whitespace from the prior content node and flags\r\n    // the next operation for stripping if it is a content node.\r\n    strip: function() {\r\n      if (this.pendingContent) {\r\n        this.pendingContent = this.pendingContent.replace(/\\s+$/, '');\r\n      }\r\n      this.stripNext = 'strip';\r\n    },\r\n\r\n    // [append]\r\n    //\r\n    // On stack, before: value, ...\r\n    // On stack, after: ...\r\n    //\r\n    // Coerces `value` to a String and appends it to the current buffer.\r\n    //\r\n    // If `value` is truthy, or 0, it is coerced into a string and appended\r\n    // Otherwise, the empty string is appended\r\n    append: function() {\r\n      // Force anything that is inlined onto the stack so we don't have duplication\r\n      // when we examine local\r\n      this.flushInline();\r\n      var local = this.popStack();\r\n      this.pushSource(\"if(\" + local + \" || \" + local + \" === 0) { \" + this.appendToBuffer(local) + \" }\");\r\n      if (this.environment.isSimple) {\r\n        this.pushSource(\"else { \" + this.appendToBuffer(\"''\") + \" }\");\r\n      }\r\n    },\r\n\r\n    // [appendEscaped]\r\n    //\r\n    // On stack, before: value, ...\r\n    // On stack, after: ...\r\n    //\r\n    // Escape `value` and append it to the buffer\r\n    appendEscaped: function() {\r\n      this.context.aliases.escapeExpression = 'this.escapeExpression';\r\n\r\n      this.pushSource(this.appendToBuffer(\"escapeExpression(\" + this.popStack() + \")\"));\r\n    },\r\n\r\n    // [getContext]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: ...\r\n    // Compiler value, after: lastContext=depth\r\n    //\r\n    // Set the value of the `lastContext` compiler value to the depth\r\n    getContext: function(depth) {\r\n      if(this.lastContext !== depth) {\r\n        this.lastContext = depth;\r\n      }\r\n    },\r\n\r\n    // [lookupOnContext]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: currentContext[name], ...\r\n    //\r\n    // Looks up the value of `name` on the current context and pushes\r\n    // it onto the stack.\r\n    lookupOnContext: function(name) {\r\n      this.push(this.nameLookup('depth' + this.lastContext, name, 'context'));\r\n    },\r\n\r\n    // [pushContext]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: currentContext, ...\r\n    //\r\n    // Pushes the value of the current context onto the stack.\r\n    pushContext: function() {\r\n      this.pushStackLiteral('depth' + this.lastContext);\r\n    },\r\n\r\n    // [resolvePossibleLambda]\r\n    //\r\n    // On stack, before: value, ...\r\n    // On stack, after: resolved value, ...\r\n    //\r\n    // If the `value` is a lambda, replace it on the stack by\r\n    // the return value of the lambda\r\n    resolvePossibleLambda: function() {\r\n      this.context.aliases.functionType = '\"function\"';\r\n\r\n      this.replaceStack(function(current) {\r\n        return \"typeof \" + current + \" === functionType ? \" + current + \".apply(depth0) : \" + current;\r\n      });\r\n    },\r\n\r\n    // [lookup]\r\n    //\r\n    // On stack, before: value, ...\r\n    // On stack, after: value[name], ...\r\n    //\r\n    // Replace the value on the stack with the result of looking\r\n    // up `name` on `value`\r\n    lookup: function(name) {\r\n      this.replaceStack(function(current) {\r\n        return current + \" == null || \" + current + \" === false ? \" + current + \" : \" + this.nameLookup(current, name, 'context');\r\n      });\r\n    },\r\n\r\n    // [lookupData]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: data, ...\r\n    //\r\n    // Push the data lookup operator\r\n    lookupData: function() {\r\n      this.pushStackLiteral('data');\r\n    },\r\n\r\n    // [pushStringParam]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: string, currentContext, ...\r\n    //\r\n    // This opcode is designed for use in string mode, which\r\n    // provides the string value of a parameter along with its\r\n    // depth rather than resolving it immediately.\r\n    pushStringParam: function(string, type) {\r\n      this.pushStackLiteral('depth' + this.lastContext);\r\n\r\n      this.pushString(type);\r\n\r\n      // If it's a subexpression, the string result\r\n      // will be pushed after this opcode.\r\n      if (type !== 'sexpr') {\r\n        if (typeof string === 'string') {\r\n          this.pushString(string);\r\n        } else {\r\n          this.pushStackLiteral(string);\r\n        }\r\n      }\r\n    },\r\n\r\n    emptyHash: function() {\r\n      this.pushStackLiteral('{}');\r\n\r\n      if (this.options.stringParams) {\r\n        this.push('{}'); // hashContexts\r\n        this.push('{}'); // hashTypes\r\n      }\r\n    },\r\n    pushHash: function() {\r\n      if (this.hash) {\r\n        this.hashes.push(this.hash);\r\n      }\r\n      this.hash = {values: [], types: [], contexts: []};\r\n    },\r\n    popHash: function() {\r\n      var hash = this.hash;\r\n      this.hash = this.hashes.pop();\r\n\r\n      if (this.options.stringParams) {\r\n        this.push('{' + hash.contexts.join(',') + '}');\r\n        this.push('{' + hash.types.join(',') + '}');\r\n      }\r\n\r\n      this.push('{\\n    ' + hash.values.join(',\\n    ') + '\\n  }');\r\n    },\r\n\r\n    // [pushString]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: quotedString(string), ...\r\n    //\r\n    // Push a quoted version of `string` onto the stack\r\n    pushString: function(string) {\r\n      this.pushStackLiteral(this.quotedString(string));\r\n    },\r\n\r\n    // [push]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: expr, ...\r\n    //\r\n    // Push an expression onto the stack\r\n    push: function(expr) {\r\n      this.inlineStack.push(expr);\r\n      return expr;\r\n    },\r\n\r\n    // [pushLiteral]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: value, ...\r\n    //\r\n    // Pushes a value onto the stack. This operation prevents\r\n    // the compiler from creating a temporary variable to hold\r\n    // it.\r\n    pushLiteral: function(value) {\r\n      this.pushStackLiteral(value);\r\n    },\r\n\r\n    // [pushProgram]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: program(guid), ...\r\n    //\r\n    // Push a program expression onto the stack. This takes\r\n    // a compile-time guid and converts it into a runtime-accessible\r\n    // expression.\r\n    pushProgram: function(guid) {\r\n      if (guid != null) {\r\n        this.pushStackLiteral(this.programExpression(guid));\r\n      } else {\r\n        this.pushStackLiteral(null);\r\n      }\r\n    },\r\n\r\n    // [invokeHelper]\r\n    //\r\n    // On stack, before: hash, inverse, program, params..., ...\r\n    // On stack, after: result of helper invocation\r\n    //\r\n    // Pops off the helper's parameters, invokes the helper,\r\n    // and pushes the helper's return value onto the stack.\r\n    //\r\n    // If the helper is not found, `helperMissing` is called.\r\n    invokeHelper: function(paramSize, name, isRoot) {\r\n      this.context.aliases.helperMissing = 'helpers.helperMissing';\r\n      this.useRegister('helper');\r\n\r\n      var helper = this.lastHelper = this.setupHelper(paramSize, name, true);\r\n      var nonHelper = this.nameLookup('depth' + this.lastContext, name, 'context');\r\n\r\n      var lookup = 'helper = ' + helper.name + ' || ' + nonHelper;\r\n      if (helper.paramsInit) {\r\n        lookup += ',' + helper.paramsInit;\r\n      }\r\n\r\n      this.push(\r\n        '('\r\n          + lookup\r\n          + ',helper '\r\n            + '? helper.call(' + helper.callParams + ') '\r\n            + ': helperMissing.call(' + helper.helperMissingParams + '))');\r\n\r\n      // Always flush subexpressions. This is both to prevent the compounding size issue that\r\n      // occurs when the code has to be duplicated for inlining and also to prevent errors\r\n      // due to the incorrect options object being passed due to the shared register.\r\n      if (!isRoot) {\r\n        this.flushInline();\r\n      }\r\n    },\r\n\r\n    // [invokeKnownHelper]\r\n    //\r\n    // On stack, before: hash, inverse, program, params..., ...\r\n    // On stack, after: result of helper invocation\r\n    //\r\n    // This operation is used when the helper is known to exist,\r\n    // so a `helperMissing` fallback is not required.\r\n    invokeKnownHelper: function(paramSize, name) {\r\n      var helper = this.setupHelper(paramSize, name);\r\n      this.push(helper.name + \".call(\" + helper.callParams + \")\");\r\n    },\r\n\r\n    // [invokeAmbiguous]\r\n    //\r\n    // On stack, before: hash, inverse, program, params..., ...\r\n    // On stack, after: result of disambiguation\r\n    //\r\n    // This operation is used when an expression like `{{foo}}`\r\n    // is provided, but we don't know at compile-time whether it\r\n    // is a helper or a path.\r\n    //\r\n    // This operation emits more code than the other options,\r\n    // and can be avoided by passing the `knownHelpers` and\r\n    // `knownHelpersOnly` flags at compile-time.\r\n    invokeAmbiguous: function(name, helperCall) {\r\n      this.context.aliases.functionType = '\"function\"';\r\n      this.useRegister('helper');\r\n\r\n      this.emptyHash();\r\n      var helper = this.setupHelper(0, name, helperCall);\r\n\r\n      var helperName = this.lastHelper = this.nameLookup('helpers', name, 'helper');\r\n\r\n      var nonHelper = this.nameLookup('depth' + this.lastContext, name, 'context');\r\n      var nextStack = this.nextStack();\r\n\r\n      if (helper.paramsInit) {\r\n        this.pushSource(helper.paramsInit);\r\n      }\r\n      this.pushSource('if (helper = ' + helperName + ') { ' + nextStack + ' = helper.call(' + helper.callParams + '); }');\r\n      this.pushSource('else { helper = ' + nonHelper + '; ' + nextStack + ' = typeof helper === functionType ? helper.call(' + helper.callParams + ') : helper; }');\r\n    },\r\n\r\n    // [invokePartial]\r\n    //\r\n    // On stack, before: context, ...\r\n    // On stack after: result of partial invocation\r\n    //\r\n    // This operation pops off a context, invokes a partial with that context,\r\n    // and pushes the result of the invocation back.\r\n    invokePartial: function(name) {\r\n      var params = [this.nameLookup('partials', name, 'partial'), \"'\" + name + \"'\", this.popStack(), \"helpers\", \"partials\"];\r\n\r\n      if (this.options.data) {\r\n        params.push(\"data\");\r\n      }\r\n\r\n      this.context.aliases.self = \"this\";\r\n      this.push(\"self.invokePartial(\" + params.join(\", \") + \")\");\r\n    },\r\n\r\n    // [assignToHash]\r\n    //\r\n    // On stack, before: value, hash, ...\r\n    // On stack, after: hash, ...\r\n    //\r\n    // Pops a value and hash off the stack, assigns `hash[key] = value`\r\n    // and pushes the hash back onto the stack.\r\n    assignToHash: function(key) {\r\n      var value = this.popStack(),\r\n          context,\r\n          type;\r\n\r\n      if (this.options.stringParams) {\r\n        type = this.popStack();\r\n        context = this.popStack();\r\n      }\r\n\r\n      var hash = this.hash;\r\n      if (context) {\r\n        hash.contexts.push(\"'\" + key + \"': \" + context);\r\n      }\r\n      if (type) {\r\n        hash.types.push(\"'\" + key + \"': \" + type);\r\n      }\r\n      hash.values.push(\"'\" + key + \"': (\" + value + \")\");\r\n    },\r\n\r\n    // HELPERS\r\n\r\n    compiler: JavaScriptCompiler,\r\n\r\n    compileChildren: function(environment, options) {\r\n      var children = environment.children, child, compiler;\r\n\r\n      for(var i=0, l=children.length; i<l; i++) {\r\n        child = children[i];\r\n        compiler = new this.compiler();\r\n\r\n        var index = this.matchExistingProgram(child);\r\n\r\n        if (index == null) {\r\n          this.context.programs.push('');     // Placeholder to prevent name conflicts for nested children\r\n          index = this.context.programs.length;\r\n          child.index = index;\r\n          child.name = 'program' + index;\r\n          this.context.programs[index] = compiler.compile(child, options, this.context);\r\n          this.context.environments[index] = child;\r\n        } else {\r\n          child.index = index;\r\n          child.name = 'program' + index;\r\n        }\r\n      }\r\n    },\r\n    matchExistingProgram: function(child) {\r\n      for (var i = 0, len = this.context.environments.length; i < len; i++) {\r\n        var environment = this.context.environments[i];\r\n        if (environment && environment.equals(child)) {\r\n          return i;\r\n        }\r\n      }\r\n    },\r\n\r\n    programExpression: function(guid) {\r\n      this.context.aliases.self = \"this\";\r\n\r\n      if(guid == null) {\r\n        return \"self.noop\";\r\n      }\r\n\r\n      var child = this.environment.children[guid],\r\n          depths = child.depths.list, depth;\r\n\r\n      var programParams = [child.index, child.name, \"data\"];\r\n\r\n      for(var i=0, l = depths.length; i<l; i++) {\r\n        depth = depths[i];\r\n\r\n        if(depth === 1) { programParams.push(\"depth0\"); }\r\n        else { programParams.push(\"depth\" + (depth - 1)); }\r\n      }\r\n\r\n      return (depths.length === 0 ? \"self.program(\" : \"self.programWithDepth(\") + programParams.join(\", \") + \")\";\r\n    },\r\n\r\n    register: function(name, val) {\r\n      this.useRegister(name);\r\n      this.pushSource(name + \" = \" + val + \";\");\r\n    },\r\n\r\n    useRegister: function(name) {\r\n      if(!this.registers[name]) {\r\n        this.registers[name] = true;\r\n        this.registers.list.push(name);\r\n      }\r\n    },\r\n\r\n    pushStackLiteral: function(item) {\r\n      return this.push(new Literal(item));\r\n    },\r\n\r\n    pushSource: function(source) {\r\n      if (this.pendingContent) {\r\n        this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent)));\r\n        this.pendingContent = undefined;\r\n      }\r\n\r\n      if (source) {\r\n        this.source.push(source);\r\n      }\r\n    },\r\n\r\n    pushStack: function(item) {\r\n      this.flushInline();\r\n\r\n      var stack = this.incrStack();\r\n      if (item) {\r\n        this.pushSource(stack + \" = \" + item + \";\");\r\n      }\r\n      this.compileStack.push(stack);\r\n      return stack;\r\n    },\r\n\r\n    replaceStack: function(callback) {\r\n      var prefix = '',\r\n          inline = this.isInline(),\r\n          stack,\r\n          createdStack,\r\n          usedLiteral;\r\n\r\n      // If we are currently inline then we want to merge the inline statement into the\r\n      // replacement statement via ','\r\n      if (inline) {\r\n        var top = this.popStack(true);\r\n\r\n        if (top instanceof Literal) {\r\n          // Literals do not need to be inlined\r\n          stack = top.value;\r\n          usedLiteral = true;\r\n        } else {\r\n          // Get or create the current stack name for use by the inline\r\n          createdStack = !this.stackSlot;\r\n          var name = !createdStack ? this.topStackName() : this.incrStack();\r\n\r\n          prefix = '(' + this.push(name) + ' = ' + top + '),';\r\n          stack = this.topStack();\r\n        }\r\n      } else {\r\n        stack = this.topStack();\r\n      }\r\n\r\n      var item = callback.call(this, stack);\r\n\r\n      if (inline) {\r\n        if (!usedLiteral) {\r\n          this.popStack();\r\n        }\r\n        if (createdStack) {\r\n          this.stackSlot--;\r\n        }\r\n        this.push('(' + prefix + item + ')');\r\n      } else {\r\n        // Prevent modification of the context depth variable. Through replaceStack\r\n        if (!/^stack/.test(stack)) {\r\n          stack = this.nextStack();\r\n        }\r\n\r\n        this.pushSource(stack + \" = (\" + prefix + item + \");\");\r\n      }\r\n      return stack;\r\n    },\r\n\r\n    nextStack: function() {\r\n      return this.pushStack();\r\n    },\r\n\r\n    incrStack: function() {\r\n      this.stackSlot++;\r\n      if(this.stackSlot > this.stackVars.length) { this.stackVars.push(\"stack\" + this.stackSlot); }\r\n      return this.topStackName();\r\n    },\r\n    topStackName: function() {\r\n      return \"stack\" + this.stackSlot;\r\n    },\r\n    flushInline: function() {\r\n      var inlineStack = this.inlineStack;\r\n      if (inlineStack.length) {\r\n        this.inlineStack = [];\r\n        for (var i = 0, len = inlineStack.length; i < len; i++) {\r\n          var entry = inlineStack[i];\r\n          if (entry instanceof Literal) {\r\n            this.compileStack.push(entry);\r\n          } else {\r\n            this.pushStack(entry);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    isInline: function() {\r\n      return this.inlineStack.length;\r\n    },\r\n\r\n    popStack: function(wrapped) {\r\n      var inline = this.isInline(),\r\n          item = (inline ? this.inlineStack : this.compileStack).pop();\r\n\r\n      if (!wrapped && (item instanceof Literal)) {\r\n        return item.value;\r\n      } else {\r\n        if (!inline) {\r\n          if (!this.stackSlot) {\r\n            throw new Exception('Invalid stack pop');\r\n          }\r\n          this.stackSlot--;\r\n        }\r\n        return item;\r\n      }\r\n    },\r\n\r\n    topStack: function(wrapped) {\r\n      var stack = (this.isInline() ? this.inlineStack : this.compileStack),\r\n          item = stack[stack.length - 1];\r\n\r\n      if (!wrapped && (item instanceof Literal)) {\r\n        return item.value;\r\n      } else {\r\n        return item;\r\n      }\r\n    },\r\n\r\n    quotedString: function(str) {\r\n      return '\"' + str\r\n        .replace(/\\\\/g, '\\\\\\\\')\r\n        .replace(/\"/g, '\\\\\"')\r\n        .replace(/\\n/g, '\\\\n')\r\n        .replace(/\\r/g, '\\\\r')\r\n        .replace(/\\u2028/g, '\\\\u2028')   // Per Ecma-262 7.3 + 7.8.4\r\n        .replace(/\\u2029/g, '\\\\u2029') + '\"';\r\n    },\r\n\r\n    setupHelper: function(paramSize, name, missingParams) {\r\n      var params = [],\r\n          paramsInit = this.setupParams(paramSize, params, missingParams);\r\n      var foundHelper = this.nameLookup('helpers', name, 'helper');\r\n\r\n      return {\r\n        params: params,\r\n        paramsInit: paramsInit,\r\n        name: foundHelper,\r\n        callParams: [\"depth0\"].concat(params).join(\", \"),\r\n        helperMissingParams: missingParams && [\"depth0\", this.quotedString(name)].concat(params).join(\", \")\r\n      };\r\n    },\r\n\r\n    setupOptions: function(paramSize, params) {\r\n      var options = [], contexts = [], types = [], param, inverse, program;\r\n\r\n      options.push(\"hash:\" + this.popStack());\r\n\r\n      if (this.options.stringParams) {\r\n        options.push(\"hashTypes:\" + this.popStack());\r\n        options.push(\"hashContexts:\" + this.popStack());\r\n      }\r\n\r\n      inverse = this.popStack();\r\n      program = this.popStack();\r\n\r\n      // Avoid setting fn and inverse if neither are set. This allows\r\n      // helpers to do a check for `if (options.fn)`\r\n      if (program || inverse) {\r\n        if (!program) {\r\n          this.context.aliases.self = \"this\";\r\n          program = \"self.noop\";\r\n        }\r\n\r\n        if (!inverse) {\r\n          this.context.aliases.self = \"this\";\r\n          inverse = \"self.noop\";\r\n        }\r\n\r\n        options.push(\"inverse:\" + inverse);\r\n        options.push(\"fn:\" + program);\r\n      }\r\n\r\n      for(var i=0; i<paramSize; i++) {\r\n        param = this.popStack();\r\n        params.push(param);\r\n\r\n        if(this.options.stringParams) {\r\n          types.push(this.popStack());\r\n          contexts.push(this.popStack());\r\n        }\r\n      }\r\n\r\n      if (this.options.stringParams) {\r\n        options.push(\"contexts:[\" + contexts.join(\",\") + \"]\");\r\n        options.push(\"types:[\" + types.join(\",\") + \"]\");\r\n      }\r\n\r\n      if(this.options.data) {\r\n        options.push(\"data:data\");\r\n      }\r\n\r\n      return options;\r\n    },\r\n\r\n    // the params and contexts arguments are passed in arrays\r\n    // to fill in\r\n    setupParams: function(paramSize, params, useRegister) {\r\n      var options = '{' + this.setupOptions(paramSize, params).join(',') + '}';\r\n\r\n      if (useRegister) {\r\n        this.useRegister('options');\r\n        params.push('options');\r\n        return 'options=' + options;\r\n      } else {\r\n        params.push(options);\r\n        return '';\r\n      }\r\n    }\r\n  };\r\n\r\n  var reservedWords = (\r\n    \"break else new var\" +\r\n    \" case finally return void\" +\r\n    \" catch for switch while\" +\r\n    \" continue function this with\" +\r\n    \" default if throw\" +\r\n    \" delete in try\" +\r\n    \" do instanceof typeof\" +\r\n    \" abstract enum int short\" +\r\n    \" boolean export interface static\" +\r\n    \" byte extends long super\" +\r\n    \" char final native synchronized\" +\r\n    \" class float package throws\" +\r\n    \" const goto private transient\" +\r\n    \" debugger implements protected volatile\" +\r\n    \" double import public let yield\"\r\n  ).split(\" \");\r\n\r\n  var compilerWords = JavaScriptCompiler.RESERVED_WORDS = {};\r\n\r\n  for(var i=0, l=reservedWords.length; i<l; i++) {\r\n    compilerWords[reservedWords[i]] = true;\r\n  }\r\n\r\n  JavaScriptCompiler.isValidJavaScriptVariableName = function(name) {\r\n    if(!JavaScriptCompiler.RESERVED_WORDS[name] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  __exports__ = JavaScriptCompiler;\r\n  return __exports__;\r\n})(__module2__, __module5__);\r\n\r\n// handlebars.js\r\nvar __module0__ = (function(__dependency1__, __dependency2__, __dependency3__, __dependency4__, __dependency5__) {\r\n  \"use strict\";\r\n  var __exports__;\r\n  /*globals Handlebars: true */\r\n  var Handlebars = __dependency1__;\r\n\r\n  // Compiler imports\r\n  var AST = __dependency2__;\r\n  var Parser = __dependency3__.parser;\r\n  var parse = __dependency3__.parse;\r\n  var Compiler = __dependency4__.Compiler;\r\n  var compile = __dependency4__.compile;\r\n  var precompile = __dependency4__.precompile;\r\n  var JavaScriptCompiler = __dependency5__;\r\n\r\n  var _create = Handlebars.create;\r\n  var create = function() {\r\n    var hb = _create();\r\n\r\n    hb.compile = function(input, options) {\r\n      return compile(input, options, hb);\r\n    };\r\n    hb.precompile = function (input, options) {\r\n      return precompile(input, options, hb);\r\n    };\r\n\r\n    hb.AST = AST;\r\n    hb.Compiler = Compiler;\r\n    hb.JavaScriptCompiler = JavaScriptCompiler;\r\n    hb.Parser = Parser;\r\n    hb.parse = parse;\r\n\r\n    return hb;\r\n  };\r\n\r\n  Handlebars = create();\r\n  Handlebars.create = create;\r\n\r\n  __exports__ = Handlebars;\r\n  return __exports__;\r\n})(__module1__, __module7__, __module8__, __module10__, __module11__);\r\n\r\n  return __module0__;\r\n})();\r\n","\nRegExp.escape=function(s){return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,'\\\\$&');};(function($){'use strict'\n$.csv={defaults:{separator:',',delimiter:'\"',headers:true},hooks:{castToScalar:function(value,state){var hasDot=/\\./;if(isNaN(value)){return value;}else{if(hasDot.test(value)){return parseFloat(value);}else{var integer=parseInt(value);if(isNaN(integer)){return null;}else{return integer;}}}}},parsers:{parse:function(csv,options){var separator=options.separator;var delimiter=options.delimiter;if(!options.state.rowNum){options.state.rowNum=1;}\nif(!options.state.colNum){options.state.colNum=1;}\nvar data=[];var entry=[];var state=0;var value=''\nvar exit=false;function endOfEntry(){state=0;value='';if(options.start&&options.state.rowNum<options.start){entry=[];options.state.rowNum++;options.state.colNum=1;return;}\nif(options.onParseEntry===undefined){data.push(entry);}else{var hookVal=options.onParseEntry(entry,options.state);if(hookVal!==false){data.push(hookVal);}}\nentry=[];if(options.end&&options.state.rowNum>=options.end){exit=true;}\noptions.state.rowNum++;options.state.colNum=1;}\nfunction endOfValue(){if(options.onParseValue===undefined){entry.push(value);}else{var hook=options.onParseValue(value,options.state);if(hook!==false){entry.push(hook);}}\nvalue='';state=0;options.state.colNum++;}\nvar escSeparator=RegExp.escape(separator);var escDelimiter=RegExp.escape(delimiter);var match=/(D|S|\\n|\\r|[^DS\\r\\n]+)/;var matchSrc=match.source;matchSrc=matchSrc.replace(/S/g,escSeparator);matchSrc=matchSrc.replace(/D/g,escDelimiter);match=RegExp(matchSrc,'gm');csv.replace(match,function(m0){if(exit){return;}\nswitch(state){case 0:if(m0===separator){value+='';endOfValue();break;}\nif(m0===delimiter){state=1;break;}\nif(m0==='\\n'){endOfValue();endOfEntry();break;}\nif(/^\\r$/.test(m0)){break;}\nvalue+=m0;state=3;break;case 1:if(m0===delimiter){state=2;break;}\nvalue+=m0;state=1;break;case 2:if(m0===delimiter){value+=m0;state=1;break;}\nif(m0===separator){endOfValue();break;}\nif(m0==='\\n'){endOfValue();endOfEntry();break;}\nif(/^\\r$/.test(m0)){break;}\nthrow new Error('CSVDataError: Illegal State [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');case 3:if(m0===separator){endOfValue();break;}\nif(m0==='\\n'){endOfValue();endOfEntry();break;}\nif(/^\\r$/.test(m0)){break;}\nif(m0===delimiter){throw new Error('CSVDataError: Illegal Quote [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');}\nthrow new Error('CSVDataError: Illegal Data [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');default:throw new Error('CSVDataError: Unknown State [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');}});if(entry.length!==0){endOfValue();endOfEntry();}\nreturn data;},splitLines:function(csv,options){var separator=options.separator;var delimiter=options.delimiter;if(!options.state.rowNum){options.state.rowNum=1;}\nvar entries=[];var state=0;var entry='';var exit=false;function endOfLine(){state=0;if(options.start&&options.state.rowNum<options.start){entry='';options.state.rowNum++;return;}\nif(options.onParseEntry===undefined){entries.push(entry);}else{var hookVal=options.onParseEntry(entry,options.state);if(hookVal!==false){entries.push(hookVal);}}\nentry='';if(options.end&&options.state.rowNum>=options.end){exit=true;}\noptions.state.rowNum++;}\nvar escSeparator=RegExp.escape(separator);var escDelimiter=RegExp.escape(delimiter);var match=/(D|S|\\n|\\r|[^DS\\r\\n]+)/;var matchSrc=match.source;matchSrc=matchSrc.replace(/S/g,escSeparator);matchSrc=matchSrc.replace(/D/g,escDelimiter);match=RegExp(matchSrc,'gm');csv.replace(match,function(m0){if(exit){return;}\nswitch(state){case 0:if(m0===separator){entry+=m0;state=0;break;}\nif(m0===delimiter){entry+=m0;state=1;break;}\nif(m0==='\\n'){endOfLine();break;}\nif(/^\\r$/.test(m0)){break;}\nentry+=m0;state=3;break;case 1:if(m0===delimiter){entry+=m0;state=2;break;}\nentry+=m0;state=1;break;case 2:var prevChar=entry.substr(entry.length-1);if(m0===delimiter&&prevChar===delimiter){entry+=m0;state=1;break;}\nif(m0===separator){entry+=m0;state=0;break;}\nif(m0==='\\n'){endOfLine();break;}\nif(m0==='\\r'){break;}\nthrow new Error('CSVDataError: Illegal state [Row:'+options.state.rowNum+']');case 3:if(m0===separator){entry+=m0;state=0;break;}\nif(m0==='\\n'){endOfLine();break;}\nif(m0==='\\r'){break;}\nif(m0===delimiter){throw new Error('CSVDataError: Illegal quote [Row:'+options.state.rowNum+']');}\nthrow new Error('CSVDataError: Illegal state [Row:'+options.state.rowNum+']');default:throw new Error('CSVDataError: Unknown state [Row:'+options.state.rowNum+']');}});if(entry!==''){endOfLine();}\nreturn entries;},parseEntry:function(csv,options){var separator=options.separator;var delimiter=options.delimiter;if(!options.state.rowNum){options.state.rowNum=1;}\nif(!options.state.colNum){options.state.colNum=1;}\nvar entry=[];var state=0;var value='';function endOfValue(){if(options.onParseValue===undefined){entry.push(value);}else{var hook=options.onParseValue(value,options.state);if(hook!==false){entry.push(hook);}}\nvalue='';state=0;options.state.colNum++;}\nif(!options.match){var escSeparator=RegExp.escape(separator);var escDelimiter=RegExp.escape(delimiter);var match=/(D|S|\\n|\\r|[^DS\\r\\n]+)/;var matchSrc=match.source;matchSrc=matchSrc.replace(/S/g,escSeparator);matchSrc=matchSrc.replace(/D/g,escDelimiter);options.match=RegExp(matchSrc,'gm');}\ncsv.replace(options.match,function(m0){switch(state){case 0:if(m0===separator){value+='';endOfValue();break;}\nif(m0===delimiter){state=1;break;}\nif(m0==='\\n'||m0==='\\r'){break;}\nvalue+=m0;state=3;break;case 1:if(m0===delimiter){state=2;break;}\nvalue+=m0;state=1;break;case 2:if(m0===delimiter){value+=m0;state=1;break;}\nif(m0===separator){endOfValue();break;}\nif(m0==='\\n'||m0==='\\r'){break;}\nthrow new Error('CSVDataError: Illegal State [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');case 3:if(m0===separator){endOfValue();break;}\nif(m0==='\\n'||m0==='\\r'){break;}\nif(m0===delimiter){throw new Error('CSVDataError: Illegal Quote [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');}\nthrow new Error('CSVDataError: Illegal Data [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');default:throw new Error('CSVDataError: Unknown State [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');}});endOfValue();return entry;}},toArray:function(csv,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;var state=(options.state!==undefined?options.state:{});var options={delimiter:config.delimiter,separator:config.separator,onParseEntry:options.onParseEntry,onParseValue:options.onParseValue,state:state}\nvar entry=$.csv.parsers.parseEntry(csv,options);if(!config.callback){return entry;}else{config.callback('',entry);}},toArrays:function(csv,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;var data=[];var options={delimiter:config.delimiter,separator:config.separator,onParseEntry:options.onParseEntry,onParseValue:options.onParseValue,start:options.start,end:options.end,state:{rowNum:1,colNum:1}};data=$.csv.parsers.parse(csv,options);if(!config.callback){return data;}else{config.callback('',data);}},toObjects:function(csv,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;config.headers='headers'in options?options.headers:$.csv.defaults.headers;options.start='start'in options?options.start:1;if(config.headers){options.start++;}\nif(options.end&&config.headers){options.end++;}\nvar lines=[];var data=[];var options={delimiter:config.delimiter,separator:config.separator,onParseEntry:options.onParseEntry,onParseValue:options.onParseValue,start:options.start,end:options.end,state:{rowNum:1,colNum:1},match:false};var headerOptions={delimiter:config.delimiter,separator:config.separator,start:1,end:1,state:{rowNum:1,colNum:1}}\nvar headerLine=$.csv.parsers.splitLines(csv,headerOptions);var headers=$.csv.toArray(headerLine[0],options);var lines=$.csv.parsers.splitLines(csv,options);options.state.colNum=1;if(headers){options.state.rowNum=2;}else{options.state.rowNum=1;}\nfor(var i=0,len=lines.length;i<len;i++){var entry=$.csv.toArray(lines[i],options);var object={};for(var j in headers){object[headers[j]]=entry[j];}\ndata.push(object);options.state.rowNum++;}\nif(!config.callback){return data;}else{config.callback('',data);}},fromArrays:function(arrays,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;config.escaper='escaper'in options?options.escaper:$.csv.defaults.escaper;config.experimental='experimental'in options?options.experimental:false;if(!config.experimental){throw new Error('not implemented');}\nvar output=[];for(i in arrays){output.push(arrays[i]);}\nif(!config.callback){return output;}else{config.callback('',output);}},fromObjects2CSV:function(objects,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;config.experimental='experimental'in options?options.experimental:false;if(!config.experimental){throw new Error('not implemented');}\nvar output=[];for(i in objects){output.push(arrays[i]);}\nif(!config.callback){return output;}else{config.callback('',output);}}};$.csvEntry2Array=$.csv.toArray;$.csv2Array=$.csv.toArrays;$.csv2Dictionary=$.csv.toObjects;})(jQuery);","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jso\"] = factory();\n\telse\n\t\troot[\"jso\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 90);\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.5.3' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = {};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","export default class BasicLoader {\n\tconstructor(url) {\n\t\tconsole.log(\"Initializing a loader with url \" + url)\n\t\tthis.url = url\n\t}\n\texecute() {\n\n\t}\n}\n","\nlet utils = {}\n\n/*\n * Returns epoch, seconds since 1970.\n * Used for calculation of expire times.\n */\nutils.epoch = function() {\n\treturn Math.round(new Date().getTime()/1000.0)\n}\n\nutils.debug = false\n\n/*\n * Returns a random string used for state\n */\nutils.uuid = function() {\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t\tvar r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8)\n\t    return v.toString(16)\n\t})\n}\n\n/*\n * Takes a full url as input and expect it to have an encoded response\n * object as eigther a query string or an encoded fragment.\n * Returns the decoded object, or throws an error if no query string or fragment.\n */\nutils.getResponseFromURL = function (url) {\n  if (url.indexOf('#') !== -1) {\n    return utils.parseQueryString(url.substring(url.indexOf('#')+1))\n  } else if (url.indexOf('?') !== -1) {\n    return utils.parseQueryString(url.substring(url.indexOf('?')+1))\n  }\n  return {}\n}\n\nutils.parseQueryString = function (qs) {\n\tvar e,\n\t\ta = /\\+/g,  // Regex for replacing addition symbol with a space\n\t\tr = /([^&;=]+)=?([^&;]*)/g,\n\t\td = function (s) { return decodeURIComponent(s.replace(a, \" \")) },\n\t\tq = qs,\n\t\turlParams = {}\n\n\t/* jshint ignore:start */\n\twhile (e = r.exec(q)) {\n\t   urlParams[d(e[1])] = d(e[2])\n\t};\n\t/* jshint ignore:end */\n\n\treturn urlParams\n}\n\n\n\n\n\n/**\n * Utility: scopeList(scopes )\n * Takes a list of scopes that might be overlapping, and removed duplicates,\n * then concatenates the list by spaces and returns a string.\n *\n * @param  {[type]} scopes [description]\n * @return {[type]}        [description]\n */\nutils.scopeList = function(scopes) {\n\treturn utils.uniqueList(scopes).join(' ')\n}\n\n\nutils.uniqueList = function(items) {\n\tvar uniqueItems = {}\n\tvar resultItems = []\n\tfor(var i = 0; i < items.length; i++) {\n\t\tuniqueItems[items[i]] = 1\n\t}\n\tfor(var key in uniqueItems) {\n\t\tif (uniqueItems.hasOwnProperty(key)) {\n\t\t\tresultItems.push(key)\n\t\t}\n\t}\n\treturn resultItems\n}\n\n\n\n/**\n * A log wrapper, that only logs if logging is turned on in the config\n * @param  {string} msg Log message\n */\nutils.log = function(msg) {\n\tif (!console) return\n\tif (!console.log) return\n  if (!utils.debug) return\n\n  let args = Array.prototype.slice.call(arguments)\n  args.unshift('[JSO]')\n\tconsole.log.apply(console, args)\n\n}\n\nutils.encodeQS = function(params) {\n  let res = ''\n\tvar k, i = 0\n\tfor(k in params) {\n\t\tres += (i++ === 0 ? '' : '&') + encodeURIComponent(k) + '=' + encodeURIComponent(params[k])\n\t}\n\treturn res\n}\n\n/*\n * Takes an URL as input and a params object.\n * Each property in the params is added to the url as query string parameters\n */\nutils.encodeURL = function(url, params) {\n\tvar res = url\n\tvar k, i = 0\n\tvar firstSeparator = (url.indexOf(\"?\") === -1) ? '?' : '&'\n\tfor(k in params) {\n\t\tres += (i++ === 0 ? firstSeparator : '&') + encodeURIComponent(k) + '=' + encodeURIComponent(params[k])\n\t}\n\treturn res\n}\n\n\nexport default utils\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","\nexport default class Error {\n\tconstructor(props) {\n\t\tfor(var key in props) {\n\t\t\tthis[key] = props[key];\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tthis[key] = value;\n\t\treturn this;\n\t}\n}","import Error from './Error';\n\nexport default class ExpiredTokenError extends Error {\n\n}","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = false;\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = (!BUGGY && $native) || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","export default class EventEmitter {\n\n  on(type, callback) {\n    if (!this._callbacks) {\n      this._callbacks = {}\n    }\n    if (!this._callbacks[type]) {\n      this._callbacks[type] = []\n    }\n\n    this._callbacks[type].push(callback)\n  }\n\n  emit(type) {\n    if (!this._callbacks) {\n      this._callbacks = {}\n    }\n    if (!this._callbacks[type]) {\n      this._callbacks[type] = []\n    }\n\n    var args = Array.prototype.slice.call(arguments, 1)\n    for(var i = 0; i < this._callbacks[type].length; i++) {\n      this._callbacks[type][i].apply(this, args)\n    }\n  }\n}\n","export default class Config {\n\n\tconstructor() {\n    this.config = {}\n\t\tfor(var i = 0; i < arguments.length; i++) {\n      Object.assign(this.config, arguments[i])\n\t\t}\n\t}\n\n\thas(key) {\n\t\tvar pointer = this.config\n\t\tvar splittedKeys = key.split('.')\n\t\tvar i = 0\n\t\tfor(i = 0; i < splittedKeys.length; i++) {\n\t\t\tif (pointer.hasOwnProperty(splittedKeys[i])) {\n\t\t\t\tpointer = pointer[splittedKeys[i]]\n\t\t\t} else {\n\t\t\t\treturn false\n\t\t\t}\n\t\t}\n\t\treturn true\n\t}\n\n\tgetValue(key, defaultValue, isRequired) {\n\t\tvar isRequired = isRequired || false\n\t\tvar pointer = this.config\n\t\tvar splittedKeys = key.split('.')\n\t\tvar i = 0\n\t\tfor(i = 0; i < splittedKeys.length; i++) {\n\n\t\t\tif (pointer.hasOwnProperty(splittedKeys[i])) {\n\t\t\t\t// console.log(\"POINTING TO \" + splittedKeys[i]);\n\t\t\t\tpointer = pointer[splittedKeys[i]]\n\t\t\t} else {\n\t\t\t\tpointer = undefined\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tif (typeof pointer === 'undefined') {\n\t\t\tif (isRequired) {\n\t\t\t\tthrow new Error(\"Configuration option [\" + splittedKeys[i] + \"] required but not provided.\")\n\t\t\t}\n\t\t\treturn defaultValue\n\t\t}\n\t\treturn pointer\n\t}\n}\n","import Error from './Error'\n\nexport default class OAuthResponseError extends Error {\n\n  toString() {\n    let header = this.error || 'unknown'\n    let descr = this.error_description || 'unknown'\n    return 'OAuthResponseError: [' + header + ']: ' + descr\n  }\n}\n","import ExpiredTokenError from '../errors/ExpiredTokenError'\n\nexport default class FetcherJQuery {\n\tconstructor(jso, jquery) {\n    this.jso = jso\n    this.jquery = jquery\n\t}\n\n  _fetch(url, opts) {\n\n    return new Promise((resolve, reject) => {\n\n      opts.done = resolve\n      opts.fail = (jqXHR, textStatus, errorThrown) => {\n        let status = parseInt(textStatus, 10)\n        if (status === 401) {\n          this.jso.wipeTokens()\n          return reject(new ExpiredTokenError())\n        }\n        return reject(errorThrown)\n      }\n      return this.jquery.ajax(url, opts)\n\n    })\n\n  }\n\n\tfetch(url, opts, reccur) {\n    reccur = reccur ? reccur : 0\n    if (reccur > 2) {\n      throw new Error(\"Reccursion error. Expired tokens deleted and tried again multiple times.\")\n    }\n    let getTokenOpts = {}\n    let fetchOpts = {\n      'mode': 'cors'\n    }\n    if (opts) {\n      fetchOpts = opts\n      Object.assign(fetchOpts, opts)\n    }\n    if (opts && opts.jso) {\n      Object.assign(getTokenOpts, opts.jso)\n    }\n\n    return this.jso.getToken(getTokenOpts)\n      .catch((err) => {\n        console.error(\"Error fetching token to use \", err)\n      })\n      .then((token) => {\n      \t// console.log(\"I got the token: \", token.access_token)\n\n        if (!fetchOpts.headers) {\n          fetchOpts.headers = {}\n        }\n        fetchOpts.headers.Authorization = 'Bearer ' + token.access_token\n        return this._fetch(url, fetchOpts)\n          .catch((err) => {\n            if (err instanceof ExpiredTokenError) {\n              console.error(\"Token was expired. Deleting all tokens for this provider and get a new one\", err)\n              this.jso.wipeTokens()\n              return this.fetch(url, opts, reccur+1)\n            }\n          })\n\n      })\n\t}\n\n\n\n}\n","\nimport ExpiredTokenError from '../errors/ExpiredTokenError'\n\nexport default class Fetcher {\n\tconstructor(jso) {\n    this.jso = jso\n\t}\n\n  _fetch(url, opts) {\n    return fetch(url, opts)\n      .then((response) => {\n        if (response.status === 401) {\n          throw new ExpiredTokenError()\n        }\n        return response\n      })\n  }\n\n\tfetch(url, opts, reccur) {\n    reccur = reccur ? reccur : 0\n    if (reccur > 2) {\n      throw new Error(\"Reccursion error. Expired tokens deleted and tried again multiple times.\")\n    }\n    let getTokenOpts = {}\n    let fetchOpts = {\n      'mode': 'cors'\n    }\n    if (opts) {\n      fetchOpts = opts\n      Object.assign(fetchOpts, opts)\n    }\n    if (opts && opts.jso) {\n      Object.assign(getTokenOpts, opts.jso)\n    }\n\n    return this.jso.getToken(getTokenOpts)\n      .catch((err) => {\n        console.error(\"Error fetching token to use \", err)\n      })\n      .then((token) => {\n      \t// console.log(\"I got the token: \", token.access_token)\n\n        if (!fetchOpts.headers) {\n          fetchOpts.headers = {}\n        }\n        fetchOpts.headers.Authorization = 'Bearer ' + token.access_token\n        return this._fetch(url, fetchOpts)\n          .catch((err) => {\n            if (err instanceof ExpiredTokenError) {\n              console.error(\"Token was expired. Deleting all tokens for this provider and get a new one\", err)\n              this.jso.wipeTokens()\n              return this.fetch(url, opts, reccur+1)\n            }\n          })\n\n      })\n\t}\n\n\n\n}\n","import BasicLoader from './BasicLoader'\n\nexport default class Popup extends BasicLoader {\n\n  execute() {\n\n\t\t/*\n\t\t* In the popup's scripts, running on <http://example.org>:\n\t\t*/\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\t// window.addEventListener(\"jso_message\", function(event) {\n\t\t\t// \tconsole.log(\"Sent a message to event.origin \" + event.origin + \" and got the following in response:\")\n\t\t\t// \tconsole.log(\"<em>\", event.data, \"</em>\")\n\t    // \tvar url = newwindow.location.href\n\t    // \t// console.error(\"Popup location is \", url, newwindow.location)\n      //   resolve(url)\n\t\t\t// })\n\n  \t\twindow.popupCompleted = function() {\n\t    \tvar url = newwindow.location.href\n        resolve(url)\n\t\t\t}\n\n\t\t\tvar newwindow = window.open(this.url, 'jso-popup-auth', 'height=600,width=800')\n      if (newwindow === null) {\n        throw new Error(\"Error loading popup window\")\n      }\n\t\t\tif (window.focus) {\n\t\t\t\tnewwindow.focus()\n\t\t\t}\n\n\t\t})\n\t}\n}\n","import BasicLoader from './BasicLoader'\nimport utils from '../utils'\n\nexport default class IFramePassive extends BasicLoader {\n\n\tconstructor(url) {\n\t\tsuper(url)\n\n\t\tthis.timeout = 5000\n\t\tthis.callback = null\n\t\tthis.isCompleted = false\n    this.id = 'jso_passive_iframe_' + utils.uuid()\n\n    // Create IE + others compatible event handler\n    var eventMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\"\n    var eventer = window[eventMethod]\n    var messageEvent = eventMethod == \"attachEvent\" ? \"onmessage\" : \"message\"\n\n    this.iframe = document.createElement('iframe')\n    this.iframe.setAttribute('id', this.id)\n    this.iframe.setAttribute('src', url)\n\n    this.iframe.addEventListener('load', (e) => {\n\n      let object = null\n      try {\n        if (this.iframe.contentWindow.location.hash) {\n          let encodedHash = this.iframe.contentWindow.location.hash.substring(1)\n          object = utils.parseQueryString(encodedHash)\n        } else if (this.iframe.contentWindow.location.search) {\n          let encodedHash = this.iframe.contentWindow.location.search.substring(1)\n          object = utils.parseQueryString(encodedHash)\n        }\n\n        if (object !== null) {\n          this._completed(object)\n        } else {\n          this._failed(new Error(\"Failed to obtain response value from iframe\"))\n        }\n      } catch(err) {\n        // Most likely not able to access the content window because of same-origin policy.\n        //\n        // Ignore this error, as this is likely to happen during the SSO redirect loop, but the load\n        // event may be triggered multiple times, so it is not neccessary a problem that the first is not\n        // accessible.\n      }\n\n    })\n\n\t}\n\n\texecute() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.callback = resolve\n      this.errorCallback = reject\n      document.getElementsByTagName('body')[0].appendChild(this.iframe)\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._failed(new Error(\"Loading iframe timed out\"))\n\t\t\t}, this.timeout)\n\t\t})\n\t}\n\n\n\t_cleanup() {\n    let element = document.getElementById(this.id)\n    element.parentNode.removeChild(element)\n\t}\n\n  _failed(err) {\n    if (!this.isCompleted) {\n\t\t\tif (this.errorCallback && typeof this.errorCallback === 'function') {\n\t\t\t\tthis.errorCallback(err)\n\t\t\t}\n\t\t\tthis.isCompleted = true\n\t\t\tthis._cleanup()\n\t\t}\n  }\n\n\t_completed(response) {\n\t\tif (!this.isCompleted) {\n\t\t\tif (this.callback && typeof this.callback === 'function') {\n\t\t\t\tthis.callback(response)\n\t\t\t}\n\t\t\tthis.isCompleted = true\n\t\t\tthis._cleanup()\n\t\t}\n\t}\n}\n","import BasicLoader from './BasicLoader'\nimport utils from '../utils'\n\nexport default class HTTPRedirect extends BasicLoader {\n\texecute() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\twindow.location = this.url\n\t\t})\n\t}\n}\n","import utils from './utils'\n\nclass Store {\n\n\tconstructor() {\n\t}\n\n\t/*\n\t\tsaveState stores an object with an Identifier.\n\t\tTODO: Ensure that both localstorage and JSON encoding has fallbacks for ancient browsers.\n\t\tIn the state object, we put the request object, plus these parameters:\n\t\t  * restoreHash\n\t\t  * providerID\n\t\t  * scopes\n\n\t */\n\tsaveState(state, obj) {\n\t\tlocalStorage.setItem(\"state-\" + state, JSON.stringify(obj))\n\t}\n\n\t/**\n\t * getStage()  returns the state object, but also removes it.\n\t * @type {Object}\n\t */\n\tgetState(state) {\n\t\t// log(\"getState (\" + state+ \")\");\n\t\tvar obj = JSON.parse(localStorage.getItem(\"state-\" + state))\n\t\tlocalStorage.removeItem(\"state-\" + state)\n\t\treturn obj\n\t}\n\n\n\t/*\n\t * Checks if a token, has includes a specific scope.\n\t * If token has no scope at all, false is returned.\n\t */\n\thasScope(token, scope) {\n\t\tvar i\n\t\tif (!token.scopes) return false\n\t\tfor(i = 0; i < token.scopes.length; i++) {\n\t\t\tif (token.scopes[i] === scope) return true\n\t\t}\n\t\treturn false\n\t}\n\n\t/*\n\t * Takes an array of tokens, and removes the ones that\n\t * are expired, and the ones that do not meet a scopes requirement.\n\t */\n\tfilterTokens(tokens, scopes) {\n\t\tvar i, j,\n\t\t\tresult = [],\n\t\t\tnow = utils.epoch(),\n\t\t\tusethis\n\n\t\tif (!scopes) scopes = []\n\n\t\tfor(i = 0; i < tokens.length; i++) {\n\t\t\tusethis = true\n\n\t\t\t// Filter out expired tokens. Tokens that is expired in 1 second from now.\n\t\t\tif (tokens[i].expires && tokens[i].expires < (now+1)) usethis = false\n\n\t\t\t// Filter out this token if not all scope requirements are met\n\t\t\tfor(j = 0; j < scopes.length; j++) {\n\t\t\t\tif (!this.hasScope(tokens[i], scopes[j])) usethis = false\n\t\t\t}\n\n\t\t\tif (usethis) result.push(tokens[i])\n\t\t}\n\t\treturn result\n\t}\n\n\n\t/*\n\t * saveTokens() stores a list of tokens for a provider.\n\n\t\tUsually the tokens stored are a plain Access token plus:\n\t\t  * expires : time that the token expires\n\t\t  * providerID: the provider of the access token?\n\t\t  * scopes: an array with the scopes (not string)\n\t */\n\tsaveTokens(provider, tokens) {\n\t\t// log(\"Save Tokens (\" + provider+ \")\");\n\t\tlocalStorage.setItem(\"tokens-\" + provider, JSON.stringify(tokens))\n\t}\n\n\tgetTokens(provider) {\n\t\t// log(\"Get Tokens (\" + provider+ \")\");\n\t\tvar tokens = JSON.parse(localStorage.getItem(\"tokens-\" + provider))\n\t\tif (!tokens) tokens = []\n\n\t\tutils.log(\"Token found when loooking up provider \" + provider + \" in store \" + window.location.href, tokens)\n\t\treturn tokens\n\t}\n\n\twipeTokens(provider) {\n\t\tlocalStorage.removeItem(\"tokens-\" + provider)\n\t}\n\n\t/*\n\t * Save a single token for a provider.\n\t * This also cleans up expired tokens for the same provider.\n\t */\n\tsaveToken(provider, token) {\n\t\tvar tokens = this.getTokens(provider)\n\t\ttokens = this.filterTokens(tokens)\n\t\ttokens.push(token)\n\t\tthis.saveTokens(provider, tokens)\n\t}\n\n\t/*\n\t * Get a token if exists for a provider with a set of scopes.\n\t * The scopes parameter is OPTIONAL.\n\t */\n\tgetToken(provider, scopes) {\n\t\tvar tokens = this.getTokens(provider)\n\t\ttokens = this.filterTokens(tokens, scopes)\n\t\tif (tokens.length < 1) return null\n\t\treturn tokens[0]\n\t};\n\n}\n\nvar s = new Store()\n\nexport default s\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","require('../../modules/es7.array.includes');\nmodule.exports = require('../../modules/_core').Array.includes;\n","exports.f = {}.propertyIsEnumerable;\n","exports.f = Object.getOwnPropertySymbols;\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","/**\n * JSO - Javascript OAuth Library\n * \tVersion 4.0\n *  UNINETT AS - http://uninett.no\n *  Author: Andreas Åkre Solberg <andreas.solberg@uninett.no>\n *  Licence: Simplified BSD Licence\n *\n *  Documentation available at: https://github.com/andreassolberg/jso\n */\n\n\n// Polyfills to support >= IE10\nimport assign from 'core-js/fn/object/assign'\nimport 'core-js/fn/array/includes'\nimport 'core-js/fn/promise'\n// ------\n\nimport store from './store'\nimport utils from './utils'\n\n// Work in progress\n// import Authentication from './Authentication/Authentication'\n\nimport BasicLoader from './Loaders/BasicLoader'\nimport HTTPRedirect from './Loaders/HTTPRedirect'\nimport IFramePassive from './Loaders/IFramePassive'\nimport Popup from './Loaders/Popup'\n\nimport Fetcher from './HTTP/Fetcher'\nimport FetcherJQuery from './HTTP/FetcherJQuery'\n\n// import ExpiredTokenError from './errors/ExpiredTokenError'\n// import HTTPError from './errors/HTTPError'\nimport OAuthResponseError from './errors/OAuthResponseError'\n\nimport Config from './Config'\nimport EventEmitter from './EventEmitter'\n\nconst package_json = require('../package.json')\n\nconst default_config = {\n 'lifetime': 3600\n}\n\nclass JSO extends EventEmitter {\n\tconstructor(config) {\n    super()\n\t\tthis.configure(config)\n\t\tthis.providerID = this.getProviderID()\n\t\tthis.Loader = HTTPRedirect\n    this.store = store\n\t\tthis.callbacks = {}\n\n    if (this.config.getValue('debug', false)) {\n      utils.debug = true\n    }\n\t}\n\n\tconfigure(config) {\n\t\tthis.config = new Config(default_config, config)\n\t}\n\n  // Experimental, nothing but default store exists yet. Not documented.\n  setStore(newstore) {\n    this.store = newstore\n  }\n\n\tsetLoader(loader) {\n\t\tif (typeof loader === \"function\") {\n\t\t\tthis.Loader = loader\n\t\t} else {\n\t\t\tthrow new Error(\"loader MUST be an instance of the JSO BasicLoader\")\n\t\t}\n\t}\n\n\n\n\t/**\n\t * We need to get an identifier to represent this OAuth provider.\n\t * The JSO construction option providerID is preferred, if not provided\n\t * we construct a concatentaion of authorization url and client_id.\n\t * @return {[type]} [description]\n\t */\n\tgetProviderID() {\n\n\t\tvar c = this.config.getValue('providerID', null)\n\t\tif (c !== null) {return c}\n\n\t\tvar client_id = this.config.getValue('client_id', null, true)\n\t\tvar authorization = this.config.getValue('authorization', null, true)\n\n\t\treturn authorization + '|' + client_id\n\t}\n\n\t/**\n\t * If the callback has already successfully parsed a token response, call this.\n\t * @return {[type]} [description]\n\t */\n\tprocessTokenResponse(atoken) {\n\t\tlet state\n\t\tif (atoken.state) {\n\t\t\tstate = this.store.getState(atoken.state)\n\t\t} else {\n\t\t\tthrow new Error(\"Could not get state from storage.\")\n\t\t}\n\n\t\tif (!state) {\n\t\t\tthrow new Error(\"Could not retrieve state\")\n\t\t}\n\t\tif (!state.providerID) {\n\t\t\tthrow new Error(\"Could not get providerid from state\")\n\t\t}\n\t\tutils.log(\"processTokenResponse \", atoken, \"\")\n    return this.processReceivedToken(atoken, state)\n\t}\n\n  processReceivedToken(atoken, state) {\n    /*\n\t\t * Decide when this token should expire.\n\t\t * Priority fallback:\n\t\t * 1. Access token expires_in\n\t\t * 2. Life time in config (may be false = permanent...)\n\t\t * 3. Specific permanent scope.\n\t\t * 4. Default library lifetime:\n\t\t */\n\t\tlet now = utils.epoch()\n    atoken.received = now\n\t\tif (atoken.expires_in) {\n\t\t\tatoken.expires = now + parseInt(atoken.expires_in, 10)\n      atoken.expires_in = parseInt(atoken.expires_in, 10)\n\t\t} else if (this.config.getValue('default_lifetime', null) === false) {\n\t\t\tatoken.expires = null\n\t\t} else if (this.config.has('permanent_scope')) {\n\t\t\tif (!this.store.hasScope(atoken, this.config.getValue('permanent_scope'))) {\n\t\t\t\tatoken.expires = null\n\t\t\t}\n\t\t} else if (this.config.has('default_lifetime')) {\n\t\t\tatoken.expires = now + this.config.getValue('default_lifetime')\n\t\t} else {\n\t\t\tatoken.expires = now + 3600\n\t\t}\n\n\t\t/*\n\t\t * Handle scopes for this token\n\t\t */\n\t\tif (atoken.scope) {\n\t\t\tatoken.scopes = atoken.scope.split(\" \")\n      delete atoken.scope\n\t\t} else if (state.scopes) {\n\t\t\tatoken.scopes = state.scopes\n\t\t} else {\n\t\t\tatoken.scopes = []\n\t\t}\n\n    utils.log(\"processTokenResponse completed \", atoken, \"\")\n\n\t\tthis.store.saveToken(state.providerID, atoken)\n\n\t\tif (state.restoreHash) {\n\t\t\twindow.location.hash = state.restoreHash\n\t\t} else {\n\t\t\twindow.location.hash = ''\n\t\t}\n\t\treturn atoken\n  }\n\n  // Experimental support for authorization code to be added\n  processAuthorizationCodeResponse(object) {\n    console.log(this)\n    this.emit('authorizationCode', object)\n\n\n\t\tlet state\n\t\tif (object.state) {\n\t\t\tstate = this.store.getState(object.state)\n      if (state === null) {\n        throw new Error(\"Could not find retrieve state object.\")\n      }\n\t\t} else {\n\t\t\tthrow new Error(\"Could not find state paramter from callback.\")\n\t\t}\n    console.log(\"state\", state)\n\n    if (!this.config.has('token')) {\n      utils.log(\"Received an authorization code. Will not process it as the config option [token] endpoint is not set. If you would like to process the code yourself, please subscribe to the [authorizationCode] event\")\n      return\n    }\n    if (!this.config.has('client_secret')) {\n      throw new Error(\"Configuration missing [client_secret]\")\n    }\n    let headers = new Headers()\n    headers.append('Authorization', 'Basic ' + btoa(this.config.getValue('client_id') + \":\" + this.config.getValue('client_secret')))\n    headers.append('Content-Type', 'application/x-www-form-urlencoded;charset=UTF-8')\n\n    let tokenRequest = {\n      'grant_type': 'authorization_code',\n      'code': object.code\n    }\n\n    if (state.hasOwnProperty('redirect_uri')) {\n      tokenRequest.redirect_uri = state.redirect_uri\n    }\n\n    let opts = {\n      mode: 'cors',\n      headers: headers,\n      method: 'POST', // or 'PUT'\n      body: utils.encodeQS(tokenRequest), // data can be `string` or {object}!\n    }\n    return fetch(this.config.getValue('token'), opts)\n      .then((httpResponse) => {\n        return httpResponse.json()\n      })\n      .then((tokenResponse) => {\n        // let tokenResponse = httpResponse.json()\n        utils.log(\"Received response on token endpoint \", tokenResponse, \"\")\n        return this.processReceivedToken(tokenResponse, state)\n      })\n\n    // throw new Exception(\"Implementation of authorization code flow is not yet implemented. Instead use the implicit grant flow\")\n\n  }\n\n\n\n\tprocessErrorResponse(err) {\n\n\t\tvar state\n\t\tif (err.state) {\n\n\t\t\tstate = this.store.getState(err.state)\n\t\t} else {\n\t\t\tthrow new Error(\"Could not get [state] and no default providerid is provided.\")\n\t\t}\n\n\t\tif (!state) {\n\t\t\tthrow new Error(\"Could not retrieve state\")\n\t\t}\n\t\tif (!state.providerID) {\n\t\t\tthrow new Error(\"Could not get providerid from state\")\n\t\t}\n\n\t\tif (state.restoreHash) {\n\t\t\twindow.location.hash = state.restoreHash\n\t\t} else {\n\t\t\twindow.location.hash = ''\n\t\t}\n\t\treturn new OAuthResponseError(err)\n\n\t}\n\n\n\t/**\n\t * Check if the hash contains an access token.\n\t * And if it do, extract the state, compare with\n\t * config, and store the access token for later use.\n\t *\n\t * The url parameter is optional. Used with phonegap and\n\t * childbrowser when the jso context is not receiving the response,\n\t * instead the response is received on a child browser.\n\t */\n\tcallback(data) {\n\n    let response = null\n    if (typeof data === 'object') {\n      response = data\n    } else if (typeof data === 'string') {\n      response = utils.getResponseFromURL(data)\n    } else if (typeof data === 'undefined') {\n      response = utils.getResponseFromURL(window.location.href)\n    } else {\n      // no response provided.\n      return\n    }\n\n    utils.log('Receving response in callback', response)\n\n\t\tif (response.hasOwnProperty(\"access_token\")) {\n\t\t\treturn this.processTokenResponse(response)\n\n    // Implementation of authorization code flow is in beta.\n\t\t} else if (response.hasOwnProperty(\"code\")) {\n      return this.processAuthorizationCodeResponse(response)\n\n\t\t} else if (response.hasOwnProperty(\"error\")) {\n\t\t\tthrow this.processErrorResponse(response)\n\t\t}\n\n\t}\n\n\n\tdump() {\n\t\tvar tokens = this.store.getTokens(this.providerID)\n\t\tvar x = {\n\t\t\t\"providerID\": this.providerID,\n\t\t\t\"tokens\": tokens,\n\t\t\t\"config\": this.config\n\t\t}\n\t\treturn x\n\t}\n\n\t_getRequestScopes(opts) {\n\t\tvar scopes = [], i\n\t\t/*\n\t\t * Calculate which scopes to request, based upon provider config and request config.\n\t\t */\n\t\tif (this.config.has('scopes.request')) {\n      let s = this.config.getValue('scopes.request')\n\t\t\tfor(i = 0; i < s.length; i++) {\n        scopes.push(s[i])\n      }\n\t\t}\n\t\tif (opts && opts.scopes && opts.scopes.request) {\n\t\t\tfor(i = 0; i < opts.scopes.request.length; i++) {scopes.push(opts.scopes.request[i])}\n\t\t}\n\t\treturn utils.uniqueList(scopes)\n\t}\n\n\t_getRequiredScopes(opts) {\n\t\tvar scopes = [], i\n\t\t/*\n\t\t * Calculate which scopes to request, based upon provider config and request config.\n\t\t */\n\t\tif (this.config.has('scopes.require')) {\n      let s = this.config.getValue('scopes.require')\n      for(i = 0; i < s.length; i++) {\n        scopes.push(s[i])\n      }\n\t\t}\n\t\tif (opts && opts.scopes && opts.scopes.require) {\n\t\t\tfor(i = 0; i < opts.scopes.require.length; i++) {scopes.push(opts.scopes.require[i])}\n\t\t}\n\t\treturn utils.uniqueList(scopes)\n\t}\n\n\n\t/**\n\t * If getToken is called with allowia = false, and a token is not cached, it will return null.\n\t * The scopes.required is used to pick from existing tokens.\n\t *\n\t * @param  {[type]} opts [description]\n\t * @return {[type]}      [description]\n\t */\n\tgetToken(opts) {\n    opts = opts || {}\n\n    return new Promise((resolve, reject) => {\n\n      let scopesRequire = this._getRequiredScopes(opts)\n\t\t\tlet token = this.store.getToken(this.providerID, scopesRequire)\n\n\t\t\tif (token) {\n\t\t\t\treturn resolve(token)\n\n\t\t\t} else {\n\n\t\t\t\tif (opts.hasOwnProperty(\"allowredir\") && !opts.allowredir) {\n\t\t\t\t\tthrow new Error(\"Cannot obtain a token, when not allowed to redirect...\")\n\n\t\t\t\t} else {\n\t\t\t\t\tresolve(this._authorize(opts))\n\t\t\t\t}\n\t\t\t}\n    })\n\n\t}\n\n\tcheckToken(opts) {\n\t\t// var scopesRequest  = this._getRequestScopes(opts)\n\n\t\tvar scopesRequire = this._getRequiredScopes(opts)\n\t\treturn this.store.getToken(this.providerID, scopesRequire)\n\t}\n\n\n\t/**\n\t * Send authorization request.\n\t *\n\t * @param  {[type]} opts These options matches the ones sent in the \"oauth\" property of the ajax settings in the request.\n\t * @return {[type]}      [description]\n\t */\n\t_authorize(opts) {\n\t\tvar\n\t\t\trequest,\n\t\t\tauthurl,\n\t\t\tscopes\n\n\t\treturn Promise.resolve().then(() => {\n\n\t\t\tlet authorization = this.config.getValue('authorization', null, true)\n\t\t\tlet client_id = this.config.getValue('client_id', null, true)\n      let openid = false\n\n      if (opts.hasOwnProperty('allowia') || this.config.has('allowia')) {\n        throw new Error('The allowia option was removed in JSO 4.1.0. Instead use {request: {prompt: \"none\"}}')\n      }\n\n\t\t\tutils.log(\"About to send an authorization request to this endpoint\", authorization)\n\t\t\tutils.log(\"Options\", opts)\n\n\t\t\trequest = {}\n\n      if (this.config.has('request')) {\n        let r = this.config.getValue('request')\n        request = assign(request, r)\n      }\n      if (opts.hasOwnProperty('request')) {\n        request = assign(request, opts.request)\n      }\n\n\n      request.response_type = opts.response_type || this.config.getValue('response_type', 'id_token token')\n      request.state = utils.uuid()\n\n\t\t\tif (this.config.has('redirect_uri')) {\n\t\t\t\trequest.redirect_uri = this.config.getValue('redirect_uri', '')\n\t\t\t}\n\t\t\tif (opts.redirect_uri) {\n\t\t\t\trequest.redirect_uri = opts.redirect_uri\n\t\t\t}\n\n\t\t\trequest.client_id = client_id\n\n\n\t\t\t/*\n\t\t\t * Calculate which scopes to request, based upon provider config and request config.\n\t\t\t */\n\t\t\tscopes = this._getRequestScopes(opts)\n      openid = scopes.includes('openid')\n\t\t\tif (scopes.length > 0) {\n\t\t\t\trequest.scope = utils.scopeList(scopes)\n\t\t\t}\n      utils.log(\"Running in mode: \" + (openid ? 'OpenID Connect mode' : 'OAuth mode'))\n\n      if (openid && !request.hasOwnProperty('redirect_uri')) {\n        throw new Error('An OpenID Request requires a redirect_uri to be set. Please add to configuration. A redirect_uri is not required for plain OAuth')\n      }\n\n      if (openid) {\n        request.nonce = utils.uuid()\n      }\n\n\t\t\tutils.log(\"Debug Authentication request object\", JSON.stringify(request, undefined, 2))\n\n\t\t\tauthurl = utils.encodeURL(authorization, request)\n\n\t\t\t// We'd like to cache the hash for not loosing Application state.\n\t\t\t// With the implciit grant flow, the hash will be replaced with the access\n\t\t\t// token when we return after authorization.\n\t\t\tif (window.location.hash) {\n\t\t\t\trequest.restoreHash = window.location.hash\n\t\t\t}\n\t\t\trequest.providerID = this.providerID\n\t\t\tif (scopes) {\n\t\t\t\trequest.scopes = scopes\n\t\t\t}\n\n\n\t\t\tutils.log(\"Saving state [\" + request.state + \"]\")\n\t\t\tutils.log(JSON.parse(JSON.stringify(request)))\n\n\t\t\tvar loader = this.Loader\n\t\t\tif (opts.hasOwnProperty(\"loader\")) {\n\t\t\t\tloader = opts.loader\n\t\t\t}\n\n\t\t\tutils.log(\"Looking for loader\", opts, loader)\n\n\t\t\tthis.store.saveState(request.state, request)\n\t\t\treturn this.gotoAuthorizeURL(authurl, loader)\n\t\t\t\t.then((response) => {\n          if (response !== true) {\n            return this.callback(response)\n          }\n\t\t\t\t})\n\n\n\t\t})\n\n\t}\n\n\tgotoAuthorizeURL(url, Loader) {\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\tif (Loader !== null && typeof Loader === 'function') {\n\t\t\t\tvar loader = new Loader(url)\n\t\t\t\tif (!(loader instanceof BasicLoader)) {\n\t\t\t\t\tthrow new Error(\"JSO selected Loader is not an instance of BasicLoader.\")\n\t\t\t\t}\n\t\t\t\tresolve(loader.execute())\n\t\t\t} else {\n\t\t\t\treject(new Error('Cannot redirect to authorization endpoint because of missing redirect handler'))\n\t\t\t}\n\t\t})\n\t}\n\n\twipeTokens() {\n\t\tthis.store.wipeTokens(this.providerID)\n\t}\n\n}\n\n// Object.assign(JSO.prototype, new EventEmitter({}))\n\nexport {JSO, BasicLoader, HTTPRedirect, Popup, IFramePassive, Fetcher, FetcherJQuery}\n// Work in progress\n// Authentication\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.kpas = (function() {\n    return {\n        showInfo: function(groups) {\n            if(!groups.length) {\n                $(\"#kpas-lti-warning\").show();\n                $(\"#kpas-lti-info\").hide();\n                $(\".kpas-lti-warning\").show();\n                $(\".kpas-lti-info\").hide();\n                return;\n            }  \n      \n            $(\"#kpas-lti-warning\").hide();\n            $(\"#kpas-lti-info\").show();\n            $(\".kpas-lti-warning\").hide();\n            $(\".kpas-lti-info\").show();\n        },\n        getJsonData : function(url, progressId, name, callback) {\n            $(progressId).html(\"Laster statistikk for \" + name + \"<span class='loading-gif'></span>\");\n            d3.json(url)\n            .on(\"progress\", function() { \n                console.log(\"progress\", d3.event.loaded); })\n            .on(\"load\", function(json) { \n                $(progressId).html(\"\");\n                console.log(\"success!\"); callback(json) })\n            .on(\"error\", function(error) { \n                progressId.innerHTML = error\n                console.log(\"failure!\", error); })\n            .get();\n        },\n        createDiagram: function(graphicId, isTeacherOrAdmin, courseId, groupsInfo) {\n            if(courseId === undefined) {\n                return null;\n            }\n            if($(\"#\"+graphicId).length == 0) {\n                return;\n            }\n\n            var iframeSrc = \"https://server/kpas/kpas.html?version=KPAS_IFRAME_VERSION&courseId=\" + courseId;\n            if (isTeacherOrAdmin) {\n                iframeSrc+=\"&show=\" + graphicId;\n            } else if((groupsInfo.municipalityId === undefined) || (groupsInfo.countyId === undefined)) {\n                    return null;\n            } else if(graphicId == \"kommune-statistikk\") {\n                    iframeSrc += \"&municipalityId=\" +  groupsInfo.municipalityId;\n            } else if(graphicId == \"fylke-statistikk\") {\n                    iframeSrc += \"&countyId=\" +  groupsInfo.countyId;\n            } else {\n                return null;\n            }\n\n            var html = \"<iframe id='kpas' src='\" + iframeSrc + \"' height='600' width='100%'></iframe>\";\n            $(\"#\"+graphicId).html(html);\n            return null;\n        }\n    }\n})();\n\n","this.mmooc = this.mmooc || {};\nthis.mmooc.messageHandler = (function() {\n    var findDomForWindow = function(sourceWindow) {\n        const iframes = document.getElementsByTagName('IFRAME');\n        for (let i = 0; i < iframes.length; i += 1) {\n          if (iframes[i].contentWindow === sourceWindow) {\n            return iframes[i];\n          }\n        }\n        return null;\n    }\n\n    return {\n        init: function() {\n            window.addEventListener('message', function(e) {\n                const error = error => console.error('error calling api', error);\n                try {\n                    if(e.origin.includes(\"vimeo\")) {\n                        if((e.data.method == undefined) && (e.data.event == undefined)) {\n                            var message = JSON.parse(e.data);\n                            if(message.event == \"ready\") {\n                                mmooc.uob.setVimeoPlayerReady();\n                            }\n                        }\n                    } else {\n                        var message = JSON.parse(e.data);\n                        if(message.subject == \"kpas-lti.connect\") {\n                            const connectedMsg = {\n                                subject: 'kpas-lti.ltiparentready'\n                            }\n                            var sendMsg = JSON.stringify(connectedMsg);\n                            e.source.postMessage(sendMsg, e.origin);\n                        } else if(message.subject == \"kpas-lti.getusergroups\") {\n                            mmooc.api.getUserGroups(function(groups) {\n                                const usergroupsmsg = {\n                                    subject: 'kpas-lti.usergroups',\n                                    groups: groups\n                                }\n                                var sendMsg = JSON.stringify(usergroupsmsg);\n                                e.source.postMessage(sendMsg, e.origin);\n                            }, error);\n                        } else if(message.subject == \"kpas-lti.update\") {\n                            mmooc.util.updateInformationPane();\n\n                            var courseId = mmooc.api.getCurrentCourseId();\n\n                            mmooc.api.getUserGroupsForCourse(courseId, function(groups) {\n                                mmooc.kpas.showInfo(groups);\n                            }, error);\n                        } else if(message.subject == \"kpas-lti.getBgColor\") {\n                            var dom = findDomForWindow(e.source);\n                            if(dom) {\n                                var elem = dom.parentElement;\n                                var bgColor = window.getComputedStyle(elem, null).getPropertyValue(\"background-color\");            \n                                const bgColorMessage = {\n                                    subject: 'kpas-lti.ltibgcolor',\n                                    bgColor: bgColor\n                                }\n                                var sendMsg = JSON.stringify(bgColorMessage);\n                                e.source.postMessage(sendMsg, e.origin);\n                            }\n                        } else if(message.subject == \"kpas-lti.3pcookiesupported\") {\n                        } else if(message.subject == \"kpas-lti.3pcookienotsupported\") {\n                            var kpasCheckElement = $(\"#kpas-lti-cookie-check\");\n                            kpasCheckElement.html(\"En automatisk sjekk har funnet at \\\n                            du har slått av informasjonskapsler fra tredjepartsnettsteder. \\\n                            Du vil ikke kunne velge hvilken rolle eller hvilke grupper du skal delta i.\\\n                            <p>Kontakt din IT-avdeling eller les om hvordan du\\\n                            <a class='alert-link' target='_blank' href='https://nettvett.no/slik-administrer-du-informasjonskapsler/'>\\\n                            aktiverer informasjonskapsler fra tredjeparter.</a>\");\n                            kpasCheckElement.show();\n                            console.error(\"Din nettleser støtter IKKE cookies fra tredjeparter. Rolle og gruppeverktøyet krever cookies fra tredjepart.\");\n                        }\n                    }\n                } catch(err) {\n                    console.log.call(console, 'KPAS LTI: skip message:' +err);\n                }\n            }, false);\n        }\n    }\n})();\n","'use strict';\n\n// Utility class to keep utility functions out of global scope\nclass MultilangUtils {\n    static get LANGUAGES() {\n        return [\n            { code: 'nb', name: \"Norsk\" },\n            { code: 'se', name: \"Sápmi\" },\n        ];\n    }\n\n    static get COOKIE_NAME() {\n        return 'lang';\n    }\n\n    static languagesExcept(language) {\n        return MultilangUtils.LANGUAGES.filter(lang => lang.code !== language);\n    }\n\n    static languagesMap() {\n        return MultilangUtils.LANGUAGES.reduce((obj, lang) => {\n            obj[lang.code] = lang;\n            return obj;\n        }, {});\n    }\n\n    static getParsedTooltipText(tooltipText) {\n        return mmooc.menu.tooltipRegexpPattern.exec(tooltipText);\n    }\n\n    static makeSpansForTooltip(attrSelector) {\n        var node = document.querySelector(attrSelector);\n        var tooltip = node && node.getAttribute(\"data-html-tooltip-title\");\n        if(tooltip) {\n            var tooltipParsedResult = MultilangUtils.getParsedTooltipText(tooltip);\n            if(tooltipParsedResult && tooltipParsedResult[1] && tooltipParsedResult[2]) {\n                const spanned = MultilangUtils.getSpannedText(tooltipParsedResult[2]);\n                if (spanned !== null) {\n                    var newTooltipText = mmooc.menu.createNewTooltipText(tooltip, tooltipParsedResult[1], spanned);\n                    //newTooltipText=\"<strong style='float:left'>Forrige modul:</strong> <br>ERLEND\";\n                    node.setAttribute(\"data-html-tooltip-title\", newTooltipText);\n                }\n            }\n        }\n    }\n\n    static makeSpansForSelectors(selectors) {\n        selectors.map(selector => document.querySelectorAll(selector))\n            .flatMap(nodeList => Array.from(nodeList))\n            .forEach(node => {\n                const spanned = MultilangUtils.makeSpansOf(node);\n                if (spanned !== null) {\n                    node.innerHTML = spanned;\n                }\n            });\n    }\n\n    static getSpannedText(textContent) {\n        //Split the elements content with '|', then check each segment for language code and make <span>-elements.\n        const splitArray = textContent.split(\"|\");\n        let newContent = '';\n        for (let i = 0; i < splitArray.length; i++) {\n            let match = /^\\s*(\\w\\w)\\s*:(.*)/.exec(splitArray[i]); //match language codes formed with two letters and a colon (no:, en: etc)\n            if (match) {\n                newContent += `<span class='language' lang='${match[1]}'>${match[2]}</span>`;\n            } else {\n                newContent += splitArray[i];\n            }\n        }\n\n        return newContent; //HTML-string with span-tags\n        \n    }\n\n    static makeSpansOf(element) {\n        // If there are child nodes that are not text nodes, abort. It should already be translated\n        if (!Array.from(element.childNodes).every(childNode => childNode.nodeType === 3)) {\n            return null;\n        }\n        return MultilangUtils.getSpannedText(element.textContent);\n    }\n\n    static getLanguageParameter() {\n        const params = new URLSearchParams(location.search);\n        return params.get(this.COOKIE_NAME);\n    }\n\n    static setLanguageParameter(languageCode) {\n        if (!this.isValidLanguage(languageCode)) {\n            return;\n        }\n\n        const params = new URLSearchParams(location.search);\n        params.set(this.COOKIE_NAME, languageCode);\n        window.history.replaceState({}, '', `${location.pathname}?${params}`);\n    }\n\n    static getLanguageCookie() {\n        return document.cookie.replace(/(?:(?:^|.*;\\s*)courselanguage\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\n    }\n\n    static setLanguageCookie(languageCode) {\n        if (!this.isValidLanguage(languageCode)) {\n            return;\n        }\n\n        document.cookie = `courselanguage=${languageCode}; SameSite=Strict; path=/`;\n    }\n\n    static getLanguageCode() {\n        const langCode = MultilangUtils.getLanguageParameter();\n        const langCookie = MultilangUtils.getLanguageCookie();\n        if (langCode) {\n            return langCode;\n        } else if (langCookie) {\n            return langCookie;\n        }\n        else {\n            return 'nb';\n        }\n    }\n    static getPreferredLanguage() {\n        if(!mmooc.util.isMultilangCourse) {\n            return mmooc.api.getLocale();\n        }\n        if(MultilangUtils.getLanguageCode == \"nb\") {\n            return mmooc.api.getLocale();\n        }\n        return MultilangUtils.getLanguageCode();\n    }\n\n    static setActiveLanguage(activeLang) {\n        if (!this.isValidLanguage(activeLang)) {\n            return;\n        }\n\n        MultilangUtils.setLanguageCookie(activeLang);\n        MultilangUtils.setLanguageParameter(activeLang);\n        const styleElement = document.getElementById('language-style');\n        styleElement.innerHTML = MultilangUtils.createCss(activeLang);\n    }\n\n    static isValidLanguage(languageCode) {\n        return this.LANGUAGES.some(lang => lang.code === languageCode);\n    }\n    \n    static createCss(activeLang) {\n        return MultilangUtils.LANGUAGES.map(l => {\n            var displayValue = \"none\";\n            if(activeLang == \"all\") {\n                displayValue = \"unset\";\n            } else {\n                displayValue = activeLang.toLowerCase() === l.code ? 'unset' : 'none';\n            }\n            return `.language:lang(${l.code}) {display:${displayValue};}`\n        }).join(\" \");\n    }\n\n    static applyColorCodingInEditor() {\n        function doApply() {\n            const iframe = document.getElementById('wiki_page_body_ifr');\n            if (iframe !== null) {\n                const doc = iframe.contentWindow.document;\n                const editorCss = doc.createElement('style');\n                editorCss.innerHTML = `\n                                    .language:lang(se) {\n                                    background-color: LIGHTCYAN;\n                                    }\n                                    .language:lang(nb) {\n                                    background-color: MISTYROSE;\n                                    }`;\n                doc.head.appendChild(editorCss);\n            } else {\n                setTimeout(MultilangUtils.applyColorCodingInEditor, 500);\n            }\n        }\n        doApply();\n    }\n    static initializeCss(language) {\n        const styleElement = document.createElement('style');\n        styleElement.id = 'language-style';\n\n        styleElement.innerHTML = MultilangUtils.createCss(language);\n        document.head.appendChild(styleElement);\n    }\n\n    static makeSpansOnPage() {\n        const selectors = [\n            '.translate',\n            'div.tooltiptext',\n            '.show-content.user_content h1.page-title',\n            'a.mmooc-module-name',\n            '.discussion-title',\n            \n        ];\n\n        if (location.pathname.endsWith('/modules')) {\n            selectors.push(\n                'a.title',\n                'span.name',\n                'span.title',\n            );\n        }\n\n        MultilangUtils.makeSpansForSelectors(selectors);\n    }\n}\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.multilanguage = (function () {\n    return {\n        perform: () => {\n            if (!this.mmooc.util.isMultilangCourse(mmooc.util.course)) {\n                return;\n            }\n            //KURSP-293-RCE-mister-farge-for-redigering\n            //Apply color to editor moved to separate route in main.js\n            //This perform function will only be called by content that is not edited.\n            MultilangUtils.makeSpansOnPage();\n        },\n        performPrevNextTooltip: () => {\n            MultilangUtils.makeSpansForTooltip('.module-sequence-footer-button--previous');\n            MultilangUtils.makeSpansForTooltip('.module-sequence-footer-button--next');\n        },\n            \n        performNextTooltip: () => {\n            MultilangUtils.makeSpansForTooltip('.module-sequence-footer-button--next');\n        },\n        performPrevTooltip: () => {\n            MultilangUtils.makeSpansForTooltip('.module-sequence-footer-button--previous');\n        },\n        //KURSP-293-RCE-mister-farge-for-redigering\n        //Pages in edit mode should also have css inserted.\n        initializeCss: () => {\n            MultilangUtils.initializeCss(\"all\");\n        }\n    }\n})();","this.mmooc = this.mmooc || {};\r\n\r\nthis.mmooc.nrk = (function() {\r\n  return {\r\n    init: function() {\r\n      mmooc.util.mmoocLoadScript(\r\n        'https://www.nrk.no/serum/latest/js/video_embed.js'\r\n      );\r\n    }\r\n  };\r\n})();\r\n","this.mmooc = this.mmooc || {};\nthis.mmooc.privacyPolicy = (function() {\n    var currentPrivacyPolicyVersion = \"\";\n    var displayPrivacyPolicyDialog = function() {\n        html = mmooc.util.renderTemplateWithData('privacyPolicyChanged', {\n            privacyPolicyLink:mmooc.settings.privacyPolicyLink\n        });\n        var privacyPolicyBoxPosition = document.getElementById('wrapper');\n        if(!privacyPolicyBoxPosition) {\n            privacyPolicyBoxPosition = document.getElementById('f1_container');\n        }\n        privacyPolicyBoxPosition.insertAdjacentHTML('afterend', html);\n        $('#application').before(`<div class=\"overlay\"></div>`);            \n\n        document.getElementById(\"kompetansePortalPrivacyPolicy\").onclick = function() {\n            var privacyPolicyCheckbox = document.getElementById('kompetansePortalPrivacyPolicy');\n            if (privacyPolicyCheckbox.checked) {\n                document.getElementById('kompetansePortalPrivacyPolicyButton').disabled = !privacyPolicyCheckbox.checked;\n            }\n        };\n        document.getElementById(\"kompetansePortalPrivacyPolicyButton\").onclick = function() {\n            mmooc.api.saveUserPrivacyPolicyVersion(currentPrivacyPolicyVersion, function(data) {\n                console.log(\"Privacy policy accepted saved.\");\n                $('.privacyPolicyBox, .overlay').remove(); \n            });\n        };\n    }\n    return {\n        init: function() {\n            if(!mmooc.util.isAuthenticated()) {\n                return;\n            }\n            var error = function(error) {\n                displayPrivacyPolicyDialog();\n            };\n            var url = \"$KPASAPIURL\" + \"/kpasinfo\";\n            $.getJSON(url, function(kpasinfo) {\n                currentPrivacyPolicyVersion = kpasinfo.result.privacyPolicyVersion;\n                mmooc.api.loadUserPrivacyPolicyVersion(function(userData) {\n                    if(!userData.data || !userData.data.privacyPolicyVersion || (userData.data.privacyPolicyVersion != currentPrivacyPolicyVersion)) {\n                        displayPrivacyPolicyDialog();\n                    }\n                }, error);\n            });\n        }\n    }\n})();\n","// ==========================================================================================\r\n// This code was copied and adapted on January 27th 2015 from:\r\n// https://s3.amazonaws.com/SSL_Assets/bham/uob/uob7.js\r\n// The functionality in the file is documented here:\r\n// https://birmingham.instructure.com/courses/3915/pages/faq-jquery-in-canvas\r\n// ==========================================================================================\r\n// UOB7.JS\r\n//\r\n// Generic top-level script for University of Birmingham's Canvas implementation. This\r\n// script, which requires jQuery and the jQuery.UI, carries out the following tasks:\r\n//\r\n// \t\tAdds FindIt@Bham link to Help Corner\r\n// \t\tHides \"Report a Problem\" Zendesk option from all but sub-account admins\r\n// \t\tEnables accordions\r\n// \t\tEnables tabs\r\n// \t\tEnables reveal buttons\r\n// \t\tEnables regexp reveals\r\n//\t\tEnables boxes\r\n//\t\tHides forgot-password link on login page\r\n//\t\tAdds Google viewer previews to compatible file links\r\n//\t\tAdd strap line for Canvas Gallery\r\n//\r\n// Most code is implemented within a $(document).load() to ensure that jQuery and the\r\n// jQuery UI are both available, especially in Internet Explorer.\r\n//\r\n//\r\n// ==========================================================================================\r\n\r\nthis.mmooc = this.mmooc || {};\r\nthis.mmooc.uob = (function() {\r\n  // -----------------------------------------------------------------------------------\r\n  // Declare veriables that are used for multiple tasks.\r\n  // -----------------------------------------------------------------------------------\r\n  var i;\r\n  var vimeoPlayerReady = false;\r\n  var vimeoTranscriptInitialized = false;\r\n  var uobInititalized = false;\r\n  var strSetNum = 0;\r\n  // --------------------------------------------------------------------------------\r\n  // uobAddComponents\r\n  //\r\n  // This function will enable the following UoB components:\r\n  // \t\taccordions\r\n  // \t\ttabs\r\n  // \t\treveal buttons\r\n  // \t\tregexp reveals\r\n  //\t\tboxes (header, box, tip, info, warning, question)\r\n  //\t\tpreviews\r\n  // --------------------------------------------------------------------------------\r\n\r\n  function uobAddComponents() {\r\n    onElementRendered(\r\n      '#content .user_content.enhanced,#content .show-content.enhanced',\r\n      function($content) {\r\n        // Tooltip\r\n        var re = /\\[(.*?)\\]\\((.*?)\\)/g;\r\n\r\n        //20180828ETH Bare bytt ut innholdet i første user content. I diskusjoner er det\r\n        //en user content for hvert innlegg, og mange av innleggene blir lastet inn etter\r\n        //at koden vår har kjørt. Dersom vi skal støtte dette må vi ha en måte å vite når\r\n        //alle innleggene er lastet inn på. Da kan man kjøre $content.each iterasjon.\r\n\r\n\r\n        $tooltipElements = $content.first().filter(function() {\r\n          return this.innerHTML.match(re);\r\n        });\r\n        \r\n        $tooltipElements.each(function (i, el) {\r\n            $(this).html($(this).html().replace(\r\n                re,\r\n                '<span class=\"tooltip tooltip-underline\">$1<span class=\"tooltiptext\">$2</span></span>'\r\n            ))\r\n        });\r\n\r\n        // ================================================================================\r\n        // Show non-uob-component tables\r\n        //\r\n        // Show standard tables that are not UoB controls i.e. tables that do not include\r\n        // the string \"[uob-\" in the first cell.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        var $tables = $content\r\n          .find('table:hidden')\r\n          .not(\"td:first(:contains('[uob-'))\");\r\n        $tables.show();\r\n\r\n        // ================================================================================\r\n        // Accordian (Part 1/2)\r\n        //\r\n        // Convert up to 10 uob-accordion tables to format required for accordions.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        for (i = 0; i < 10; i++) {\r\n          // Locate the next uob-accordion table.\r\n          $table = $content\r\n            .find('table')\r\n            .has('table > tbody > tr > td:contains([uob-accordion])')\r\n            .last();\r\n\r\n          // Break loop if no more accordions are to be displayed.\r\n          if ($table.length != 1) break;\r\n\r\n          // Convert table into HTML for an accordian.\r\n          $table.before(\"<div class='uob-accordions'></div>\");\r\n\r\n          $table.find('tbody:first > tr:gt(0) > td').each(function(_idx, _item) {\r\n            if ((_idx + 1) % 2) {\r\n              // Add heading 4 for accordion bar.\r\n              $table.prev().append('<button class=\"uob-accordion\"><i class=\"uob-arrow-down\"></i></button>');\r\n              $table\r\n                .prev()\r\n                .children()\r\n                .last()\r\n                .append(\r\n                  $(_item)\r\n                    .text()\r\n                    .trim()\r\n                );\r\n            }\r\n\r\n            if (_idx % 2) {\r\n              // Add div for accordion content.\r\n              $table.prev().append('<div class=\"uob-accordion-panel\"></div>');\r\n              $table\r\n                .prev()\r\n                .children()\r\n                .last()\r\n                .append($(_item).contents());\r\n            }\r\n          });\r\n\r\n          // Remove original table from the DOM\r\n          $table.remove();\r\n        }\r\n\r\n        // ================================================================================\r\n        // Tabs (Part 1/2)\r\n        //\r\n        // Convert up to 10 uob-tabs tables to format required for tabs.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        strSetNum = 0;\r\n\r\n        for (i = 0; i < 10; i++) {\r\n          // Locate the next uob-tabs table.\r\n          $table = $content\r\n            .find('table')\r\n            .has('table > tbody > tr > td:contains([uob-tabs])')\r\n            .last();\r\n\r\n          // Break loop if no more tabs are to be displayed.\r\n          if ($table.length != 1) break;\r\n\r\n          // Convert table into a set of tabs.\r\n          $table.before(\"<div class='uob-tabs'><ul></ul></div>\");\r\n          strSetNum++;\r\n\r\n          $table.find('tbody:first > tr:gt(0) > td').each(function(_idx, _item) {\r\n            var strAnchor = 'set' + strSetNum + 'tab' + (_idx - (_idx % 2)) / 2;\r\n\r\n            if ((_idx + 1) % 2) {\r\n              // Add list item for the tab label.\r\n              var strHTML =\r\n                '<li><a href=\"#' +\r\n                strAnchor +\r\n                '\">' +\r\n                $(_item)\r\n                  .text()\r\n                  .trim() +\r\n                '</a></li>';\r\n              $table\r\n                .prev()\r\n                .find('ul')\r\n                .first()\r\n                .append(strHTML);\r\n            }\r\n\r\n            if (_idx % 2) {\r\n              // Add div for the tab content.\r\n              $table.prev().append('<div id=\"' + strAnchor + '\"></div>');\r\n              $('#' + strAnchor).append($(_item).contents());\r\n            }\r\n          });\r\n\r\n          // Remove original table from the DOM\r\n          $table.remove();\r\n        }\r\n\r\n        // ================================================================================\r\n        // Reveal (Part 1/2)\r\n        //\r\n        // Convert up to 10 uob-reveal tables to format required for reveals.\r\n        // ................................................................................\r\n\r\n        strSetNum = 0;\r\n        do {\r\n          // Locate the next uob-reveal table\r\n          var $table = $content\r\n            .find('table')\r\n            .has('table > tbody > tr > td:contains([uob-reveal])')\r\n            .last();\r\n\r\n          // Break loop if no more reveal tables are to be converted.\r\n          var tableFound = $table.length;\r\n          if (tableFound) {\r\n\r\n            // Convert table into a reveal\r\n            strSetNum++;\r\n\r\n            $table.find('tbody:first > tr:gt(0) > td').each(function(_idx, _item) {\r\n              var strAnchor =\r\n                'set' + strSetNum + 'reveal' + (_idx - (_idx % 2)) / 2;\r\n\r\n              if ((_idx + 1) % 2) {\r\n                // Add new reveal button immediately before table\r\n                $table.before(\r\n                  '<p><a href=\"#' +\r\n                    strAnchor +\r\n                    '\" class=\"uob-reveal-button\"></a></p>'\r\n                );\r\n                $table\r\n                  .prev()\r\n                  .children()\r\n                  .append(\r\n                    $(_item)\r\n                      .text()\r\n                      .trim()\r\n                  );\r\n              }\r\n\r\n              if (_idx % 2) {\r\n                // Add new reveal content immediately before table\r\n                $table.before(\r\n                  '<div id=\"' + strAnchor + '\" class=\"uob-reveal-content\"></div>'\r\n                );\r\n                $table.prev().append($(_item).contents());\r\n              }\r\n            });\r\n\r\n            // Remove original table\r\n            $table.remove();\r\n          }\r\n        } while(tableFound)\r\n        // ================================================================================\r\n        // RegExp (Part 1/1)\r\n        //\r\n        // Convert up to 10 uob-regexp tables to format required for regexps.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        strSetNum = 0;\r\n\r\n        for (i = 0; i < 10; i++) {\r\n          // Locate the next uob-regexp table\r\n          var $table = $content\r\n            .find('table')\r\n            .has('table > tbody > tr > td:contains([uob-regexp])')\r\n            .last();\r\n\r\n          // Break loop if no more regexp tables are to be converted.\r\n          if ($table.length != 1) break;\r\n\r\n          // Convert table into a regexps\r\n          strSetNum++;\r\n\r\n          // Generate HTML for input and button/anchor controls, and add to the DOM.\r\n          var strAnchor = 'RE' + strSetNum;\r\n\r\n          var strHTML =\r\n            '<p><input id=\"input' +\r\n            strAnchor +\r\n            '\" class=\"uob-regexp-input\" type=\"text\" size=\"40\" />&nbsp;<a href=\"#' +\r\n            strAnchor +\r\n            '\" id=\"button' +\r\n            strAnchor +\r\n            '\" class=\"uob-regexp-button\">Check Answer</a></p>';\r\n          strHTML += \"<div id='content\" + strAnchor + \"'></div>\";\r\n          $table.before(strHTML);\r\n\r\n          // Store regular expressions in button and create DIVs to store the contents.\r\n          $table.find('tbody:first > tr:gt(0) > td').each(function(_idx, _item) {\r\n            var strValue = $(_item).html();\r\n            var strIndex = (_idx - (_idx % 2)) / 2;\r\n\r\n            if ((_idx + 1) % 2) {\r\n              // set RegExp\r\n              strValue = $(_item)\r\n                .text()\r\n                .trim();\r\n              $('#button' + strAnchor).attr('regexp' + strIndex, strValue);\r\n            }\r\n\r\n            if (_idx % 2) {\r\n              // set Content\r\n              //$(\"#data\" + strAnchor).attr(\"content\" + strIndex, strValue);\r\n              strHTML =\r\n                '<div id=\"data' +\r\n                strAnchor +\r\n                'ID' +\r\n                strIndex +\r\n                '\" class=\"uob-regexp-content\"></div>';\r\n              $('#content' + strAnchor).append(strHTML);\r\n              $('#data' + strAnchor + 'ID' + strIndex).append(\r\n                $(_item).contents()\r\n              );\r\n            }\r\n          });\r\n\r\n          // Store IDs of input and button to button and input respectively.\r\n          $('#button' + strAnchor).attr('regexpInput', 'input' + strAnchor);\r\n          $('#input' + strAnchor).attr('regexpButton', 'button' + strAnchor);\r\n\r\n          // Store default selection in button.\r\n          $('#button' + strAnchor).attr('regexpData', 'data' + strAnchor + 'ID0');\r\n          $('#button' + strAnchor).attr(\r\n            'regexpDataRoot',\r\n            'data' + strAnchor + 'ID'\r\n          );\r\n\r\n          // Remove original table\r\n          $table.remove();\r\n        }\r\n\r\n        // ================================================================================\r\n        // Accordian (Part 2/2)\r\n        //\r\n        // Accordions will be contained within elements with a uob-accordion class and\r\n        // headings will be restricted to h4 tags.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        // Initialise accordions\r\n        /*\r\n        var $accordion = $content.find('.uob-accordion');\r\n\r\n        if ($accordion.length) {\r\n          $accordion.accordion({\r\n            heightStyle: 'content',\r\n            header: '> h4',\r\n            collapsible: true,\r\n            active: false,\r\n            beforeActivate: function(event, ui) {\r\n              ui.oldPanel.find('.hide_youtube_embed_link').click();\r\n            }\r\n          });\r\n        }\r\n        */\r\n        \r\n        var acc = document.getElementsByClassName(\"uob-accordion\");\r\n        var i;\r\n\r\n        for (i = 0; i < acc.length; i++) {\r\n          acc[i].addEventListener(\"click\", function() {\r\n            this.classList.toggle(\"active\");\r\n            this.firstElementChild.classList.toggle(\"active\");\r\n            var panel = this.nextElementSibling;\r\n            panel.classList.toggle(\"active\");\r\n            if (panel.style.maxHeight){\r\n              panel.style.maxHeight = null;\r\n            } else {\r\n              panel.style.maxHeight = panel.scrollHeight + \"px\";\r\n            } \r\n          });\r\n        }\r\n        // ================================================================================\r\n        // Tabs (Part 2/2)\r\n        //\r\n        // Tabs will be contained within elements with a uob-tabs class.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        // Initialise tabs\r\n        var $tabs = $content.find('.uob-tabs');\r\n\r\n        if ($tabs.length > 0) {\r\n          $tabs.tabs({\r\n            active: 0,\r\n            collapsible: false,\r\n            heightStyle: 'content',\r\n            beforeActivate: function(event, ui) {\r\n              ui.oldPanel.find('.hide_youtube_embed_link').click();\r\n            },\r\n            activate: function(event, ui) {\r\n              console.log(\"Tab activate\");\r\n              // Let h5p iframes know we're ready!\r\n              var iframes = document.getElementsByTagName('iframe');\r\n              var ready = {\r\n                context: 'h5p',\r\n                action: 'ready'\r\n              };\r\n              for (var i = 0; i < iframes.length; i++) {\r\n                if (iframes[i].src.indexOf('h5p') !== -1) {\r\n                  iframes[i].contentWindow.postMessage(ready, '*');\r\n                }\r\n              }\r\n            },\r\n            beforeLoad: function(event, ui) {\r\n              console.log(\"Tab beforeLoad\");\r\n            },\r\n            create: function(event, ui) {\r\n              console.log(\"Tab create\");\r\n            },\r\n            load: function(event, ui) {\r\n              console.log(\"Tab load\");\r\n            }\r\n          });\r\n        }\r\n\r\n        // ================================================================================\r\n        // Reveal (Part 2/2)\r\n        //\r\n        // The uob-reveal-button and uob-reveal-content classes are required for reveals.\r\n        // ................................................................................\r\n\r\n        // Initialise reveal contents.\r\n        var $revealBody = $content.find('.uob-reveal');\r\n\r\n        if ($revealBody.length) {\r\n          for (i = 0; i < $revealBody.length; i++) {\r\n            var strSelector = $revealBody[i].href;\r\n            var iHashPos = strSelector.lastIndexOf('#');\r\n\r\n            if (iHashPos >= 0) {\r\n              $(strSelector.slice(iHashPos + 1)).css('display', 'none');\r\n            }\r\n          }\r\n        }\r\n\r\n        // Initialise reveal buttons.\r\n        var $revealButton = $content.find('.uob-reveal-button');\r\n\r\n        if ($revealButton.length) {\r\n          $revealButton\r\n            .button({ icons: { secondary: 'ui-icon-triangle-1-e' } })\r\n            .click(function(event) {\r\n              var $button = $(this);\r\n              var body = $button.attr('href');\r\n              var options;\r\n\r\n              if ($(body).css('display') != 'none') {\r\n                $(body).slideUp(400);\r\n                $(body)\r\n                  .find('.hide_youtube_embed_link')\r\n                  .click();\r\n                options = { icons: { secondary: 'ui-icon-triangle-1-e' } };\r\n              } else {\r\n                $(body).slideDown(400);\r\n                options = { icons: { secondary: 'ui-icon-triangle-1-s' } };\r\n              }\r\n\r\n              $button.button('option', options);\r\n              return false;\r\n            });\r\n        }\r\n\r\n        // ================================================================================\r\n        // RegExp (Part 2/2)\r\n        //\r\n        // The uob-regexp-input, uob-regexp-button, uob-regexp-content classes are required\r\n        // for regexp.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        // Initialise regexp inputs.\r\n        var $regexpInput = $content.find('.uob-regexp-input');\r\n\r\n        if ($regexpInput.length) {\r\n          $regexpInput.focus(function(event) {\r\n            var $input = $(this);\r\n            var $button = $('#' + $input.attr('regexpButton'));\r\n\r\n            var strData = $button.attr('regexpData');\r\n            var strDataRoot = $button.attr('regexpDataRoot');\r\n\r\n            if (strData != '') {\r\n              var $data = $('#' + strData);\r\n              var options;\r\n\r\n              // Hide current display if visible\r\n              if ($data.css('display') != 'none') {\r\n                $data.slideUp(400);\r\n                $data.find('.hide_youtube_embed_link').click();\r\n                options = { icons: { secondary: 'ui-icon-triangle-1-e' } };\r\n                $button.button('option', options);\r\n                $button.attr('regexpData', '');\r\n              }\r\n            }\r\n          });\r\n        }\r\n\r\n        // Initialise regexp buttons.\r\n        var $regexpButton = $content.find('.uob-regexp-button');\r\n\r\n        if ($regexpButton.length) {\r\n          $regexpButton\r\n            .button({ icons: { secondary: 'ui-icon-triangle-1-e' } })\r\n            .click(function(event) {\r\n              var $button = $(this);\r\n              var $input = $('#' + $button.attr('regexpInput'));\r\n\r\n              var strData = $button.attr('regexpData');\r\n              var strDataRoot = $button.attr('regexpDataRoot');\r\n              if (strData == '') strData = strDataRoot + '0';\r\n              var $data = $('#' + strData);\r\n              var options;\r\n\r\n              // Hide current display if visible\r\n              if ($data.css('display') != 'none') {\r\n                $data.slideUp(400);\r\n                options = { icons: { secondary: 'ui-icon-triangle-1-e' } };\r\n                $button.button('option', options);\r\n                $button.attr('regexpData', '');\r\n              } else {\r\n                // Locate content to be displayed\r\n                var strInput = $input.val();\r\n\r\n                // Loop through regexp looking for a match and identify content.\r\n                for (i = 0; i < 100; i++) {\r\n                  var strRegExp = $button.attr('regexp' + i);\r\n\r\n                  if (strRegExp == undefined || strRegExp.length == 0) break;\r\n\r\n                  var re = new RegExp('^' + strRegExp.trim() + '$');\r\n\r\n                  if (strRegExp == 'default' || re.test(strInput)) {\r\n                    $button.attr('regexpData', '' + strDataRoot + i);\r\n                    $data = $('#' + strDataRoot + i);\r\n                    break;\r\n                  }\r\n                }\r\n\r\n                $data.slideDown(400);\r\n                options = { icons: { secondary: 'ui-icon-triangle-1-s' } };\r\n                $button.button('option', options);\r\n                return false;\r\n              }\r\n            });\r\n        }\r\n\r\n        // ================================================================================\r\n        // Rating\r\n        //\r\n        // A rating will be constructed using radio buttons.\r\n        // See http://www.fyneworks.com/jquery/star-rating/\r\n        // --------------------------------------------------------------------------------\r\n\r\n        // Convert uob-rating table to format required for ratings.\r\n        var $ratingTable = $content\r\n          .find('table')\r\n          .has('table > tbody > tr > td:contains([uob-rating])');\r\n\r\n        if ($ratingTable.length) {\r\n          // Cut table from the DOM\r\n          $ratingTable.remove();\r\n\r\n          // Determine is user is more than a student.\r\n          var isTeacher = false;\r\n\r\n          hasAnyRole('teacher', 'admin', function() {\r\n            isTeacher = true;\r\n          });\r\n\r\n          // Add rating control to DOM\r\n          var strParams = '?page_loc=' + encodeURIComponent(location.pathname);\r\n          strParams += '&page_title=' + encodeURIComponent(document.title);\r\n          strParams += '&user_id=' + ENV.current_user_id;\r\n          strParams +=\r\n            '&user_name=' + encodeURIComponent(ENV.current_user.display_name);\r\n          var strRating =\r\n            '<iframe src=\"https://www.vampire.bham.ac.uk/canvas/rating.aspx' +\r\n            strParams +\r\n            '\" width=\"100%\" height=\"32\"></iframe>';\r\n          strRating = \"<div id='uob-rating-container-x'>\" + strRating + '</div>';\r\n          $content.append(strRating);\r\n        }\r\n\r\n        // ================================================================================\r\n        // Boxes\r\n        //\r\n        // Create boxes\r\n        // --------------------------------------------------------------------------------\r\n\r\n        aBoxTags = [\r\n          'uob-tip',\r\n          'pfdk-tips',\r\n          'uob-read',\r\n          'pfdk-les',\r\n          'uob-info',\r\n          'pfdk-info',\r\n          'uob-warning',\r\n          'pfdk-advarsel',\r\n          'uob-header',\r\n          'uob-question',\r\n          'pfdk-spsm',\r\n          'uob-quote',\r\n          'pfdk-sitat',\r\n          'uob-box',\r\n          'pfdk-boks',\r\n          'pfdk-info',\r\n          'pfdk-maal',\r\n          'pfdk-important',\r\n          'pfdk-viktig',\r\n          'pfdk-tid',\r\n          'pfdk-verktoy',\r\n          'udir-skoleleder',\r\n          'udir-kommentar',\r\n          'udir-eksempel'\r\n        ];\r\n\r\n        do {\r\n          var found = false;\r\n          var strTag = \"\";\r\n          var $table = $content\r\n            .find(\"table\")\r\n            .filter(function(index) {\r\n              var str = $(this).find(\"tr:eq(0) > td\").text();\r\n              var patt = /\\[(.*)\\]/i;\r\n              var result = str.match(patt);\r\n              \r\n              if(!found && result && result[1] && (aBoxTags.indexOf(result[1]) > -1)) {\r\n                strTag = result[1];\r\n                found = true;\r\n                return true;\r\n              } \r\n              return false;\r\n            });\r\n\r\n          if (found) {\r\n            // Add new container immediately before table\r\n            if (strTag == 'uob-header')\r\n              $table.before('<h2 class=\"' + strTag + '\"></h2>');\r\n            else if (strTag == 'uob-quote')\r\n              $table.before(\r\n                '<div class=\"' + strTag + '\"><div class=\"uob-quote99\" /></div>'\r\n              );\r\n            else $table.before('<div class=\"' + strTag + '\"></div>');\r\n\r\n            // Move content from table to container\r\n            $table.prev().append($table.find('tr:eq(1) > td:eq(0)').contents());\r\n\r\n            // Remove original table\r\n            $table.remove();\r\n          }\r\n        } while(found);\r\n\r\n        // ================================================================================\r\n        // Previews\r\n        //\r\n        // This code will append preview buttons immediately after each file link in the\r\n        // content of a page. File links are identified by the instructure_file_link class.\r\n        // When clicked the first time, the preview button will call a function to complete\r\n        // the DOM changes, which are not possible before the DOM manipulation carried out\r\n        // within Canvas is complete. The new HTML for the preview button will be similar\r\n        // to the following:\r\n        //\r\n        // <a href=\"javascript:uobShowPreviewDocument(0)\" title=\"Preview example.pdf\" id=\"uobPreview0\">\r\n        //     <img src=\"/images/preview.png\" alt=\"Preview example.pdf\">\r\n        // </a>\r\n        // --------------------------------------------------------------------------------\r\n\r\n        $content\r\n          .find('.instructure_file_link_holder.link_holder')\r\n          .has('a')\r\n          .each(function(_idx, _item) {\r\n            // Initialise varibles\r\n            var $item = $(_item);\r\n            var $anchor = $(_item)\r\n              .find('a')\r\n              .filter(':first');\r\n            var strHref = $anchor.attr('href') || ''; // if href is not found, set strHref to an empty string.\r\n            var iScribd =\r\n              $(_item).find('.instructure_scribd_file_holder').length || 0;\r\n\r\n            if (iScribd > 0) {\r\n              strHref = '';\r\n            }\r\n\r\n            if (strHref.length > 0) {\r\n              // Obtain ID of the file (index is 4 or 6 respectivelly for non-draft and draft modes)\r\n              var file_id = strHref.split('/')[\r\n                strHref.indexOf('/courses') == 0 ? 4 : 6\r\n              ];\r\n\r\n              // Use Canvas API to obtain information about the file being linked.\r\n              $.get('/api/v1/files/' + file_id, function(_d) {\r\n                // Check that the file type is compatible with the Google viewer.\r\n                if ($.isPreviewable(_d['content-type'], 'google') === 1) {\r\n                  // Initialise variables\r\n                  var displayName = _d['display_name'];\r\n\r\n                  // Create anchor element for the link. Note, _idx is used to make each\r\n                  // link unique. The file_id cannot be used in case when the same file\r\n                  // link appears more than once on a page.\r\n                  var $a = $(document.createElement('a'))\r\n                    .attr(\r\n                      'href',\r\n                      'javascript:uobShowPreviewDocument(' + _idx + ')'\r\n                    )\r\n                    .attr('title', 'Preview ' + displayName)\r\n                    .attr('id', 'uobPreview' + _idx)\r\n                    .data('href2', strHref);\r\n\r\n                  // Create preview icon for the link\r\n                  var $img = $(document.createElement('img'))\r\n                    .attr('src', '/images/preview.png')\r\n                    .attr('alt', 'Preview ' + displayName);\r\n\r\n                  // Combine the preview icon with the anchor and add them to the DOM.\r\n                  $a.append($img);\r\n                  $anchor.after($a);\r\n                  //$(_item).append($a);\r\n                }\r\n              });\r\n            }\r\n          });\r\n\r\n        // ================================================================================\r\n        // Refresh after publish/unpublish\r\n        //\r\n        // Add dummy callback function to detect when the page is published or unpublished.\r\n        // The callback function will constantly check for the div and refresh the UoB\r\n        // components if the div is missing.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        // Create dummy div and add it to the DOM\r\n        var $div = $(document.createElement('div')).attr(\r\n          'id',\r\n          'uob-components-loaded'\r\n        );\r\n        $content.append($div);\r\n\r\n        // Set callback to test for missing div, as occurs when pages are published/unpublished.\r\n        onElementMissing('#uob-components-loaded', function($identity) {\r\n          uobAddComponents();\r\n        });\r\n\r\n        // ================================================================================\r\n        // --------------------------------------------------------------------------------\r\n\r\n        //KURSP-279 Multilanguage must be run when content is ready\r\n        try {\r\n          // Call multilanguage.perform() last to catch all relevant DOM content\r\n          mmooc.multilanguage.perform();\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n\r\n        if(vimeoPlayerReady && !vimeoTranscriptInitialized) {\r\n          vimeoTranscriptInitialized = true;\r\n          mmooc.vimeo.init();\r\n        }\r\n        uobInititalized = true;\r\n      }\r\n    );\r\n  }\r\n\r\n  // --------------------------------------------------------------------------------\r\n  // uobShowPreviewDocument\r\n  //\r\n  // This function will amend a preview link so that when it is clicked, it will\r\n  // display documents using the Google viewer. This function will only be called\r\n  // once for each preview link, the first time it is clicked. When amended, the link\r\n  // is moved into the SPAN element with a \"link_holder\" class which should\r\n  // immediately precede the link. The preview link is given a new href attribute,\r\n  // the \"scribd_file_preview_link\" class and the click event will be triggered.\r\n  // --------------------------------------------------------------------------------\r\n\r\n  function uobShowPreviewDocument(iFileID) {\r\n    // Initialise object variables to simplify the code. $target is the preview link\r\n    // and $holder is the preceding or parent SPAN element (if it exists).\r\n    var $target = $('#uobPreview' + iFileID);\r\n    var $holder = $target.prev('span.link_holder');\r\n\r\n    if ($holder.length == 0) {\r\n      $holder = $target.parent('span.link_holder');\r\n    }\r\n\r\n    // Check that preceding element is a SPAN with the \"link_holder\" class.\r\n    if ($holder.length) {\r\n      // Move the anchor element into the preceeding span element\r\n      $holder.append($target);\r\n\r\n      // Replace href value, add the \"scribd_file_preview_link\" class and click.\r\n      $target\r\n        .attr('href', $target.data('href2'))\r\n        .addClass('scribd_file_preview_link')\r\n        .click();\r\n    }\r\n  }\r\n\r\n  // --------------------------------------------------------------------------------\r\n  // Instructure/rpflorence functions\r\n  //\r\n  // (see http://youtu.be/ag6mxnBMTnQ and https://gist.github.com/rpflorence/5817898)\r\n  // Functions slightly amended and onElementMissing function added.\r\n  // --------------------------------------------------------------------------------\r\n\r\n  function onPage(regex, fn) {\r\n    if (location.pathname.match(regex)) fn();\r\n  }\r\n\r\n  function hasAnyRole(/* role1, role2..., cb */) {\r\n    var roles = [].slice.call(arguments, 0);\r\n    var cb = roles.pop();\r\n\r\n    if (typeof ENV != 'object') return cb(false);\r\n    if (typeof ENV.current_user_roles != 'object') return cb(false);\r\n    if (ENV.current_user_roles == null) return cb(false);\r\n\r\n    for (var i = 0; i < roles.length; i++) {\r\n      if (ENV.current_user_roles.indexOf(roles[i]) !== -1) return cb(true);\r\n    }\r\n\r\n    return cb(false);\r\n  }\r\n\r\n  function isUser(id, cb) {\r\n    cb(ENV.current_user_id == id);\r\n  }\r\n\r\n  function onElementRendered(selector, cb, _attempts) {\r\n    var el = $(selector);\r\n    _attempts = ++_attempts || 1;\r\n    if (el.length) return cb(el);\r\n    if (_attempts >= 60) return;\r\n\r\n    setTimeout(function() {\r\n      onElementRendered(selector, cb, _attempts);\r\n    }, 200);\r\n  }\r\n\r\n  function onElementMissing(selector, cb) {\r\n    var el = $(selector);\r\n    if (!el.length) return cb(el);\r\n\r\n    setTimeout(function() {\r\n      onElementMissing(selector, cb);\r\n    }, 700);\r\n  }\r\n\r\n  function getQueryVariable(variable) {\r\n    var query = window.location.search.substring(1);\r\n    var vars = query.split('&');\r\n\r\n    for (var i = 0; i < vars.length; i++) {\r\n      var pair = vars[i].split('=');\r\n      if (pair[0] == variable) {\r\n        return pair[1];\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  return {\r\n    init: function() {\r\n      // -----------------------------------------------------------------------------------\r\n      // Add UoB enhancements to rich content displayed in courses.\r\n      // -----------------------------------------------------------------------------------\r\n      onPage(/\\/(courses|groups)\\/\\d+/, function() {\r\n        uobAddComponents();\r\n      });\r\n    },\r\n    setVimeoPlayerReady: function() {\r\n      vimeoPlayerReady = true;\r\n      if(uobInititalized && !vimeoTranscriptInitialized) {\r\n        mmooc.vimeo.init();\r\n        vimeoTranscriptInitialized = true;\r\n      }\r\n    }\r\n  };\r\n})();","this.mmooc=this.mmooc||{};\n\n//https://webapps.stackexchange.com/questions/85517/how-can-i-download-subtitles-for-a-vimeo-video\nthis.mmooc.vimeo = function() {\n\tvar hrefPrefix = \"$KPASAPIURL/vimeo/\";\n\tvar transcriptContainer = {};\n\tvar initialized = false;\n    var noOfVimeoVideos = 0;\n\n    var noOfInits = 0;\n\tfunction transcript(vimeoIframeId, vimeoVideoId)\n\t{\n\t\tvar playbackRate = 1.0;\n\t\tvar transcriptId = \"transcript\" + vimeoIframeId;\n\t\tvar transcriptLoadingId = transcriptId + \"loading\";\n\t\tvar transcriptParentId = transcriptId + \"parent\";\n\t\tvar videoId = vimeoVideoId;\n\t\tvar iframeId = vimeoIframeId;\n\t\tvar transcriptButtonId = \"vimeoTranscriptButtonId\" + vimeoIframeId;\n\t\tvar transcriptContentId = \"vimeoTranscriptContentId\" + vimeoIframeId;\n\t\tvar player = null;\n\t\tvar transcriptParentDiv = null;\n\n\t\tvar href = hrefPrefix + videoId;\n        //Array of captions in video\n\t\tvar captionsLoaded = false;\n\n\t\t//Timeout for next caption\n\t\tvar captionTimeout = null;\n\t\t\n\t\tvar captionsArr = [];\n\t\tvar captions = null;\n\n\t\t//Keep track of which captions we are showing\n\t\tvar currentCaptionIndex = 0;\n\t\tvar nextCaptionIndex = 0;\n\n\t\tthis.initializePlayer = function() {\n\t\t\tvar transcript = this;\n\t\t\tvar iframe = document.getElementById(iframeId);\n\t\t\tplayer = new Vimeo.Player(iframe);\n\t\t\tplayer.on('play', function() {\n\t\t\t\ttranscript.playerPlaying();\n\t\t\t});\n\t\t\tplayer.on('pause', function() {\n\t\t\t\ttranscript.playerNotPlaying();\n\t\t\t});\n\t\t\tplayer.getVideoTitle().then(function(title) {\n\t\t\t});\n\t\t\tplayer.on('cuechange', function(d) {\n\t\t\t});\n\t\t\tplayer.on('cuepoint', function(d) {\n\t\t\t})\n\t\t\tplayer.on('texttrackchange', function(d) {\n\t\t\t})\n\t\t\tplayer.on('playbackratechange', function(d) {\n\t\t\t\ttranscript.setPlaybackRate(d.playbackRate);\n\t\t\t})\n\t\t}\n\t\tvar findCaptionIndexFromTimestamp = function(timeStamp) {\n\t\t\tvar start = 0;\n\t\t\tvar duration = 0;\n\t\t\tfor (var i = 0, il = captions.length; i < il; i++) {\n\t\t\t  start = Number(getStartTimeFromCaption(i));\n\t\t\t  duration = Number(getDurationFromCaption(i));\n\t  \n\t\t\t  //Return the first caption if the timeStamp is smaller than the first caption start time.\n\t\t\t  if (timeStamp < start) {\n\t\t\t\tbreak;\n\t\t\t  }\n\t  \n\t\t\t  //Check if the timestamp is in the interval of this caption.\n\t\t\t  if (timeStamp >= start && timeStamp < start + duration) {\n\t\t\t\tbreak;\n\t\t\t  }\n\t\t\t}\n\t\t\treturn i;\n\t\t  };\n\n\t\tvar clearCurrentHighlighting = function()\n\t\t{\n\t\t\tvar timeStampId = getTimeIdFromTimestampIndex(currentCaptionIndex);\n\t\t\t$(\"#\"+timeStampId).removeClass(\"vimeoCaptionActive\");\n\t\t}\n\n\t\tvar highlightNextCaption = function ()\n\t\t{\n\t\t\tvar timestampId = getTimeIdFromTimestampIndex(nextCaptionIndex);\n\t\t\t$(\"#\"+timestampId).addClass(\"vimeoCaptionActive\");\n\t\t\tvar target = document.getElementById(timestampId);\n\t\t\tvar targetParent = document.getElementById(transcriptContentId);\n\n\t\t\ttargetParent.scrollTop = target.offsetTop - (targetParent.offsetTop + targetParent.offsetHeight / 2);\n\t\t\t\n\t\t}\n\t\t//Calculate timeout for when next subtitle should be displayed\n\t\tvar calculateTimeout = function(currentTime) {\n\t\t\tvar startTimeCurrentCaption = Number(getStartTimeFromCaption(currentCaptionIndex));\n\t\t\tvar startTimeNextCaption = Number(getStartTimeFromCaption(nextCaptionIndex));\n\t\t\tvar durationCurrentCaption = Number(getDurationFromCaption(currentCaptionIndex));\n\t\t\tvar timeoutValue = 0;\n\n\t\t\t//The normal case\n\t\t\tif(startTimeNextCaption >= currentTime) {\n\t\t\t\ttimeoutValue = startTimeNextCaption - currentTime;\n\t\t\t}\n\t\t\treturn timeoutValue;\n\t\t  };\n\t  \n\t\t  this.setCaptionTimeout = function(timeoutValue) {\n\t\t\tif (timeoutValue < 0) {\n\t\t\t  return;\n\t\t\t}\n\t  \n\t\t\tclearTimeout(captionTimeout);\n\t  \n\t\t\tvar transcript = this;\n\t\t\tvar adjustedTimeoutValue = timeoutValue / transcript.getPlaybackRate(); \n\t  \n\t\t\tcaptionTimeout = setTimeout(function() {\n\t\t\t  transcript.highlightCaptionAndPrepareForNext();\n\t\t\t}, adjustedTimeoutValue * 1000);\n\t\t  };\n\t  \n\t\tvar getStartTimeFromCaption = function(i)\n\t\t{\n\t\t\tif(i >= captions.length)\n\t\t\t{\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn captions[i].getAttribute('start');\n\t\t}\n\t\tvar getDurationFromCaption = function(i) \n\t\t{\n\t\t\tif(i >= captions.length)\n\t\t\t{\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn captions[i].getAttribute('dur');\n\t\t}\n\t\tvar getTimeIdFromTimestampIndex = function(i)\n\t\t{\n\t\t\tvar strTimestamp = \"_\" + i;\n\t\t\treturn \"t\" + transcriptContentId + strTimestamp;\n\t\t}\n\n\n\t\t//////////////////\n\t\t//Public functions\n\t\t/////////////////\n\t\t//This function highlights the next caption in the list and\n\t\t//sets a timeout for the next one after that.\n\t\t//It must be public as it is called from a timer.\n\t\tthis.highlightCaptionAndPrepareForNext = function() {\n\t\t\tclearCurrentHighlighting();\n\t\t\thighlightNextCaption();\n\t\t\tcurrentCaptionIndex = nextCaptionIndex;\n\t\t\tnextCaptionIndex++;\n\n\t\t\tvar transcript = this;\n\n\t\t\tplayer.getCurrentTime().then(function(currentTime) {\n\t\t\t\tvar timeoutValue = calculateTimeout(currentTime);\n\t\t\t\tif (nextCaptionIndex < captions.length) {\n\t\t\t\t\ttranscript.setCaptionTimeout(timeoutValue);\n\t\t\t\t}\n\t\t\t}).catch(function(error) {\n                console.log(\"highlightCaptionAndPrepareForNext:Could not get current time from vimeo in player playing:\" + error);\n            });;\n\t\t};\n\t\tthis.setCurrentTime = function (seekToTime)\n\t\t{\n            player.setCurrentTime(seekToTime).then(function(seconds) {\n            }).catch(function(error) {\n                switch (error.name) {\n                case 'RangeError':\n                    console.log(\"The time is less than 0 or greater than the video's duration.\");\n                    break;\n            \n                default:\n                    console.log(\"Some other error occurred.\");\n                    break;\n                }\n            });\n        }\n\n        this.play = function() {\n\t\t\tvar transcript = this;\n\t\t\tplayer.getPaused().then(function(paused) {\n\t\t\t\tif(!paused) {\n\t\t\t\t\ttranscript.playerPlaying();\n\t\t\t\t} else {\n\t\t\t\t\tplayer.play().then(function() {\n\t\t\t\t\t}).catch(function(error) {\n\t\t\t\t\t\tswitch (error.name) {\n\t\t\t\t\t\t\tcase 'PasswordError':\n\t\t\t\t\t\t\t\tconsole.log(\"The video is password protected.\")\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tcase 'PrivacyError':\n\t\t\t\t\t\t\t\t// The video is private\n\t\t\t\t\t\t\t\tconsole.log(\"The video is private.\")\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tconsole.log(\"Some error occured.\")\n\t\t\t\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n        }\n\n\t\tthis.highlightCaptionFromTimestamp = function(timeStamp) {\n\t\t\tclearCurrentHighlighting();\n\t\t\tnextCaptionIndex = findCaptionIndexFromTimestamp(timeStamp);\n\t\t\tcurrentCaptionIndex = nextCaptionIndex;\n\t  \n\t\t\tvar startTime = Number(getStartTimeFromCaption(currentCaptionIndex));\n\t  \n\t\t\tvar timeoutValue = -1;\n\t\t\tif (timeStamp < startTime) {\n\t\t\t  timeoutValue = startTime - timeStamp;\n\t\t\t} else {\n\t\t\t  highlightNextCaption();\n\t\t\t  timeoutValue = calculateTimeout(timeStamp);\n\t\t\t}\n\t\t\tthis.setCaptionTimeout(timeoutValue);\n\t\t};\n\t\tthis.removeLeadingAndTrailingDash = function(s) {\n\t\t\tif(s[0] == \"-\") {\n\t\t\t\ts = s.slice(1, s.length);\n\t\t\t}\n\t\t\ts = s.replace(/ +$/, '');\n\t\t\tif(s[s.length-1] == \"-\") {\n\t\t\t\ts = s.slice(0, -1);\n\t\t\t}\n\t\t\ts += \" \";\n\t\t\treturn s;\n\t\t};\n\t\tthis.updateTranscriptText = function(p, languageCode) {\n\t\t\tcaptions = captionsArr[languageCode];\n\t\t\tvar srt_output = '<p>';\n\t\t\tvar noOfSentencesInParagraph = 0;\n\t\t\tvar captionText = \"\";\n\t\t\tfor (var i = 0, il = captions.length; i < il; i++) {\n\t\t\t\tstart =+ getStartTimeFromCaption(i);\n\n\t\t\t\tcaptionText = captions[i].textContent.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\t\t\t\tcaptionText = this.removeLeadingAndTrailingDash(captionText);\n\t\t\t\tvar timestampId = getTimeIdFromTimestampIndex(i);\n\t\t\t\tsrt_output += \"<span class='btnVimeoSeek' data-seek='\" + start + \"' id='\" + timestampId + \"'>\" + captionText + \"</span> \";\n\t\t\t\tnoOfSentencesInParagraph++;\n\t\t\t\tif((noOfSentencesInParagraph > 10) && captionText.includes(\".\")) {\n\t\t\t\t\tsrt_output += \"</p><p>\";\n\t\t\t\t\tnoOfSentencesInParagraph = 0;\n\t\t\t\t}\n\t\t\t};\n\t\t\tsrt_output += \"</p>\";\n\n\t\t\tp.innerHTML = srt_output;\n\t\t}\n\t\tthis.displayErrorMessage = function(oTranscriptArea, msg) {\n\t\t\toTranscriptArea.transcriptContentArea.innerHTML = \"<p>\" + msg + \"</p>\";\n\t\t}\n\t\tthis.createTranscriptArea = function() {\n\t\t\tvar b = document.createElement('a');\n\t\t\tb.setAttribute(\"class\", \"vimeotranscript-reveal-button\");\n\t\t\tb.setAttribute(\"id\", transcriptButtonId);\n\t\t\tb.setAttribute(\"href\", \"#\" + transcriptContentId);\n\t\t\tb.innerHTML = \"Videotranskripsjon\";\n\n\t\t\tvar p = document.createElement('p');\n\t\t\ttranscriptParentDiv.appendChild(p);\n\t\t\tp.appendChild(b);\n\t\t\tconsole.log(\"createTranscriptArea:\" + transcriptParentDiv.parentElement.innerHTML);\n\n\t\t\tvar e = document.createElement('div');\n\t\t\ttranscriptParentDiv.appendChild(e);\n\t\t\te.setAttribute(\"id\", transcriptContentId);\n\t\t\te.setAttribute(\"class\", \"transcript\");\n\t\t\te.setAttribute(\"style\", \"display: none;\");\n\n\t\t\tvar br = document.createElement('br');\n\t\t\ttranscriptParentDiv.appendChild(br);\n\n\t\t\tvar transcript = this;\n\t\t\t$('#' + transcriptButtonId)\n\t\t\t.button({ icons: { secondary: 'ui-icon-triangle-1-e' } })\n\t\t\t.click(function(event) {\n\t\t\t\tvar $button = $(this);\n\n\t\t\t\t$(\"#\" + transcript.getTranscriptSelectId()).toggle();\n\t\t\t\tvar body = \"#\"+transcriptContentId;\n\t\t\t\tif ($(body).css('display') != 'none') {\n\t\t\t\t\t$(body).slideUp(400);\n\t\t\t\t\t$(body).removeClass(\"uob-box\");\n\t\t\t\t\toptions = { icons: { secondary: 'ui-icon-triangle-1-e' } };\n\t\t\t\t} else {\n\t\t\t\t\t$(body).slideDown(400);\t\t\t\t\n\t\t\t\t\t$(body).addClass(\"uob-box\");\n\t\t\t\t\toptions = { icons: { secondary: 'ui-icon-triangle-1-s' } };\n\t\t\t\t}\t\n\t\t\t\t$button.button('option', options);\n\t\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t\n\t\t\treturn {transcriptArea:p, transcriptContentArea: e};\n\t\t}\t\t  \n\t\tthis.createLanguageMenu = function(oTranscriptArea, selectedLanguage) {\n\t\t\tvar e = document.createElement('span');\n\t\t\toTranscriptArea.transcriptArea.appendChild(e);\n\t\t\tvar transcript = this;\n\t\t\tplayer.getTextTracks().then(function(tracks) {\n\t\t\t\tvar transcriptSelectId = transcript.getTranscriptSelectId();\n\t\t\t\tvar s = document.createElement('select');\n\t\t\t\te.appendChild(s);\n\t\t\t\ts.setAttribute(\"id\", transcriptSelectId);\n\t\t\t\ts.setAttribute(\"class\", \"vimeoSelectLanguage\");\n\t\t\t\ts.setAttribute(\"style\", \"display: none;\");\n\t\n\t\t\t\tvar html = mmooc.util.renderTemplateWithData('transcriptMenu', {\n\t\t\t\t\ttranscriptSelectId: transcriptSelectId,\n\t\t\t\t\tlanguageTracks: tracks,\n\t\t\t\t\tselectedLanguage: selectedLanguage\n\t\t\t\t});\n\t\t\t\ts.innerHTML = html;\n\t\t\t\tfunction show(){\n\t\t\t\t  transcript.updateTranscriptText(oTranscriptArea.transcriptContentArea, s.value);\n\t\t\t\t}\n\t\t\t\ts.onchange=show;\n\t\t\t});\n\t\t};\n\t\tthis.autoPositionTranscriptParent = function() {\n\t\t\tvar iframe = document.getElementById(iframeId);\n\n\t\t\tvar nextElementSibling = iframe.nextElementSibling;\n\t\t\tvar insertAfterSibling = iframe;\n\n\t\t\tvar iframeParent = iframe.parentElement;\n\t\t\tvar iframeParentStyle = iframeParent.getAttribute(\"style\");\n\t\t\t//Responsive vimeo videos has a parent element with a style that contains this:\n\t\t\tif(iframeParentStyle && (iframeParentStyle.indexOf(\"56.25%\") > 0)) {\n\t\t\t\tinsertAfterSibling = iframeParent;\n\t\t\t\tnextElementSibling = iframeParent.nextElementSibling;\n\t\t\t}\n\n\t\t\t//If there is an element after the iframe, we insert the transcript before that one.\n\t\t\tif(nextElementSibling) {\n\t\t\t\t//Some vimeo videos has a link to the video. In that case we put the transcript\n\t\t\t\t//below the link.\n\t\t\t\tvar firstElementChild = nextElementSibling.firstElementChild;\n\t\t\t\tif(firstElementChild) {\n\t\t\t\t\tvar href = firstElementChild.getAttribute(\"href\");\n\t\t\t\t\tif(href) {\n\t\t\t\t\t\tvar siblingVideoId = mmooc.vimeo.getVimeoVideoIdFromUrl(href);\n\t\t\t\t\t\tif(siblingVideoId == videoId) {\n\t\t\t\t\t\t\tinsertAfterSibling = nextElementSibling;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tinsertAfterSibling.parentNode.insertBefore(transcriptParentDiv, insertAfterSibling.nextSibling);\n\t\t\t} //If the iframe is the last element on the page, we add the transcript at the bottom.\n\t\t\telse {\n\t\t\t\tinsertAfterSibling.parentElement.appendChild(transcriptParentDiv);\n\t\t\t}\n\t\t};\n\t\tthis.insertTranscriptParent = function() {\n\t\t\ttranscriptParentDiv = document.createElement('div');\n\t\t\ttranscriptParentDiv.setAttribute(\"class\", \"transcriptParent\");\n\t\t\ttranscriptParentDiv.setAttribute(\"id\", transcriptParentId);\n\t\t\tvar e = document.createElement('div');\n\t\t\ttranscriptParentDiv.appendChild(e);\n\t\t\te.setAttribute(\"id\", transcriptLoadingId);\n\t\t\te.setAttribute(\"class\", \"loading-gif\");\n\t\t\tthis.autoPositionTranscriptParent();\n\t\t};\n\t\tthis.transcriptLoaded = function(transcriptXml) {\n\t\t\tvar transcript = this;\n\t\t\tvar e = document.getElementById(transcriptLoadingId);\n\t\t\te.setAttribute(\"style\", \"display: none;\");\n\n\t\t\tvar oTranscriptArea = transcript.createTranscriptArea();\n\n\t\t\tvar error = transcriptXml.getElementsByTagName('error');\n\t\t\tif(error.length) {\n\t\t\t\tvar errorMessage = error[0];\n\t\t\t\ttranscript.displayErrorMessage(oTranscriptArea, errorMessage.textContent);\n\t\t\t} else {\n\t\t\t\ttranscript.initializePlayer();\n\n\t\t\t\tvar preferredLanguage = MultilangUtils.getPreferredLanguage();\n\t\t\t\tlanguages = transcriptXml.getElementsByTagName('language'); \n\t\t\t\tvar selectedLanguageCode = \"\";\n\t\t\t\tvar nbLanguageAvailable = false;\n\t\t\t\tfor (var languageNo = 0, languageTotal = languages.length; languageNo < languageTotal; languageNo++) {\n\t\t\t\t\tvar language = languages[languageNo];\n\t\t\t\t\tvar languageCode = language.getAttribute(\"lang\");\n\t\t\t\t\tif(languageCode == \"nb\") {\n\t\t\t\t\t\tnbLanguageAvailable = true;\n\t\t\t\t\t}\n\t\t\t\t\tif(languageCode == preferredLanguage) {\n\t\t\t\t\t\tselectedLanguageCode = languageCode;\n\t\t\t\t\t}\n\t\t\t\t\tif(selectedLanguageCode == \"\") {\n\t\t\t\t\t\tselectedLanguageCode = languageCode; //Default to first language available.\n\t\t\t\t\t}\n\t\t\t\t\tcaptionsArr[languageCode] = language.getElementsByTagName('text');\n\t\t\t\t}\n\t\t\t\tif(selectedLanguageCode == \"\" && nbLanguageAvailable) {\n\t\t\t\t\tselectedLanguageCode = \"nb\";\n\t\t\t\t}\n\t\t\t\tcaptionsLoaded = true;\n\n\t\t\t\ttranscript.createLanguageMenu(oTranscriptArea, selectedLanguageCode);\n\t\t\t\ttranscript.updateTranscriptText(oTranscriptArea.transcriptContentArea, selectedLanguageCode);\n\t\t\t\tplayer.getPaused().then(function(paused) {\n\t\t\t\t\tif(!paused) {\n\t\t\t\t\t\ttranscript.playerPlaying();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.getTranscriptId = function()\n\t\t{\n\t\t\treturn transcriptId;\n\t\t}\n\t\tthis.getTranscriptParentId = function()\n\t\t{\n\t\t\treturn transcriptParentDiv;\n\t\t}\n\t\tthis.getTranscriptContentId = function()\n\t\t{\n\t\t\treturn transcriptContentId;\n\t\t}\n\t\tthis.getTranscriptSelectId = function() \n\t\t{\n\t\t\treturn transcriptContentId + \"-select\";\n\t\t}\n\t\tthis.getIFrameId = function() \n\t\t{\n\t\t\treturn iframeId;\n\t\t}\n\t\tthis.getVideoId = function()\n\t\t{\n\t\t\treturn videoId;\n\t\t}\n\t\tthis.getPlaybackRate = function() {\n\t\t\treturn playbackRate;\n\t\t}\n\t\tthis.setPlaybackRate = function(newPlaybackRate) {\n\t\t\tplaybackRate = newPlaybackRate;\n\t\t}\n\t\tthis.getPlayer = function()\n\t\t{\n\t\t\treturn player;\n\t\t}\n\t\t\n        this.getTranscript = function()\n\t\t{\n\t\t\tvar oTranscript = this;\n\t\t\t$.ajax({\n\t\t\t\turl: href,\n\t\t\t\ttype: 'GET',\n                data: {},\n\t\t\t\tsuccess: function(response) {\n\t\t\t\t\toTranscript.transcriptLoaded(response);\n\t\t\t\t},\n\t\t\t\terror: function(XMLHttpRequest, textStatus, errorThrown) {\n\t\t\t\t\tconsole.log(\"Error during GET\");\n\t\t\t\t}\n\t\t\t});           \n\t\t}\n\t\t\n\t\tthis.playerPlaying = function()\n\t\t{\n\t\t\tif(!captionsLoaded)\n\t\t\t{\n\t\t\t\tconsole.log(\"Captions not loaded.\");\n\t\t\t\treturn;\n\t\t\t}\t\n\t\t\t\n            var player = this.getPlayer();\n            var transcript = this;\n            player.getCurrentTime().then(function(currentTime) {\n    \t\t    transcript.highlightCaptionFromTimestamp(currentTime);\n            }).catch(function(error) {\n                console.log(\"Could not get current time from vimeo in player playing:\" + error);\n            });\n\t\t}\n\t\tthis.playerNotPlaying = function (transcript)\n\t\t{\n\t\t\tif(!captionsLoaded)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\t\n\t\t\tclearTimeout(captionTimeout);\n\t\t}\n\t}\n\n\t//Called when user clicks somewhere in the transcript.\n\t$(function() {\n\t\t$(document).on('click', '.btnVimeoSeek', function() {\n\t\t\tvar seekToTime = $(this).data('seek');\n\t\t\tvar transcript = mmooc.vimeo.getTranscriptFromTranscriptId($(this).parent().parent().attr(\"id\"));\n            try {\n                transcript.setCurrentTime(seekToTime);\n                transcript.play();\n            }\n            catch(e) {\n                console.log(\"Vimeo exception:\" + e);\n            }\n\t\t});\n\t});\n\n\treturn {\n\t\tgetTranscriptFromTranscriptId(transcriptId)\n\t\t{\n\t\t\tfor (const transcript in transcriptContainer) {\n\t\t\t\tvar transcriptCandidateId = transcriptContainer[transcript].getTranscriptContentId();\n\t\t\t\tif(transcriptCandidateId == transcriptId) {\n\t\t\t\t\treturn transcriptContainer[transcript];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t    getNoOfVimeoVideos() {\n            return noOfVimeoVideos;\n        },\n\t\tgetUniqueIframeId(vimeoId) {\n\t\t\tvar vimeoVideoId = \"vimeo\" + vimeoId;\n\t\t\tvar i = 0;\n\t\t\twhile(transcriptContainer[vimeoVideoId]) {\n\t\t\t\ti++;\n\t\t\t\tvimeoVideoId += i;\n\t\t\t}\n\t\t\treturn vimeoVideoId;\n\t\t},\n\n\t    getVimeoVideoIdFromUrl(url) {\n\t\t\tvar id = \"\";\n\t\t\tvar result = url.match(/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/(?:[^\\/]*)\\/videos\\/|album\\/(?:\\d+)\\/video\\/|video\\/|)(\\d+)(?:[a-zA-Z0-9_\\-]+)?/i);\n\t\t\t\t\t\t\n\t\t\tif (result){\n\t\t\t\tid = result[1];\n\t\t\t}\n\t\t\treturn id;\n\t\t},\n\t\tinit : function ()\n\t\t{\n            noOfInits++;\n            if(noOfInits < noOfVimeoVideos)\n            {\n                return;\n            }\n\n\t\t\tif(!initialized)\n\t\t\t{\n\t\t\t\tinitialized = true;\n\t\t\t\tvar iframes = document.getElementsByTagName('iframe');\n\t\t\t\tfor (var i = 0; i < iframes.length; i++) {\n\t\t\t\t\tvar iframe = iframes[i];\n\t\t\t\t\tvar vimeoId = mmooc.vimeo.getVimeoVideoIdFromUrl(iframe.src);\n\t\t\t\t\tif(vimeoId != \"\") {\n\t\t\t\t\t\tvar vimeoIframeId = mmooc.vimeo.getUniqueIframeId(vimeoId);\n\t\t\t\t\t\tiframe.setAttribute(\"id\", vimeoIframeId);\n\n\t\t\t\t\t\tnoOfVimeoVideos++;\n\t\t\t\t\t\tvar oTranscript = new transcript(vimeoIframeId, vimeoId);\n\t\t\t\t\t\toTranscript.insertTranscriptParent();\n\t\t\t\t\t\ttranscriptContainer[vimeoIframeId]= oTranscript;\n\t\t\t\t\t\toTranscript.getTranscript();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const transcript in transcriptContainer) {\n\t\t\t\t\tvar oTranscript = transcriptContainer[transcript];\n\t\t\t\t\toTranscript.initializePlayer();\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\t\n\t}\n}();\n\n","/*! @vimeo/player v2.15.0 | (c) 2021 Vimeo | MIT License | https://github.com/vimeo/player.js */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):((e=\"undefined\"!=typeof globalThis?globalThis:e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e=\"undefined\"!=typeof global&&\"[object global]\"==={}.toString.call(global);function i(e,t){return 0===e.indexOf(t.toLowerCase())?e:\"\".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function l(e){return/^(https?:)?\\/\\/((player|www)\\.)?vimeo\\.com(?=$|\\/)/.test(e)}function s(e){var t,n=0<arguments.length&&void 0!==e?e:{},r=n.id,o=n.url,i=r||o;if(!i)throw new Error(\"An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.\");if(t=i,!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t)return\"https://vimeo.com/\".concat(i);if(l(i))return i.replace(\"http:\",\"https:\");if(r)throw new TypeError(\"“\".concat(r,\"” is not a valid video id.\"));throw new TypeError(\"“\".concat(i,\"” is not a vimeo.com url.\"))}var t=void 0!==Array.prototype.indexOf,n=\"undefined\"!=typeof window&&void 0!==window.postMessage;if(!(e||t&&n))throw new Error(\"Sorry, the Vimeo Player API is not available in this browser.\");var o,a,u,c=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function f(){if(void 0===this)throw new TypeError(\"Constructor WeakMap requires 'new'\");if(u(this,\"_id\",\"_WeakMap_\"+h()+\".\"+h()),0<arguments.length)throw new TypeError(\"WeakMap iterable is not supported\")}function d(e,t){if(!v(e)||!a.call(e,\"_id\"))throw new TypeError(t+\" method called on incompatible receiver \"+typeof e)}function h(){return Math.random().toString().substring(2)}function v(e){return Object(e)===e}(o=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:c).WeakMap||(a=Object.prototype.hasOwnProperty,u=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n},o.WeakMap=(u(f.prototype,\"delete\",function(e){if(d(this,\"delete\"),!v(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)}),u(f.prototype,\"get\",function(e){if(d(this,\"get\"),v(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}}),u(f.prototype,\"has\",function(e){if(d(this,\"has\"),!v(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)}),u(f.prototype,\"set\",function(e,t){if(d(this,\"set\"),!v(e))throw new TypeError(\"Invalid value used as weak map key\");var n=e[this._id];return n&&n[0]===e?n[1]=t:u(e,this._id,[e,t]),this}),u(f,\"_polyfill\",!0),f));var m,p=(function(e){var t,n,r;r=function(){var t,n,r,o,i,a,e=Object.prototype.toString,u=\"undefined\"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},\"x\",{}),t=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){t=function(e,t,n){return e[t]=n,e}}function c(e,t){this.fn=e,this.self=t,this.next=void 0}function l(e,t){r.add(e,t),n=n||u(r.drain)}function s(e){var t,n=typeof e;return null==e||\"object\"!=n&&\"function\"!=n||(t=e.then),\"function\"==typeof t&&t}function f(){for(var e=0;e<this.chain.length;e++)!function(e,t,n){var r,o;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError(\"Promise-chain cycle\")):(o=s(r))?o.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function d(e){var n,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(n=s(e))?l(function(){var t=new m(r);try{n.call(e,function(){d.apply(t,arguments)},function(){h.apply(t,arguments)})}catch(e){h.call(t,e)}}):(r.msg=e,r.state=1,0<r.chain.length&&l(f,r))}catch(e){h.call(new m(r),e)}}}function h(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,0<t.chain.length&&l(f,t))}function v(e,n,r,o){for(var t=0;t<n.length;t++)!function(t){e.resolve(n[t]).then(function(e){r(t,e)},o)}(t)}function m(e){this.def=e,this.triggered=!1}function p(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function y(e){if(\"function\"!=typeof e)throw TypeError(\"Not a function\");if(0!==this.__NPO__)throw TypeError(\"Not a promise\");this.__NPO__=1;var r=new p(this);this.then=function(e,t){var n={success:\"function\"!=typeof e||e,failure:\"function\"==typeof t&&t};return n.promise=new this.constructor(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");n.resolve=e,n.reject=t}),r.chain.push(n),0!==r.state&&l(f,r),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){d.call(r,e)},function(e){h.call(r,e)})}catch(e){h.call(r,e)}}var g=t({},\"constructor\",y,!(r={add:function(e,t){a=new c(e,t),i?i.next=a:o=a,i=a,a=void 0},drain:function(){var e=o;for(o=i=n=void 0;e;)e.fn.call(e.self),e=e.next}}));return t(y.prototype=g,\"__NPO__\",0,!1),t(y,\"resolve\",function(n){return n&&\"object\"==typeof n&&1===n.__NPO__?n:new this(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");e(n)})}),t(y,\"reject\",function(n){return new this(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");t(n)})}),t(y,\"all\",function(t){var a=this;return\"[object Array]\"!=e.call(t)?a.reject(TypeError(\"Not an array\")):0===t.length?a.resolve([]):new a(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");var r=t.length,o=Array(r),i=0;v(a,t,function(e,t){o[e]=t,++i===r&&n(o)},e)})}),t(y,\"race\",function(t){var r=this;return\"[object Array]\"!=e.call(t)?r.reject(TypeError(\"Not an array\")):new r(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");v(r,t,function(e,t){n(t)},e)})}),y},(n=c)[t=\"Promise\"]=n[t]||r(),e.exports&&(e.exports=n[t])}(m={exports:{}}),m.exports),y=new WeakMap;function g(e,t,n){var r=y.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),y.set(e.element,r)}function w(e,t){return(y.get(e.element)||{})[t]||[]}function b(e,t,n){var r=y.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],y.set(e.element,r),!0;var o=r[t].indexOf(n);return-1!==o&&r[t].splice(o,1),y.set(e.element,r),r[t]&&0===r[t].length}var k=[\"autopause\",\"autoplay\",\"background\",\"byline\",\"color\",\"controls\",\"dnt\",\"height\",\"id\",\"loop\",\"maxheight\",\"maxwidth\",\"muted\",\"playsinline\",\"portrait\",\"responsive\",\"speed\",\"texttrack\",\"title\",\"transparent\",\"url\",\"width\"];function E(r,e){var t=1<arguments.length&&void 0!==e?e:{};return k.reduce(function(e,t){var n=r.getAttribute(\"data-vimeo-\".concat(t));return!n&&\"\"!==n||(e[t]=\"\"===n?1:n),e},t)}function T(e,t){var n=e.html;if(!t)throw new TypeError(\"An element must be provided\");if(null!==t.getAttribute(\"data-vimeo-initialized\"))return t.querySelector(\"iframe\");var r=document.createElement(\"div\");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute(\"data-vimeo-initialized\",\"true\"),t.querySelector(\"iframe\")}function P(i,e,t){var a=1<arguments.length&&void 0!==e?e:{},u=2<arguments.length?t:void 0;return new Promise(function(t,n){if(!l(i))throw new TypeError(\"“\".concat(i,\"” is not a vimeo.com url.\"));var e=\"https://vimeo.com/api/oembed.json?url=\".concat(encodeURIComponent(i));for(var r in a)a.hasOwnProperty(r)&&(e+=\"&\".concat(r,\"=\").concat(encodeURIComponent(a[r])));var o=new(\"XDomainRequest\"in window?XDomainRequest:XMLHttpRequest);o.open(\"GET\",e,!0),o.onload=function(){if(404!==o.status)if(403!==o.status)try{var e=JSON.parse(o.responseText);if(403===e.domain_status_code)return T(e,u),void n(new Error(\"“\".concat(i,\"” is not embeddable.\")));t(e)}catch(e){n(e)}else n(new Error(\"“\".concat(i,\"” is not embeddable.\")));else n(new Error(\"“\".concat(i,\"” was not found.\")))},o.onerror=function(){var e=o.status?\" (\".concat(o.status,\")\"):\"\";n(new Error(\"There was an error fetching the embed code from Vimeo\".concat(e,\".\")))},o.send()})}function M(e){if(\"string\"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function F(e,t,n){var r,o;e.element.contentWindow&&e.element.contentWindow.postMessage&&(r={method:t},void 0!==n&&(r.value=n),8<=(o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/,\"$1\")))&&o<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin))}function _(n,r){var t,e,o=[];(r=M(r)).event?(\"error\"===r.event&&w(n,r.data.method).forEach(function(e){var t=new Error(r.data.message);t.name=r.data.name,e.reject(t),b(n,r.data.method,e)}),o=w(n,\"event:\".concat(r.event)),t=r.data):!r.method||(e=function(e,t){var n=w(e,t);if(n.length<1)return!1;var r=n.shift();return b(e,t,r),r}(n,r.method))&&(o.push(e),t=r.value),o.forEach(function(e){try{if(\"function\"==typeof e)return void e.call(n,t);e.resolve(t)}catch(e){}})}var x,C,j,N=new WeakMap,A=new WeakMap,q={},Player=function(){function Player(u){var e,t,c=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Player),window.jQuery&&u instanceof jQuery&&(1<u.length&&window.console&&console.warn&&console.warn(\"A jQuery object with multiple elements was passed, using the first element.\"),u=u[0]),\"undefined\"!=typeof document&&\"string\"==typeof u&&(u=document.getElementById(u)),e=u,!Boolean(e&&1===e.nodeType&&\"nodeName\"in e&&e.ownerDocument&&e.ownerDocument.defaultView))throw new TypeError(\"You must pass either a valid element or a valid id.\");if(\"IFRAME\"===u.nodeName||(t=u.querySelector(\"iframe\"))&&(u=t),\"IFRAME\"===u.nodeName&&!l(u.getAttribute(\"src\")||\"\"))throw new Error(\"The player element passed isn’t a Vimeo embed.\");if(N.has(u))return N.get(u);this._window=u.ownerDocument.defaultView,this.element=u,this.origin=\"*\";var r,o=new p(function(i,a){var e;c._onMessage=function(e){if(l(e.origin)&&c.element.contentWindow===e.source){\"*\"===c.origin&&(c.origin=e.origin);var t=M(e.data);if(t&&\"error\"===t.event&&t.data&&\"ready\"===t.data.method){var n=new Error(t.data.message);return n.name=t.data.name,void a(n)}var r=t&&\"ready\"===t.event,o=t&&\"ping\"===t.method;if(r||o)return c.element.setAttribute(\"data-ready\",\"true\"),void i();_(c,t)}},c._window.addEventListener(\"message\",c._onMessage),\"IFRAME\"!==c.element.nodeName&&P(s(e=E(u,n)),e,u).then(function(e){var t,n,r,o=T(e,u);return c.element=o,c._originalElement=u,t=u,n=o,r=y.get(t),y.set(n,r),y.delete(t),N.set(c.element,c),e}).catch(a)});return A.set(this,o),N.set(this.element,this),\"IFRAME\"===this.element.nodeName&&F(this,\"ping\"),q.isEnabled&&(r=function(){return q.exit()},q.on(\"fullscreenchange\",function(){(q.isFullscreen?g:b)(c,\"event:exitFullscreen\",r),c.ready().then(function(){F(c,\"fullscreenchange\",q.isFullscreen)})})),this}var e,t,n;return e=Player,(t=[{key:\"callMethod\",value:function(n,e){var r=this,o=1<arguments.length&&void 0!==e?e:{};return new p(function(e,t){return r.ready().then(function(){g(r,n,{resolve:e,reject:t}),F(r,n,o)}).catch(t)})}},{key:\"get\",value:function(n){var r=this;return new p(function(e,t){return n=i(n,\"get\"),r.ready().then(function(){g(r,n,{resolve:e,reject:t}),F(r,n)}).catch(t)})}},{key:\"set\",value:function(n,r){var o=this;return new p(function(e,t){if(n=i(n,\"set\"),null==r)throw new TypeError(\"There must be a value to set.\");return o.ready().then(function(){g(o,n,{resolve:e,reject:t}),F(o,n,r)}).catch(t)})}},{key:\"on\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(!t)throw new TypeError(\"You must pass a callback function.\");if(\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");0===w(this,\"event:\".concat(e)).length&&this.callMethod(\"addEventListener\",e).catch(function(){}),g(this,\"event:\".concat(e),t)}},{key:\"off\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(t&&\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");b(this,\"event:\".concat(e),t)&&this.callMethod(\"removeEventListener\",e).catch(function(e){})}},{key:\"loadVideo\",value:function(e){return this.callMethod(\"loadVideo\",e)}},{key:\"ready\",value:function(){var e=A.get(this)||new p(function(e,t){t(new Error(\"Unknown player. Probably unloaded.\"))});return p.resolve(e)}},{key:\"addCuePoint\",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return this.callMethod(\"addCuePoint\",{time:e,data:n})}},{key:\"removeCuePoint\",value:function(e){return this.callMethod(\"removeCuePoint\",e)}},{key:\"enableTextTrack\",value:function(e,t){if(!e)throw new TypeError(\"You must pass a language.\");return this.callMethod(\"enableTextTrack\",{language:e,kind:t})}},{key:\"disableTextTrack\",value:function(){return this.callMethod(\"disableTextTrack\")}},{key:\"pause\",value:function(){return this.callMethod(\"pause\")}},{key:\"play\",value:function(){return this.callMethod(\"play\")}},{key:\"requestFullscreen\",value:function(){return q.isEnabled?q.request(this.element):this.callMethod(\"requestFullscreen\")}},{key:\"exitFullscreen\",value:function(){return q.isEnabled?q.exit():this.callMethod(\"exitFullscreen\")}},{key:\"getFullscreen\",value:function(){return q.isEnabled?p.resolve(q.isFullscreen):this.get(\"fullscreen\")}},{key:\"requestPictureInPicture\",value:function(){return this.callMethod(\"requestPictureInPicture\")}},{key:\"exitPictureInPicture\",value:function(){return this.callMethod(\"exitPictureInPicture\")}},{key:\"getPictureInPicture\",value:function(){return this.get(\"pictureInPicture\")}},{key:\"unload\",value:function(){return this.callMethod(\"unload\")}},{key:\"destroy\",value:function(){var n=this;return new p(function(e){var t;A.delete(n),N.delete(n.element),n._originalElement&&(N.delete(n._originalElement),n._originalElement.removeAttribute(\"data-vimeo-initialized\")),n.element&&\"IFRAME\"===n.element.nodeName&&n.element.parentNode&&n.element.parentNode.removeChild(n.element),n.element&&\"DIV\"===n.element.nodeName&&n.element.parentNode&&(n.element.removeAttribute(\"data-vimeo-initialized\"),(t=n.element.querySelector(\"iframe\"))&&t.parentNode&&t.parentNode.removeChild(t)),n._window.removeEventListener(\"message\",n._onMessage),e()})}},{key:\"getAutopause\",value:function(){return this.get(\"autopause\")}},{key:\"setAutopause\",value:function(e){return this.set(\"autopause\",e)}},{key:\"getBuffered\",value:function(){return this.get(\"buffered\")}},{key:\"getCameraProps\",value:function(){return this.get(\"cameraProps\")}},{key:\"setCameraProps\",value:function(e){return this.set(\"cameraProps\",e)}},{key:\"getChapters\",value:function(){return this.get(\"chapters\")}},{key:\"getCurrentChapter\",value:function(){return this.get(\"currentChapter\")}},{key:\"getColor\",value:function(){return this.get(\"color\")}},{key:\"setColor\",value:function(e){return this.set(\"color\",e)}},{key:\"getCuePoints\",value:function(){return this.get(\"cuePoints\")}},{key:\"getCurrentTime\",value:function(){return this.get(\"currentTime\")}},{key:\"setCurrentTime\",value:function(e){return this.set(\"currentTime\",e)}},{key:\"getDuration\",value:function(){return this.get(\"duration\")}},{key:\"getEnded\",value:function(){return this.get(\"ended\")}},{key:\"getLoop\",value:function(){return this.get(\"loop\")}},{key:\"setLoop\",value:function(e){return this.set(\"loop\",e)}},{key:\"setMuted\",value:function(e){return this.set(\"muted\",e)}},{key:\"getMuted\",value:function(){return this.get(\"muted\")}},{key:\"getPaused\",value:function(){return this.get(\"paused\")}},{key:\"getPlaybackRate\",value:function(){return this.get(\"playbackRate\")}},{key:\"setPlaybackRate\",value:function(e){return this.set(\"playbackRate\",e)}},{key:\"getPlayed\",value:function(){return this.get(\"played\")}},{key:\"getQualities\",value:function(){return this.get(\"qualities\")}},{key:\"getQuality\",value:function(){return this.get(\"quality\")}},{key:\"setQuality\",value:function(e){return this.set(\"quality\",e)}},{key:\"getSeekable\",value:function(){return this.get(\"seekable\")}},{key:\"getSeeking\",value:function(){return this.get(\"seeking\")}},{key:\"getTextTracks\",value:function(){return this.get(\"textTracks\")}},{key:\"getVideoEmbedCode\",value:function(){return this.get(\"videoEmbedCode\")}},{key:\"getVideoId\",value:function(){return this.get(\"videoId\")}},{key:\"getVideoTitle\",value:function(){return this.get(\"videoTitle\")}},{key:\"getVideoWidth\",value:function(){return this.get(\"videoWidth\")}},{key:\"getVideoHeight\",value:function(){return this.get(\"videoHeight\")}},{key:\"getVideoUrl\",value:function(){return this.get(\"videoUrl\")}},{key:\"getVolume\",value:function(){return this.get(\"volume\")}},{key:\"setVolume\",value:function(e){return this.set(\"volume\",e)}}])&&r(e.prototype,t),n&&r(e,n),Player}();return e||(x=function(){for(var e,t=[[\"requestFullscreen\",\"exitFullscreen\",\"fullscreenElement\",\"fullscreenEnabled\",\"fullscreenchange\",\"fullscreenerror\"],[\"webkitRequestFullscreen\",\"webkitExitFullscreen\",\"webkitFullscreenElement\",\"webkitFullscreenEnabled\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"webkitRequestFullScreen\",\"webkitCancelFullScreen\",\"webkitCurrentFullScreenElement\",\"webkitCancelFullScreen\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"mozRequestFullScreen\",\"mozCancelFullScreen\",\"mozFullScreenElement\",\"mozFullScreenEnabled\",\"mozfullscreenchange\",\"mozfullscreenerror\"],[\"msRequestFullscreen\",\"msExitFullscreen\",\"msFullscreenElement\",\"msFullscreenEnabled\",\"MSFullscreenChange\",\"MSFullscreenError\"]],n=0,r=t.length,o={};n<r;n++)if((e=t[n])&&e[1]in document){for(n=0;n<e.length;n++)o[t[0][n]]=e[n];return o}return!1}(),C={fullscreenchange:x.fullscreenchange,fullscreenerror:x.fullscreenerror},j={request:function(o){return new Promise(function(e,t){function n(){j.off(\"fullscreenchange\",n),e()}j.on(\"fullscreenchange\",n);var r=(o=o||document.documentElement)[x.requestFullscreen]();r instanceof Promise&&r.then(n).catch(t)})},exit:function(){return new Promise(function(t,e){var n,r;j.isFullscreen?(n=function e(){j.off(\"fullscreenchange\",e),t()},j.on(\"fullscreenchange\",n),(r=document[x.exitFullscreen]())instanceof Promise&&r.then(n).catch(e)):t()})},on:function(e,t){var n=C[e];n&&document.addEventListener(n,t)},off:function(e,t){var n=C[e];n&&document.removeEventListener(n,t)}},Object.defineProperties(j,{isFullscreen:{get:function(){return Boolean(document[x.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[x.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[x.fullscreenEnabled])}}}),q=j,function(e){function n(e){\"console\"in window&&console.error&&console.error(\"There was an error creating an embed: \".concat(e))}var t=0<arguments.length&&void 0!==e?e:document;[].slice.call(t.querySelectorAll(\"[data-vimeo-id], [data-vimeo-url]\")).forEach(function(t){try{if(null!==t.getAttribute(\"data-vimeo-defer\"))return;var e=E(t);P(s(e),e,t).then(function(e){return T(e,t)}).catch(n)}catch(e){n(e)}})}(),function(e){var r=0<arguments.length&&void 0!==e?e:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener(\"message\",function(e){if(l(e.origin)&&e.data&&\"spacechange\"===e.data.event)for(var t=r.querySelectorAll(\"iframe\"),n=0;n<t.length;n++)if(t[n].contentWindow===e.source){t[n].parentElement.style.paddingBottom=\"\".concat(e.data.data[0].bottom,\"px\");break}}))}()),Player});","this.mmooc = this.mmooc || {};\n\n//https://medium.com/@pointbmusic/youtube-api-checklist-c195e9abaff1\nthis.mmooc.youtube = (function() {\n  var hrefPrefix = 'https://video.google.com/timedtext?v=';\n  var transcriptIdPrefix = 'videoTranscript';\n  var transcriptArr = [];\n  var initialized = false;\n\n  function transcript(transcriptId, language, name) {\n    var transcriptId = transcriptId;\n    var videoId = transcriptId.split(transcriptIdPrefix)[1];\n\n    var href = hrefPrefix + videoId;\n    if (language != '') {\n      href = href + '&lang=' + language;\n    }\n    if (name != '') {\n      href = href + '&name=' + name;\n    }\n\n    //Array of captions in video\n    var captionsLoaded = false;\n\n    //Timeout for next caption\n    var captionTimeout = null;\n\n    var captions = null;\n\n    //Keep track of which captions we are showing\n    var currentCaptionIndex = 0;\n    var nextCaptionIndex = 0;\n\n    this.player = new YT.Player(videoId, {\n      videoId: videoId,\n      events: {\n        onReady: onPlayerReady,\n        onStateChange: onPlayerStateChange\n      }\n    });\n\n    var findCaptionIndexFromTimestamp = function(timeStamp) {\n      var start = 0;\n      var duration = 0;\n      for (var i = 0, il = captions.length; i < il; i++) {\n        start = Number(getStartTimeFromCaption(i));\n        duration = Number(getDurationFromCaption(i));\n\n        //Return the first caption if the timeStamp is smaller than the first caption start time.\n        if (timeStamp < start) {\n          break;\n        }\n\n        //Check if the timestamp is in the interval of this caption.\n        if (timeStamp >= start && timeStamp < start + duration) {\n          break;\n        }\n      }\n      return i;\n    };\n\n    var clearCurrentHighlighting = function() {\n      var timeStampId = getTimeIdFromTimestampIndex(currentCaptionIndex);\n      $('#' + timeStampId).css('background-color', '');\n    };\n\n    var highlightNextCaption = function() {\n      var timestampId = getTimeIdFromTimestampIndex(nextCaptionIndex);\n      $('#' + timestampId).css('background-color', 'yellow');\n    };\n\n    var calculateTimeout = function(currentTime) {\n      var startTime = Number(getStartTimeFromCaption(currentCaptionIndex));\n      var duration = Number(getDurationFromCaption(currentCaptionIndex));\n      var timeoutValue = startTime - currentTime + duration;\n      return timeoutValue;\n    };\n\n    this.setCaptionTimeout = function(timeoutValue) {\n      if (timeoutValue < 0) {\n        return;\n      }\n\n      clearTimeout(captionTimeout);\n\n      var transcript = this;\n\n      captionTimeout = setTimeout(function() {\n        transcript.highlightCaptionAndPrepareForNext();\n      }, timeoutValue * 1000);\n    };\n\n    var getStartTimeFromCaption = function(i) {\n      if (i >= captions.length) {\n        return -1;\n      }\n      return captions[i].getAttribute('start');\n    };\n    var getDurationFromCaption = function(i) {\n      if (i >= captions.length) {\n        return -1;\n      }\n      return captions[i].getAttribute('dur');\n    };\n    var getTimeIdFromTimestampIndex = function(i) {\n      var strTimestamp = '' + i;\n      return 't' + strTimestamp;\n    };\n\n    //////////////////\n    //Public functions\n    /////////////////\n\n    //This function highlights the next caption in the list and\n    //sets a timeout for the next one after that.\n    //It must be public as it is called from a timer.\n    this.highlightCaptionAndPrepareForNext = function() {\n      clearCurrentHighlighting();\n      highlightNextCaption();\n      currentCaptionIndex = nextCaptionIndex;\n      nextCaptionIndex++;\n\n      var currentTime = this.player.getCurrentTime();\n      var timeoutValue = calculateTimeout(currentTime);\n\n      if (nextCaptionIndex <= captions.length) {\n        this.setCaptionTimeout(timeoutValue);\n      }\n    };\n\n    //Called if the user has dragged the slider to somewhere in the video.\n    this.highlightCaptionFromTimestamp = function(timeStamp) {\n      clearCurrentHighlighting();\n      nextCaptionIndex = findCaptionIndexFromTimestamp(timeStamp);\n      currentCaptionIndex = nextCaptionIndex;\n\n      var startTime = Number(getStartTimeFromCaption(currentCaptionIndex));\n\n      var timeoutValue = -1;\n      if (timeStamp < startTime) {\n        timeoutValue = startTime - currentTime;\n      } else {\n        highlightNextCaption();\n        timeoutValue = calculateTimeout(currentTime);\n      }\n      this.setCaptionTimeout(timeoutValue);\n    };\n\n    this.transcriptLoaded = function(transcript) {\n      var start = 0;\n      captions = transcript.getElementsByTagName('text');\n      var srt_output =\n        \"<div class='btnSeek' id='btnSeek' data-seek='0'>0:00</div>\";\n\n      for (var i = 0, il = captions.length; i < il; i++) {\n        start = +getStartTimeFromCaption(i);\n\n        captionText = captions[i].textContent\n          .replace(/</g, '&lt;')\n          .replace(/>/g, '&gt;');\n        var timestampId = getTimeIdFromTimestampIndex(i);\n        srt_output +=\n          \"<span class='btnSeek' data-seek='\" +\n          start +\n          \"' id='\" +\n          timestampId +\n          \"'>\" +\n          captionText +\n          '</span> ';\n      }\n\n      $('#videoTranscript' + videoId).append(srt_output);\n      captionsLoaded = true;\n    };\n\n    this.getTranscriptId = function() {\n      return transcriptId;\n    };\n    this.getVideoId = function() {\n      return videoId;\n    };\n\n    this.getTranscript = function() {\n      var oTranscript = this;\n      $.ajax({\n        url: href,\n        type: 'GET',\n        data: {},\n        success: function(response) {\n          oTranscript.transcriptLoaded(response);\n        },\n        error: function(XMLHttpRequest, textStatus, errorThrown) {\n          console.log('Error during GET');\n        }\n      });\n    };\n\n    this.playerPlaying = function() {\n      if (!captionsLoaded) {\n        return;\n      }\n\n      currentTime = this.player.getCurrentTime();\n      this.highlightCaptionFromTimestamp(currentTime);\n    };\n    this.playerNotPlaying = function(transcript) {\n      if (!captionsLoaded) {\n        return;\n      }\n      clearTimeout(captionTimeout);\n    };\n  }\n\n  //Called when user clicks somewhere in the transcript.\n  $(function() {\n    $(document).on('click', '.btnSeek', function() {\n      var seekToTime = $(this).data('seek');\n      var transcript = mmooc.youtube.getTranscriptFromTranscriptId(\n        $(this)\n          .parent()\n          .attr('id')\n      );\n      transcript.player.seekTo(seekToTime, true);\n      transcript.player.playVideo();\n    });\n  });\n\n  //These functions must be global as YouTube API will call them.\n  var previousOnYouTubePlayerAPIReady = window.onYouTubePlayerAPIReady;\n  window.onYouTubePlayerAPIReady = function() {\n    if (previousOnYouTubePlayerAPIReady) {\n      previousOnYouTubePlayerAPIReady();\n    }\n    mmooc.youtube.APIReady();\n  };\n\n  // The API will call this function when the video player is ready.\n  // It can be used to auto start the video f.ex.\n  window.onPlayerReady = function(event) {};\n\n  // The API calls this function when the player's state changes.\n  //    The function indicates that when playing a video (state=1),\n  //    the player should play for six seconds and then stop.\n  window.onPlayerStateChange = function(event) {\n    console.log('onPlayerStateChange ' + event.data);\n    var transcript = this.mmooc.youtube.getTranscriptFromVideoId(\n      event.target.getIframe().id\n    );\n    if (event.data == YT.PlayerState.PLAYING) {\n      transcript.playerPlaying();\n    } else {\n      transcript.playerNotPlaying();\n    }\n  };\n\n  return {\n    getTranscriptFromTranscriptId: function(transcriptId) {\n      for (index = 0; index < transcriptArr.length; ++index) {\n        if (transcriptArr[index].getTranscriptId() == transcriptId) {\n          return transcriptArr[index];\n        }\n      }\n      return null;\n    },\n    getTranscriptFromVideoId: function(videoId) {\n      for (index = 0; index < transcriptArr.length; ++index) {\n        if (transcriptArr[index].getVideoId() == videoId) {\n          return transcriptArr[index];\n        }\n      }\n      return null;\n    },\n\n    APIReady: function() {\n      if (!initialized) {\n        $('.mmocVideoTranscript').each(function(i) {\n          var language = $(this).data('language');\n          var name = $(this).data('name');\n          var oTranscript = new transcript(this.id, language, name);\n          oTranscript.getTranscript();\n          transcriptArr.push(oTranscript);\n        });\n        initialized = true;\n      }\n    },\n    init: function() {\n      this.APIReady();\n    }\n  };\n})();\n//Everything is ready, load the youtube iframe_api\n$.getScript('https://www.youtube.com/iframe_api');\n","this[\"mmooc\"] = this[\"mmooc\"] || {};\nthis[\"mmooc\"][\"templates\"] = this[\"mmooc\"][\"templates\"] || {};\n\nthis[\"mmooc\"][\"templates\"][\"actionbutton\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mmooc-action-button\\\">\\n    <a href=\\\"#\\\" id=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"btn btn-done\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"activitystream\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\", self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n    <li class=\\\"\"\n    + escapeExpression((helper = helpers.checkReadStateFor || (depth0 && depth0.checkReadStateFor),options={hash:{},data:data},helper ? helper.call(depth0, depth0, options) : helperMissing.call(depth0, \"checkReadStateFor\", depth0, options)))\n    + \"\\\">\\n        <a href=\\\"\"\n    + escapeExpression((helper = helpers.findRightUrlFor || (depth0 && depth0.findRightUrlFor),options={hash:{},data:data},helper ? helper.call(depth0, depth0, options) : helperMissing.call(depth0, \"findRightUrlFor\", depth0, options)))\n    + \"\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n            <br>\\n            <span class=\\\"mmooc-notification-type\\\">\"\n    + escapeExpression((helper = helpers.localize || (depth0 && depth0.localize),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"localize\", (depth0 && depth0.type), options)))\n    + \"</span>\\n            <br>\\n            <span class=\\\"notification-pubdate\\\">\";\n  if (helper = helpers.created_at) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.created_at); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n        </a>\\n    </li>\\n    \";\n  stack1 = helpers['if'].call(depth0, (data == null || data === false ? data : data.last), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \"\\n    <a href=\\\"#\\\" id=\\\"mmooc-notifications-showall\\\">Vis alle</a>\\n    \";\n  }\n\nfunction program4(depth0,data) {\n  \n  \n  return \"\\n    <li>Ingen varsler</li>\\n    \";\n  }\n\n  buffer += \"<ul id=\\\"mmooc-notifications\\\">\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.activities), {hash:{},inverse:self.program(4, program4, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</ul>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"allcoursescontainer\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, self=this, functionType=\"function\", escapeExpression=this.escapeExpression;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n      <button id=\\\"mmooc-all-courses-btn\\\" class=\\\"btn\\\">Til mine kompetansepakker</button>\\n    \";\n  }\n\nfunction program3(depth0,data) {\n  \n  \n  return \"\\n    <div class=\\\"uob-warning\\\">Det ser ut som du bruker en mobil enhet. Vi jobber med saken, men innholdet på kompetanse.udir.no \\n      er ikke optimalisert for mobile enheter enda. \\n      Vi anbefaler derfor at du bruker en PC i stedet. Dersom du allikevel velger å jobbe videre med din mobile enhet må du være oppmerksom på  \\n      at visningen av innholdet i noen tilfeller kan være av dårlig kvalitet.\\n    </div>\\n    \";\n  }\n\nfunction program5(depth0,data) {\n  \n  \n  return \"\\n      Her finner du en oversikt over alle tilgjengelige kompetansepakker som du kan melde deg på. \\n    \";\n  }\n\nfunction program7(depth0,data) {\n  \n  \n  return \"\\n      Tjenesten er laget for ansatte i skole og barnehage. Den er gratis og du kan logge på med Feide eller \\n      opprette en egen bruker. \\n    \";\n  }\n\n  buffer += \"<div class=\\\"mmooc-all-courses\\\">\\n    <!-- TODO: use translation feature -->\\n    <div class=\\\"mmooc-all-courses-header\\\">\\n    <h1>Velkommen til Utdanningsdirektoratets kompetanseportal</h1>\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isAuthenticated), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isMobileOrTablet), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isAuthenticated), {hash:{},inverse:self.program(7, program7, data),fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"    \\n    <!--If the amount of courses is large, the filter select box and corresponding javascript code in enroll.js should be enabled\\n    <select id='filter'></select>\\n    -->\\n<!--    <h3>Alle tilgjengelige \";\n  if (helper = helpers.courseLabel) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.courseLabel); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h3>-->\\n    <br><br>\\n    <div class=\\\"mmooc-all-courses-list\\\"></div>\\n</div>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"allcourseslist\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, blockHelperMissing=helpers.blockHelperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                        <div class=\\\"mmooc-tag mmooc-tag-teal\\\">\\n                            <label>\";\n  if (helper = helpers.coursesAmountText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.coursesAmountText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</label>\\n                        </div>\\n                    \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                        <div class=\\\"mmooc-tag mmooc-tag-green\\\">\\n                            <label>\";\n  if (helper = helpers.YouAreRegisteredToXCoursesText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.YouAreRegisteredToXCoursesText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</label>\\n                        </div>\\n                    \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                    <span class=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" data-name=\\\"course\\\">\\n                        <button id=\\\"mmooc-tab-head-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-tab-head mmooc-tab-head-\"\n    + escapeExpression(((stack1 = (data == null || data === false ? data : data.index)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\" index=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.enrolled), {hash:{},inverse:self.program(8, program8, data),fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                            \";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n                        </button>\\n                    </span>\\n                    \";\n  return buffer;\n  }\nfunction program6(depth0,data) {\n  \n  \n  return \"\\n                                <svg width=\\\"16\\\" height=\\\"16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M-4-4h24v24H-4z\\\"/><path d=\\\"M8 0c4.416 0 8 3.584 8 8s-3.584 8-8 8-8-3.584-8-8 3.584-8 8-8zM6.4 12l6.43-6.43-1.127-1.137L6.4 9.736 3.528 6.872 2.4 8l4 4z\\\" fill=\\\"#00AC18\\\" fill-rule=\\\"nonzero\\\"/></g></svg>\\n                            \";\n  }\n\nfunction program8(depth0,data) {\n  \n  \n  return \"\\n                                <svg width=\\\"16\\\" height=\\\"16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M-4-4h24v24H-4z\\\"/><path d=\\\"M8 0c4.416 0 8 3.584 8 8s-3.584 8-8 8-8-3.584-8-8 3.584-8 8-8z\\\" stroke-opaicty=\\\"0.0\\\" fill-opacity=\\\"0.0\\\" fill-rule=\\\"nonzero\\\"/></g></svg>\\n                            \";\n  }\n\nfunction program10(depth0,data,depth1) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                    <div id=\\\"mmooc-tab-content-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-tab-content mmooc-tab-content-\"\n    + escapeExpression(((stack1 = (data == null || data === false ? data : data.index)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\\n                        <p class=\\\"mmooc-tab-content-description\\\">\";\n  if (helper = helpers.public_description) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.public_description); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n                        \";\n  options={hash:{},inverse:self.noop,fn:self.program(11, program11, data),data:data}\n  if (helper = helpers.ifUnmaintained) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.ifUnmaintained); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.ifUnmaintained) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(11, program11, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                        <div class=\\\"mmooc-button-ctr\\\">\\n                            \";\n  stack1 = helpers.unless.call(depth0, (depth1 && depth1.isAuthenticated), {hash:{},inverse:self.noop,fn:self.programWithDepth(13, program13, data, depth1),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.enrolled), {hash:{},inverse:self.programWithDepth(17, program17, data, depth0, depth1),fn:self.programWithDepth(15, program15, data, depth0, depth1),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                        </div>\\n                    </div>\\n                    \";\n  return buffer;\n  }\nfunction program11(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                            <p class=\\\"mmooc-tab-content-alert\\\"><b>NB! Denne kompetansepakken ble sist vedlikeholdt i \";\n  if (helper = helpers.courseAlert) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.courseAlert); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</b></p>\\n                        \";\n  return buffer;\n  }\n\nfunction program13(depth0,data,depth2) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                              <a aria-label=\\\"enroll\\\" class=\\\"mmooc-button mmooc-button-primary\\\" href=\\\"/courses\"\n    + escapeExpression(((stack1 = (depth2 && depth2.queryString)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"&enroll_code=\";\n  if (helper = helpers.self_enrollment_code) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.self_enrollment_code); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                              </a>\\n                            \";\n  return buffer;\n  }\n\nfunction program15(depth0,data,depth1,depth2) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                              <a aria-label=\\\"enroll\\\" class=\\\"mmooc-button mmooc-button-secondary\\\" href=\\\"/courses/\"\n    + escapeExpression(((stack1 = (depth1 && depth1.id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = (depth2 && depth2.goToCourse)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n                            \";\n  return buffer;\n  }\n\nfunction program17(depth0,data,depth1,depth2) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                                <a class=\\\"mmooc-button mmooc-button-secondary\\\" href=\\\"/enroll/\"\n    + escapeExpression(((stack1 = (depth1 && depth1.self_enrollment_code)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = (depth2 && depth2.courseRegister)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n                            \";\n  return buffer;\n  }\n\nfunction program19(depth0,data,depth1) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                <span class=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" data-name=\\\"course\\\">\\n                <button id=\\\"mmooc-tabs-mobile-header-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-tabs-mobile-header\\\" index=\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \">\\n                    \";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n                    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.enrolled), {hash:{},inverse:self.noop,fn:self.program(20, program20, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </button>\\n                </span>\\n                <article id=\\\"mmooc-tabs-mobile-content-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-tabs-mobile-content\\\">\\n                    <p>\";\n  if (helper = helpers.public_description) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.public_description); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n                    <div class=\\\"mmooc-button-ctr\\\">\\n                        \";\n  stack1 = helpers.unless.call(depth0, (depth1 && depth1.isAuthenticated), {hash:{},inverse:self.noop,fn:self.programWithDepth(22, program22, data, depth1),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.enrolled), {hash:{},inverse:self.programWithDepth(26, program26, data, depth0, depth1),fn:self.programWithDepth(24, program24, data, depth0, depth1),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    </div>\\n                </article>\\n                \";\n  return buffer;\n  }\nfunction program20(depth0,data) {\n  \n  \n  return \"\\n                        <svg width=\\\"16\\\" height=\\\"16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M-4-4h24v24H-4z\\\"/><path d=\\\"M8 0c4.416 0 8 3.584 8 8s-3.584 8-8 8-8-3.584-8-8 3.584-8 8-8zM6.4 12l6.43-6.43-1.127-1.137L6.4 9.736 3.528 6.872 2.4 8l4 4z\\\" fill=\\\"#00AC18\\\" fill-rule=\\\"nonzero\\\"/></g></svg>\\n                    \";\n  }\n\nfunction program22(depth0,data,depth2) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                            <a aria-label=\\\"enroll\\\" class=\\\"mmooc-button mmooc-button-primary\\\" href=\\\"/courses\"\n    + escapeExpression(((stack1 = (depth2 && depth2.queryString)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"&enroll_code=\";\n  if (helper = helpers.self_enrollment_code) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.self_enrollment_code); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></a>\\n                        \";\n  return buffer;\n  }\n\nfunction program24(depth0,data,depth1,depth2) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                            <a class=\\\"mmooc-button mmooc-button-secondary\\\" href=\\\"/courses/\"\n    + escapeExpression(((stack1 = (depth1 && depth1.id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = (depth2 && depth2.goToCourse)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n                        \";\n  return buffer;\n  }\n\nfunction program26(depth0,data,depth1,depth2) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                            <a class=\\\"mmooc-button mmooc-button-secondary\\\" href=\\\"/enroll/\"\n    + escapeExpression(((stack1 = (depth1 && depth1.self_enrollment_code)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = (depth2 && depth2.courseRegister)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n                        \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"mmooc-enroll-category\\\">\\n    <section class=\\\"mmooc-accordion\\\">\\n        <button id=\\\"mmooc-accordion-header-\";\n  if (helper = helpers.index) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.index); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-accordion-header\\\" index=\";\n  if (helper = helpers.index) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.index); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" data-title=\\\"\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n            <div class=\\\"mmooc-accordion-header-main\\\" index=\";\n  if (helper = helpers.index) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.index); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \">\\n                <div>\\n                    <h2>\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n                </div> \\n                <div>\\n                    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.coursesAmount), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    <!-- TODO: variable with a number of courses the user is subscribed to shall be placed here\\n                        also, it should be visible only on the 'logged in screen' -->\\n                    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.coursesEnrolledAmount), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </div>\\n            </div>\\n            <div class=\\\"mmooc-accordion-label-closed\\\">\\n                <label class=\\\"mmooc-accordion-header-label\\\">\";\n  if (helper = helpers.openCoursesGroupText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.openCoursesGroupText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</label>\\n                <svg width=\\\"16\\\" height=\\\"9\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                    <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n                        <path d=\\\"M-8-12h32v32H-8z\\\" />\\n                        <path fill-opacity=\\\".5\\\" fill=\\\"#373737\\\" d=\\\"M1.887 0L8 5.565 14.113 0 16 1.717 8 9 0 1.717z\\\" />\\n                    </g>\\n                </svg>\\n            </div>\\n            <div class=\\\"mmooc-accordion-label-open\\\">\\n                <label class=\\\"mmooc-accordion-header-label\\\">\";\n  if (helper = helpers.closeCoursesGroupText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.closeCoursesGroupText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</label>\\n                <svg width=\\\"16\\\" height=\\\"9\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                    <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n                        <path d=\\\"M-8 21h32v-32H-8z\\\" />\\n                        <path fill=\\\"#24A1B3\\\" d=\\\"M1.887 9L8 3.435 14.113 9 16 7.283 8 0 0 7.283z\\\" />\\n                    </g>\\n                </svg>\\n            </div>\\n        </button>\\n        <article id=\\\"mmooc-accordion-content-\";\n  if (helper = helpers.index) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.index); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-accordion-content\\\">\\n\\n            <div class=\\\"mmooc-tabs\\\">\\n                <div class=\\\"mmooc-tab-heads\\\">\\n                    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </div>\\n                <div class=\\\"mmooc-tab-content-ctr\\\">\\n                    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.programWithDepth(10, program10, data, depth0),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n                </div>\\n            </div>\\n\\n            <section class=\\\"mmooc-tabs-mobile\\\">\\n                \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.programWithDepth(19, program19, data, depth0),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n            </section>\\n        </article>\\n    </section>\\n</div>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"assignmentPageWithPeerReviewRightSide\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  \n  return \" late\";\n  }\n\nfunction program3(depth0,data) {\n  \n  \n  return \" (for sen)\";\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n\t\t\t<ul class=\\\"mmooc-assignment-files\\\">\\n\t\t\t\t\";\n  stack1 = helpers.each.call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.attachments), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t\t</ul>\\n\t\t\t\";\n  return buffer;\n  }\nfunction program6(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n\t\t\t\t<li>\\n\t\t\t\t\t<a href=\\\"\";\n  if (helper = helpers.url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"file-big\\\">\";\n  if (helper = helpers.display_name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.display_name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n\t\t\t\t</li>\\n\t\t\t\t\";\n  return buffer;\n  }\n\nfunction program8(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n\t\t\t<a href=\\\"\"\n    + escapeExpression((helper = helpers.getPathFromUrl || (depth0 && depth0.getPathFromUrl),options={hash:{},data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.preview_url), options) : helperMissing.call(depth0, \"getPathFromUrl\", ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.preview_url), options)))\n    + \"\\\">Vis detaljer om innlevering &raquo;</a>\\n\t\t\t\";\n  return buffer;\n  }\n\nfunction program10(depth0,data) {\n  \n  \n  return \"\\n\t\t\t<p>Du må gjøre hverandre-vurderingen(e) nedenfor før du kan se detaljer om din oppgave.</p>\\n\t\t\t\";\n  }\n\nfunction program12(depth0,data) {\n  \n  \n  return \"\\n\t\t\t<li>Ingen innleveringer tildelt</li>\\n\t\t\t\";\n  }\n\nfunction program14(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n\t\t\t<li>\\n\t\t\t\t<a class=\\\"\"\n    + escapeExpression((helper = helpers.getPeerReviewWorkflowIconClass || (depth0 && depth0.getPeerReviewWorkflowIconClass),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.workflow_state), options) : helperMissing.call(depth0, \"getPeerReviewWorkflowIconClass\", (depth0 && depth0.workflow_state), options)))\n    + \"\\\" href=\\\"\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.assessor)),stack1 == null || stack1 === false ? stack1 : stack1.mmooc_url)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.assessor)),stack1 == null || stack1 === false ? stack1 : stack1.display_name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n\t\t\t</li>\\n\t\t\t\";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"mmooc-assignment-rightside\\\">\\n\t<div class=\\\"mmooc-assignment-responses\\\">\\n\t\t<h3>Besvarelser</h3>\\n\t\t<div class=\\\"mmooc-assignment-responses-contents\\\">\\n\t\t\t<p class=\\\"mmooc-assignment-delivery-date\";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.late), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">Levert \"\n    + escapeExpression((helper = helpers.norwegianDateAndTime || (depth0 && depth0.norwegianDateAndTime),options={hash:{},data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.submitted_at), options) : helperMissing.call(depth0, \"norwegianDateAndTime\", ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.submitted_at), options)));\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.late), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"</p>\\n\t\t\t\";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.attachments), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t</div>\\n\t\t<div class=\\\"mmooc-assignment-details\\\">\\n\t\t\t\";\n  stack1 = (helper = helpers.ifAllPeerReviewsAreComplete || (depth0 && depth0.ifAllPeerReviewsAreComplete),options={hash:{},inverse:self.program(10, program10, data),fn:self.program(8, program8, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.peerReview), options) : helperMissing.call(depth0, \"ifAllPeerReviewsAreComplete\", (depth0 && depth0.peerReview), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t</div>\\n\t</div>\\n\t<div class=\\\"mmooc-peer-reviews\\\">\\n\t\t<h3>Hverandrevurdering tildelt deg</h3>\\n\t\t<ul class=\\\"unstyled_list\\\">\\n\t\t\t\";\n  stack1 = helpers.unless.call(depth0, ((stack1 = (depth0 && depth0.peerReview)),stack1 == null || stack1 === false ? stack1 : stack1.length), {hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.peerReview), {hash:{},inverse:self.noop,fn:self.program(14, program14, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t</ul>\\n\t</div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"assignmentPageWithPeerReviewSaveRubricButton\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<button type=\\\"button\\\" id=\\\"mmooc_save_rubric_button\\\" class=\\\"save_rubric_button btn btn-small\\\">Lagre kommentar</button>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"assignmentPageWithPeerReviewWarning\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"mmooc-peer-review-warning\\\">\\n\t<p class=\\\"mmooc-warning\\\">\\n\t\tDenne oppgaven er ikke ferdig før du har fylt ut vurderingsskjemaet til hver tildelte hverandrevurdering\\n\t</p>\\n</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"assignmentSubmission\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  \n  return \" late\";\n  }\n\nfunction program3(depth0,data) {\n  \n  \n  return \" (for sen)\";\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n\t\t\t\t\t\t<span class=\\\"mmooc-assignment-delivered-by\\\"> av \"\n    + escapeExpression(((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.user)),stack1 == null || stack1 === false ? stack1 : stack1.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</span>\\n\t\t\t\t\t\t\";\n  return buffer;\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isPeerReviewFinished), {hash:{},inverse:self.program(10, program10, data),fn:self.program(8, program8, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program8(depth0,data) {\n  \n  \n  return \"\\n\t\t<div class=\\\"mmooc-peer-review-success\\\">\\n\t\t\t<p class=\\\"mmooc-success singleLine\\\">\\n\t\t\t\tDu har fullført hverandrevurderingen.\\n\t\t\t</p>\\n\t\t</div>\\n\t\t\";\n  }\n\nfunction program10(depth0,data) {\n  \n  \n  return \"\\n\t\t<div class=\\\"mmooc-peer-review-warning\\\">\\n\t\t\t<p class=\\\"mmooc-warning singleLine\\\">\\n\t\t\t\tDenne oppgaven er ikke ferdig før du har fylt ut vurderingsskjemaet.\\n\t\t\t</p>\\n\t\t</div>\\n\t\t\";\n  }\n\nfunction program12(depth0,data) {\n  \n  \n  return \"\\n\t\t\t\t<h3>Din vurdering</h3>\\n\t\t\t\t\";\n  }\n\nfunction program14(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isTeacherViewingStudentsSubmission), {hash:{},inverse:self.program(17, program17, data),fn:self.program(15, program15, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program15(depth0,data) {\n  \n  \n  return \"\\n\t\t\t\t<h3>Vurdering av besvarelse</h3>\\n\t\t\t\t\";\n  }\n\nfunction program17(depth0,data) {\n  \n  \n  return \"\\n\t\t\t\t<h3>Vurdering av din besvarelse</h3>\\n\t\t\t\t\";\n  }\n\nfunction program19(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n\t\t\t\t<p class=\\\"assessment\\\">Karakter: \"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.grade)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"/\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.assignment)),stack1 == null || stack1 === false ? stack1 : stack1.points_possible)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</p>\\n\t\t\t\t\";\n  return buffer;\n  }\n\nfunction program21(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.isPeerReviewFinished), {hash:{},inverse:self.noop,fn:self.program(22, program22, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t\t\t<a href=\\\"#\\\" class=\\\"open-assessment-dialog-button\\\">Vurderingsskjema</a>\\n\t\t\t\t\";\n  return buffer;\n  }\nfunction program22(depth0,data) {\n  \n  \n  return \"\\n\t\t\t\t<p class=\\\"assessment-warning\\\">Du har ikke vurdert denne oppgaven.</p>\\n\t\t\t\t\";\n  }\n\nfunction program24(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n\t\t\t\t<p class=\\\"assessment-text\\\">\"\n    + escapeExpression((helper = helpers.getSubmissionAssessmentText || (depth0 && depth0.getSubmissionAssessmentText),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.peerReview), options) : helperMissing.call(depth0, \"getSubmissionAssessmentText\", (depth0 && depth0.peerReview), options)))\n    + \"</p>\\n\t\t\t\t\";\n  stack1 = (helper = helpers.ifAtLeastOnePeerReviewIsComplete || (depth0 && depth0.ifAtLeastOnePeerReviewIsComplete),options={hash:{},inverse:self.program(27, program27, data),fn:self.program(25, program25, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.peerReview), options) : helperMissing.call(depth0, \"ifAtLeastOnePeerReviewIsComplete\", (depth0 && depth0.peerReview), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program25(depth0,data) {\n  \n  \n  return \"\\n\t\t\t\t<a href=\\\"#\\\" class=\\\"open-assessment-dialog-button\\\">Vis vurdering</a>\\n\t\t\t\t\";\n  }\n\nfunction program27(depth0,data) {\n  \n  \n  return \"\\n\t\t\t\t<br/> \";\n  }\n\nfunction program29(depth0,data) {\n  \n  \n  return \" isPeerReviewPage\";\n  }\n\nfunction program31(depth0,data) {\n  \n  \n  return \" isSubmissionDetaisPage\";\n  }\n\nfunction program33(depth0,data) {\n  \n  \n  return \" withGradesText\";\n  }\n\nfunction program35(depth0,data) {\n  \n  \n  return \" withNoGradesText\";\n  }\n\n  buffer += \"<div class=\\\"mmooc-assignment-submission\\\">\\n\t<div class=\\\"mmooc-assignment-submission-leftside\\\">\\n\t\t<div class=\\\"mmooc-assignment-submission-metadata\\\">\\n\t\t\t<h2 class=\\\"mmooc-assignment-submission-header\\\">\";\n  if (helper = helpers.submissionTitle) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.submissionTitle); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n\t\t\t<ul class=\\\"mmooc-assignment-submission-metadata-list\\\">\\n\t\t\t\t<li>\\n\t\t\t\t\t<span class=\\\"title\\\">Oppgave:</span>\\n\t\t\t\t\t<span class=\\\"value\\\">\\n\t\t\t\t\t\t<a href=\\\"/courses/\"\n    + escapeExpression(((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.course)),stack1 == null || stack1 === false ? stack1 : stack1.id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"/assignments/\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.assignment_id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.assignment)),stack1 == null || stack1 === false ? stack1 : stack1.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n\t\t\t\t\t</span>\\n\t\t\t\t</li>\\n\t\t\t\t<li>\\n\t\t\t\t\t<span class=\\\"title\\\">Innlevert:</span>\\n\t\t\t\t\t<span class=\\\"value\\\">\\n\t\t\t\t\t\t<span class=\\\"mmooc-assignment-delivery-date\";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.late), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\"\n    + escapeExpression((helper = helpers.norwegianDateAndTime || (depth0 && depth0.norwegianDateAndTime),options={hash:{},data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.submitted_at), options) : helperMissing.call(depth0, \"norwegianDateAndTime\", ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.submitted_at), options)));\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.late), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"</span>\\n\t\t\t\t\t\t\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isPeerReview), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isTeacherViewingStudentsSubmission), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t\t\t\t</span>\\n\t\t\t\t</li>\\n\t\t\t</ul>\\n\t\t</div>\\n\t\t\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isPeerReview), {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t</div>\\n\t<div class=\\\"mmooc-assignment-submission-rightside\\\">\\n\t\t<div class=\\\"mmooc-assignment-submission-assessment\\\">\\n\t\t\t<div class=\\\"mmooc-assignment-submission-assessment-header\\\">\\n\t\t\t\t\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isPeerReview), {hash:{},inverse:self.program(14, program14, data),fn:self.program(12, program12, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t\t</div>\\n\t\t\t<div class=\\\"mmooc-assignment-submission-assessment-contents\\\">\\n\t\t\t\t\";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.grade), {hash:{},inverse:self.noop,fn:self.program(19, program19, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isPeerReview), {hash:{},inverse:self.program(24, program24, data),fn:self.program(21, program21, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t\t</div>\\n\t\t</div>\\n\t</div>\\n</div>\\n\\n<div class=\\\"mmooc-assignment-submission-answers\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isPeerReview), {hash:{},inverse:self.program(31, program31, data),fn:self.program(29, program29, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.grade), {hash:{},inverse:self.program(35, program35, data),fn:self.program(33, program33, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n\t<h3>Besvarelser</h3>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"backbutton\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mmooc-back-button\\\">\\n    <a href=\\\"\";\n  if (helper = helpers.url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"courselist\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", self=this, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n        <div id=\\\"course_\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-size-1of3\\\">\\n            <div class=\\\"mmooc-course-list-item\\\">\\n                <div class=\\\"mmooc-course-list-heading\\\">\\n                    <h2 \";\n  stack1 = (helper = helpers.ifHasRole || (depth0 && depth0.ifHasRole),options={hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.enrollments), \"ObserverEnrollment\", options) : helperMissing.call(depth0, \"ifHasRole\", (depth0 && depth0.enrollments), \"ObserverEnrollment\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\\n                        <a href=\\\"\"\n    + escapeExpression((helper = helpers.urlForCourseId || (depth0 && depth0.urlForCourseId),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.id), options) : helperMissing.call(depth0, \"urlForCourseId\", (depth0 && depth0.id), options)))\n    + \"\\\">\\n                            \";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" \";\n  stack1 = (helper = helpers.ifHasRole || (depth0 && depth0.ifHasRole),options={hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.enrollments), \"ObserverEnrollment\", options) : helperMissing.call(depth0, \"ifHasRole\", (depth0 && depth0.enrollments), \"ObserverEnrollment\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                        </a>\\n                    </h2>\\n                </div>\\n\\n                <div class=\\\"mmooc-course-list-description\\\">\\n                    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.syllabus_body), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </div>\\n                \";\n  if (helper = helpers.debug) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.debug); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n\\n                <div class=\\\"mmooc-course-list-progress\\\">\\n                    \";\n  stack1 = (helper = helpers.ifHasRole || (depth0 && depth0.ifHasRole),options={hash:{},inverse:self.noop,fn:self.program(8, program8, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.enrollments), \"StudentEnrollment\", options) : helperMissing.call(depth0, \"ifHasRole\", (depth0 && depth0.enrollments), \"StudentEnrollment\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </div>\\n            </div>\\n        </div>\\n        \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \" class=\\\"tooltip\\\" \";\n  }\n\nfunction program4(depth0,data) {\n  \n  \n  return \" - Observatør\\n                            <div class=\\\"tooltiptext\\\">\\n                                Som observatør kan du se innholdet i emner der du ikke er registrert som student.\\n                            </div>\\n                            \";\n  }\n\nfunction program6(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \" \";\n  if (helper = helpers.syllabus_body) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.syllabus_body); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\n\nfunction program8(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers['with'].call(depth0, (depth0 && depth0.course_progress), {hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program9(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.requirement_count), {hash:{},inverse:self.noop,fn:self.program(10, program10, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program10(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                    <div class=\\\"mmooc-progress-bar\";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.noop,fn:self.program(11, program11, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.requirement_completed_count), (depth0 && depth0.requirement_count), options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.requirement_completed_count), (depth0 && depth0.requirement_count), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n                        <div class=\\\"mmooc-progress-bar-inner\\\" style=\\\"width:\"\n    + escapeExpression((helper = helpers.percentage || (depth0 && depth0.percentage),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.requirement_completed_count), (depth0 && depth0.requirement_count), options) : helperMissing.call(depth0, \"percentage\", (depth0 && depth0.requirement_completed_count), (depth0 && depth0.requirement_count), options)))\n    + \"%\\\">\\n                        </div>\\n                    </div>\\n                    \";\n  return buffer;\n  }\nfunction program11(depth0,data) {\n  \n  \n  return \" mmooc-progress-bar-done\";\n  }\n\n  buffer += \"<div class=\\\"mmooc-course-list\\\">\\n    <h2 class=\\\"mmooc-course-category-title\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n    <!--If the amount of courses is large, the filter select box and corresponding javascript code in courselist.js should be enabled\\n    <select id=\\\"filter\\\"></select>\\n-->\\n    <div class=\\\"mmooc-row\\\">\\n        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"courselistcontainer\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mmooc-course-list-container\\\">\\r\\n  <h1>Mine \";\n  if (helper = helpers.courseLabel) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.courseLabel); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h1>\\r\\n  <a class='btn btn-more-courses' href='/search/all_courses\";\n  if (helper = helpers.queryString) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.queryString); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"'>Se alle tilgjengelige \";\n  if (helper = helpers.courseLabel) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.courseLabel); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\r\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"coursemenu\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \" class=\\\"no-tabs\\\" \";\n  if (helper = helpers.subtitle) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.subtitle); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.courseIsMultilanguage), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n            \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n            <div id=\\\"mmooc-course-language-container\\\" >\\n                <span id=\\\"mmooc-course-language-text\\\">Språk / Giella</span>\\n                <span id=\\\"mmooc-course-current-language\\\">\\n                    <svg class=\\\"mmooc-language-select-globe\\\" width=\\\"22\\\" height=\\\"22\\\" fill=\\\"none\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 22 22\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                        <g stroke=\\\"#656161\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\">\\n                            <path d=\\\"m11 21c5.5228 0 10-4.4772 10-10s-4.4772-10-10-10-10 4.4772-10 10 4.4772 10 10 10z\\\"/>\\n                            <path d=\\\"m1 11h20\\\"/>\\n                            <path d=\\\"m11 1c2.5013 2.7384 3.9228 6.292 4 10-0.0772 3.708-1.4987 7.2616-4 10-2.5013-2.7384-3.9228-6.292-4-10 0.0772-3.708 1.4987-7.2616 4-10z\\\"/>\\n                        </g>\\n                    </svg>\\n                    <span id=\\\"mmooc-course-language-selected\\\">\";\n  if (helper = helpers.selectedLanguage) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.selectedLanguage); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                </span>\\n                <div id=\\\"mmooc-course-language-dropdown\\\">\\n                    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.otherLanguages), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </div>\\n            </div>\\n            \";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                        <button class=\\\"mmooc-course-language-button\\\" value=\\\"\"\n    + escapeExpression(((stack1 = (depth0 && depth0.code)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = (depth0 && depth0.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</button>\\n                    \";\n  return buffer;\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <span class=\\\"h1-sub-heading\\\">\";\n  if (helper = helpers.subtitle) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.subtitle); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\";\n  return buffer;\n  }\n\nfunction program9(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <ul class=\\\"mmooc-course-tabs\\\">\\n            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.menuItems), {hash:{},inverse:self.noop,fn:self.programWithDepth(10, program10, data, depth0),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </ul>\\n        \";\n  return buffer;\n  }\nfunction program10(depth0,data,depth1) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.toolList)),stack1 == null || stack1 === false ? stack1 : stack1.length), {hash:{},inverse:self.programWithDepth(16, program16, data, depth1),fn:self.programWithDepth(11, program11, data, depth1),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program11(depth0,data,depth2) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n            <li class=\\\"mmooc-course-tab \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.url), (depth2 && depth2.selectedMenuItem), options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.url), (depth2 && depth2.selectedMenuItem), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" id=\\\"mmooc-menu-item-verktoy\\\">\\n                <a href=\\\"#\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n                    <i class=\\\"icon-mini-arrow-down\\\"></i>\\n                </a>\\n                <div class=\\\"mmooc-course-tab-menu-item-drop\\\" id=\\\"mmooc-verktoy-list\\\">\\n                    <ul class=\\\"mmooc-course-tab-menu-item-list\\\">\\n                        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.toolList), {hash:{},inverse:self.noop,fn:self.program(14, program14, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    </ul>\\n                </div>\\n            </li>\\n            \";\n  return buffer;\n  }\nfunction program12(depth0,data) {\n  \n  \n  return \"selected\";\n  }\n\nfunction program14(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                        <li class=\\\"mmooc-course-tab-menu-item-list-item\\\">\\n                            <a href=\\\"\";\n  if (helper = helpers.href) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.href); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n                        </li>\\n                        \";\n  return buffer;\n  }\n\nfunction program16(depth0,data,depth2) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n            <li class=\\\"mmooc-course-tab \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.title), (depth2 && depth2.selectedMenuItem), options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.title), (depth2 && depth2.selectedMenuItem), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n                <a href=\\\"\";\n  if (helper = helpers.url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n            </li>\\n            \";\n  return buffer;\n  }\n\n  buffer += \"<div id=\\\"mmooc-course-tabs-container\\\" \";\n  stack1 = helpers.unless.call(depth0, ((stack1 = (depth0 && depth0.menuItems)),stack1 == null || stack1 === false ? stack1 : stack1.length), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\\n    <div id=\\\"mmooc-course-tabs-container-inner\\\">\\n        <div id=\\\"mmooc-course-title-header\\\">\\n            <h1>\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h1>\\n            \";\n  stack1 = helpers['with'].call(depth0, (depth0 && depth0.languageOptions), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </div>\\n\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.subtitle), {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.menuItems)),stack1 == null || stack1 === false ? stack1 : stack1.length), {hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"courseprogress\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  \n  return \" mmooc-progress-bar-done\";\n  }\n\n  buffer += \"<div class=\\\"mmooc-course-progress\\\">\\n    <div>\\n        <div class=\\\"mmooc-course-progress-label\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</div>\\n        <div class=\\\"mmooc-course-progress-bar\\\">\\n            <div class=\\\"mmooc-progress-bar\";\n  stack1 = (helper = helpers.ifAllModulesCompleted || (depth0 && depth0.ifAllModulesCompleted),options={hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.modules), options) : helperMissing.call(depth0, \"ifAllModulesCompleted\", (depth0 && depth0.modules), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n                <div class=\\\"mmooc-progress-bar-inner\\\" style=\\\"width:\"\n    + escapeExpression((helper = helpers.percentageForModules || (depth0 && depth0.percentageForModules),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.modules), options) : helperMissing.call(depth0, \"percentageForModules\", (depth0 && depth0.modules), options)))\n    + \"%\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"courseprogressforstudent\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  \n  return \" mmooc-progress-bar-done\";\n  }\n\n  buffer += \"<div class=\\\"mmooc-course-progress\\\">\\n    <div>\\n        <div class=\\\"mmooc-course-progress-label\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</div>\\n        <div class=\\\"mmooc-course-progress-bar\\\">\\n            <div class=\\\"mmooc-progress-bar\";\n  stack1 = (helper = helpers.ifAllStudentModulesCompleted || (depth0 && depth0.ifAllStudentModulesCompleted),options={hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.modules), options) : helperMissing.call(depth0, \"ifAllStudentModulesCompleted\", (depth0 && depth0.modules), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n                <div class=\\\"mmooc-progress-bar-inner\\\" style=\\\"width:\"\n    + escapeExpression((helper = helpers.percentageForStudentModules || (depth0 && depth0.percentageForStudentModules),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.modules), options) : helperMissing.call(depth0, \"percentageForStudentModules\", (depth0 && depth0.modules), options)))\n    + \"%\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"dataporten\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"I denne kompetansepakken benytter vi oss av grupper fra dataporten. For å se\\n hvilke du kan melde deg inn i, må du logge deg på dataporten.<div>\\n <button class=\\\"button\\\" id=\\\"dataportenPopupLogin\\\">Login dataporten</button>\\n </div>\\n\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"dataportenGroups\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n    <b>medlem</b>\\n\";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <button id=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">Meld deg inn</button>\\n\";\n  return buffer;\n  }\n\n  buffer += \"<div>\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.dataportenGroup)),stack1 == null || stack1 === false ? stack1 : stack1.displayName)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.member), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</div>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"enrollprivacypolicy\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<a target=\\\"_blank\\\" href=\\\"\";\n  if (helper = helpers.privacypolicylink) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.privacypolicylink); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"external\\\" rel=\\\"noreferrer\\\">\\n  <span>personvernvilkårene</span>\\n  <span class=\\\"ui-icon ui-icon-extlink ui-icon-inline\\\" title=\\\"Lenker til en ekstern side.\\\"></span>\\n</a>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"footer-license\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"Lisensnivå: Illustrasjoner og filmer utviklet i regi av prosjektet:\\n<a href=\\\"http://creativecommons.org/licenses/by-nc-nd/4.0/\\\"\\n    class=\\\"external_link\\\" target=\\\"_blank\\\" rel=\\\"license\\\">\\n    <span>CC BY-NC-ND 4.0</span>\\n</a>\\nAnnet innhold utviklet i regi av prosjektet:\\n<a href=\\\"http://creativecommons.org/licenses/by-nc-sa/4.0\\\" class=\\\"external_link\\\"\\n    target=\\\"_blank\\\" rel=\\\"license\\\">\\n    <span>CC BY-NC-SA 4.0</span>\\n</a>\\n<br>\\n\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"footer\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n             <a  target=\\\"_blank\\\" class=\\\"external_link\\\"  href=\\\"https://\";\n  if (helper = helpers.homeOrganization) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.homeOrganization); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.homeOrganization) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.homeOrganization); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n            \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n            | <a  target=\\\"_blank\\\" class=\\\"external_link\\\" href=\\\"\";\n  if (helper = helpers.privacyPolicyLink) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.privacyPolicyLink); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">Personvernvilkår</a>\\n            \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n             | Kontakt oss: <a  target=\\\"_blank\\\" class=\\\"external_link\\\"  href=\\\"mailto:\";\n  if (helper = helpers.contactPoint) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.contactPoint); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.contactPoint) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.contactPoint); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n            \";\n  return buffer;\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n             | <a  target=\\\"_blank\\\" class=\\\"external_link\\\"  href=\\\"\";\n  if (helper = helpers.about) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.about); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">Om denne plattformen</a>\\n            \";\n  return buffer;\n  }\n\n  buffer += \"<footer role=\\\"contentinfo\\\" id=\\\"mmooc-footer\\\" class=\\\"ic-app-footer\\\">\\n    <div class=\\\"mmooc-license\\\">\\n        <p id=\\\"mmoocLicense\\\" class=\\\"public-license-text\\\"></p>\\n        <p class=\\\"public-license-text\\\">\\n            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.homeOrganization), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.privacyPolicyLink), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.contactPoint), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.about), {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n            </div>\\n        </p>\\n    </div>\\n</footer>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"groupdiscussionGetHelpFromTeacher\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"getTeachersHelpContainer\\\">\\n    <div class=\\\"tooltip_below\\\">\\n        <button type=\\\"button\\\" id=\\\"mmooc-get-teachers-help\\\" class=\\\"btn btn-primary getTeachersHelp\\\">Tilkall veileder</button>\\n        <div class=\\\"tooltiptext\\\">\\n            \";\n  if (helper = helpers.hoverOverText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.hoverOverText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n        </div>\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"groupdiscussionheader\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div id=\\\"mmooc-group-header\\\">\\n    <div id=\\\"mmooc-group-members\\\">\\n        <div class=\\\"mmooc-back-button\\\">\\n            <a href=\\\"/groups/\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.group)),stack1 == null || stack1 === false ? stack1 : stack1.id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"/discussion_topics\\\">\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.group)),stack1 == null || stack1 === false ? stack1 : stack1.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n        </div>\\n    </div>\\n    <div id=\\\"mmooc-group-links\\\">\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"groupheader\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n            <div class=\\\"mmooc-group-member\\\">\\n                <div class=\\\"mmooc-group-member-avatar\\\" style=\\\"background-image: url('\";\n  if (helper = helpers.avatar_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.avatar_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"')\\\"></div>\\n                <div class=\\\"mmooc-group-member-link\\\">\\n                    <a href=\\\"/about/\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n                </div>\\n            </div>\\n            \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"mmooc-back-button\\\">\\n    <a href=\\\"\"\n    + escapeExpression((helper = helpers.urlForCourseId || (depth0 && depth0.urlForCourseId),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.courseId), options) : helperMissing.call(depth0, \"urlForCourseId\", (depth0 && depth0.courseId), options)))\n    + \"/groups\\\">Tilbake til gruppeliste</a>\\n</div>\\n<div id=\\\"mmooc-group-header\\\">\\n    <div id=\\\"mmooc-group-members\\\">\\n        <p>\\n            <b>Gruppemedlemmer</b>\\n        </p>\\n        <div class=\\\"mmooc-group-members-list\\\">\\n            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.members), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </div>\\n    </div>\\n    <div id=\\\"mmooc-group-links\\\">\\n        <p>\\n            <a target=\\\"_new\\\" href=\\\"https://connect.uninett.no/uit-videorom-matematikkmooc-\";\n  if (helper = helpers.groupId) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.groupId); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"external\\\">\\n                <b>Videorom for gruppa</b>\\n                <span class=\\\"ui-icon ui-icon-extlink ui-icon-inline\\\" title=\\\"Lenker til en ekstern side.\\\"></span>\\n            </a>\\n        </p>\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"informationpane\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, self=this, functionType=\"function\", escapeExpression=this.escapeExpression;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n    <div id=\\\"masquerade_bar\\\" class=\\\"ic-alert-masquerade-student-view_2\\\">\\n      <div class=\\\"ic-alert-masquerade-student-view-module ic-alert-masquerade-student-view-module--header_2\\\">\\n        <div class=\\\"ic-image-text-combo_\\\">\\n          <div class=\\\"ic-image-text-combo__text_notificationtouser\\\">\\n  \";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.feedback), {hash:{},inverse:self.program(6, program6, data),fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  \n  return \"\\n      <div id=\\\"masquerade_bar\\\" class=\\\"ic-alert-masquerade-student-view_2\\\">\\n        <div class=\\\"ic-alert-masquerade-student-view-module ic-alert-masquerade-student-view-module--header_2\\\">\\n          <div class=\\\"ic-image-text-combo_\\\">\\n            <div class=\\\"ic-image-text-combo__text_notificationtouser\\\">\\n    \";\n  }\n\nfunction program6(depth0,data) {\n  \n  \n  return \"\\n       <div id=\\\"masquerade_bar\\\" class=\\\"ic-alert-masquerade-student-view\\\">\\n        <div class=\\\"ic-alert-masquerade-student-view-module ic-alert-masquerade-student-view-module--header\\\">\\n          <div class=\\\"ic-image-text-combo\\\">\\n            <i class=\\\"icon-student-view\\\"></i>\\n            <div class=\\\"ic-image-text-combo__text\\\">\\n    \";\n  }\n\nfunction program8(depth0,data) {\n  \n  \n  return \"\\n    Du er meldt inn i et fylke og/eller en kommune som har fått nytt kommunenummer.\\n    <span class=\\\"tooltip tooltip-underline\\\"> Les mer.<span style=\\\"font-weight:normal;color:black\\\"\\n        class=\\\"tooltiptext\\\">\\n\\n        <p>\\n          Velg tilhørighet på nytt\\n          i \\\"Rolle og grupper\\\"-fanen.\\n        </p>\\n        <p>\\n          Vær oppmerksom på at dersom du ønsker å ta vare på diskusjonsinnleggene fra gamle grupper, må disse\\n          kopieres til et tekstdokument,\\n          før du velger ny tilhørighet.\\n        </p>\\n    </span></span>\\n    <br />\\n  \";\n  }\n\nfunction program10(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    \";\n  if (helper = helpers.alertMsg) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.alertMsg); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n  \";\n  return buffer;\n  }\n\nfunction program12(depth0,data) {\n  \n  \n  return \"\\n    Du er inne i dette emnet som observatør. Du vil ikke kunne levere inn oppgaver, bidra i diskusjoner\\n    eller se\\n    hva andre har bidratt med.\\n    <br />\\n  \";\n  }\n\nfunction program14(depth0,data) {\n  \n  \n  return \"\\n    PfDK-MOOC er opprinnelig en lukket videreutdanning for lærere. Dette er den åpne versjonen. Du ser alt\\n    det\\n    faglige innhold, men kan ikke levere oppgaver, diskutere i forum eller få veiledning.\\n    Ønsker du mer informasjon om videreutdanningen, se\\n    <a class=\\\"icon-link\\\" style=\\\"color:white\\\" href=\\\"https://www.hvl.no/studier/studieprogram/pfdk/\\\"\\n      target=\\\"_blank\\\">hvl.no</a>\\n    eller\\n    <a class=\\\"icon-link\\\" style=\\\"color:white\\\"\\n      href=\\\"(https://www.usn.no/studier/finn-studier/larer-lektor-og-pedagogikk/videreutdanning-i-profesjonsfaglig-digital-kompetanse-for-larere/\\\"\\n      target=\\\"_blank\\\">usn.no</a>\\n    <br />\\n  \";\n  }\n\nfunction program16(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    NB! Denne kompetansepakken ble sist vedlikeholdt \";\n  if (helper = helpers.unmaintainedSince) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.unmaintainedSince); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n  \";\n  return buffer;\n  }\n\nfunction program18(depth0,data) {\n  \n  \n  return \"\\n    <a style=\\\"color: rgb(0, 0, 0);\\\"> Vil du være med på </a>\\n    <span class=\\\"tooltip tooltip-underline\\\"><a style=\\\"color: black;\\\">brukertesting?</a>\\n    <spanstyle=\\\"font-weight:normal;color:black\\\" class=\\\"tooltiptext\\\">\\n        <p>\\n            Utdanningsdirektoratet trenger dine tilbakemeldinger på hvordan du opplever kompetansepakkene. Kan du hjelpe oss? Vi trenger innsikt i hvordan du/dere bruker pakken, hva dere opplever som styrker og hva dere kunne ønske var annerledes. Samt tilbakemelding på ny funksjonalitet. \\n        </p>\\n        <p>Din tilbakemelding kan gjøre oss bedre! \\n        </p>\\n      </span></span>\\n    <button class=\\\"button_notificationtouser button_nottouser\\\" onclick=\\\"window.location.href='https://forms.office.com/Pages/ResponsePage.aspx?id=04XRjKY6lEWDPaBY2rtbbYlKoW2pvuFMksRihjhWMl9URFNDM0ZBNk1QT0Y4NTVHSktQVUtOSVlaTS4u'\\\">Meld deg på!</button>\\n    <br />\\n  \";\n  }\n\nfunction program20(depth0,data) {\n  \n  \n  return \"\\n    <a style=\\\"color: rgb(0, 0, 0);\\\"> Har du 3 – 5 minutter til en brukerundersøkelse om innholdet i pakken?  </a>\\n      </span></span>\\n    <button class=\\\"button_notificationtouser button_nottouser\\\" onclick=\\\"window.location.href='https://bibsys.instructure.com/courses/311/modules/items/32671'\\\">Gi oss din tilbakemelding</button>\\n    <br />\\n  \";\n  }\n\n  buffer += \"\\n<div id=\\\"fixed_bottom\\\">\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.notificationtouser), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.expiredCommunity), {hash:{},inverse:self.noop,fn:self.program(8, program8, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.alertMsg), {hash:{},inverse:self.noop,fn:self.program(10, program10, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.observer), {hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.pfdk), {hash:{},inverse:self.noop,fn:self.program(14, program14, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.unmaintainedSince), {hash:{},inverse:self.noop,fn:self.program(16, program16, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.notificationtouser), {hash:{},inverse:self.noop,fn:self.program(18, program18, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.feedback), {hash:{},inverse:self.noop,fn:self.program(20, program20, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n      </div>\\n    </div>\\n  </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"loginPopup\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"login-box\\\">\\n  <div class=\\\"login-box__upper\\\">\\n    <p class=\\\"login-box__text\\\">\";\n  if (helper = helpers.logInText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.logInText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n    <div class=\\\"login-box__close\\\"></div>\\n  </div>\\n  <div class=\\\"login-box__lower\\\">\\n    <a aria-label=\\\"enroll\\\"  class=\\\"mmooc-button mmooc-button-primary\\\" href=\\\"/courses?login=1&design=udir\\\">&nbsp;\\n    </a>\\n    <a class=\\\"mmooc-button mmooc-button-secondary\\\" href=\\\"/login/canvas?normalLogin=1&design=udir\\\">\\n      \";\n  if (helper = helpers.logInCanvasText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.logInCanvasText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n    </a>\\n  </div>\\n</div>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"moduleitems\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, self=this, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n<div class=\\\"header translate\\\">\\n    \";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n</div>\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    <nav aria-label=\\\"content\\\" role=\\\"navigation\\\">\\n        <ul class=\\\"mmooc-module-items\\\">\\n            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </ul>\\n    </nav>\\n\";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \\n                \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.indent), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n            \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                    \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.program(23, program23, data),fn:self.program(5, program5, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), \"SubHeader\", options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.type), \"SubHeader\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n                \";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                        </ul>\\n                        <ul class=\\\"mmooc-module-items \\n                                            \";\n  stack1 = helpers['if'].call(depth0, (data == null || data === false ? data : data.first), {hash:{},inverse:self.program(8, program8, data),fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                            \\\" />\\n                            <li class=\\\"mmooc-module-item-reveal\\\">\\n                                <a class=\\\"mmooc-reveal-trigger\\\" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCurrentHeader), {hash:{},inverse:self.noop,fn:self.program(13, program13, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" href=\\\"#mmooc-reveal-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                    <span class=\\\"mmooc-module-items-icons-page \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.done), {hash:{},inverse:self.noop,fn:self.program(15, program15, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n                                        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCurrentHeader), {hash:{},inverse:self.program(19, program19, data),fn:self.program(17, program17, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                            </i>\\n                                    </span>\\n                                    <span class=\\\"mmooc-module-item-title mmooc-module-item-header-title translate\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                                </a>\\n                            </li>\\n                        </ul>\\n                        <ul \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.isCurrentHeader), {hash:{},inverse:self.noop,fn:self.program(21, program21, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" id=\\\"mmooc-reveal-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-module-items\\\">\\n                    \";\n  return buffer;\n  }\nfunction program6(depth0,data) {\n  \n  \n  return \" mmooc-module-items-header-first\\n                                            \";\n  }\n\nfunction program8(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  stack1 = helpers['if'].call(depth0, (data == null || data === false ? data : data.last), {hash:{},inverse:self.program(11, program11, data),fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                            \";\n  return buffer;\n  }\nfunction program9(depth0,data) {\n  \n  \n  return \" mmooc-module-items-header-last\\n                                            \";\n  }\n\nfunction program11(depth0,data) {\n  \n  \n  return \" mmooc-module-items-header\\n                                                \";\n  }\n\nfunction program13(depth0,data) {\n  \n  \n  return \" id=\\\"mmooc-module-item-active-header\\\" \";\n  }\n\nfunction program15(depth0,data) {\n  \n  \n  return \"done\";\n  }\n\nfunction program17(depth0,data) {\n  \n  \n  return \"\\n                                        <i class=\\\"icon-mini-arrow-down\\\">\\n                                            \";\n  }\n\nfunction program19(depth0,data) {\n  \n  \n  return \"\\n                                            <i class=\\\"icon-mini-arrow-right\\\">\\n                                                \";\n  }\n\nfunction program21(depth0,data) {\n  \n  \n  return \"style=\\\"display:none\\\" \";\n  }\n\nfunction program23(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                        <li class=\\\"mmooc-module-item mmooc-module-item-icon\\\">\\n                            <a class=\\\"\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCurrent), {hash:{},inverse:self.noop,fn:self.program(24, program24, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" href=\\\"\";\n  if (helper = helpers.html_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.html_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                <span class=\\\"mmooc-module-item-title translate\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                                <span class=\\\"mmooc-module-items-icons-\";\n  if (helper = helpers.type) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.type); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  stack1 = (helper = helpers.ifItemIsCompleted || (depth0 && depth0.ifItemIsCompleted),options={hash:{},inverse:self.noop,fn:self.program(26, program26, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.completion_requirement), options) : helperMissing.call(depth0, \"ifItemIsCompleted\", (depth0 && depth0.completion_requirement), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" href=\\\"\";\n  if (helper = helpers.html_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.html_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                    <i class=\\\"icon-\"\n    + escapeExpression((helper = helpers.mapItemType || (depth0 && depth0.mapItemType),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"mapItemType\", (depth0 && depth0.type), options)))\n    + escapeExpression((helper = helpers.overrideIconClassByTitle || (depth0 && depth0.overrideIconClassByTitle),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.title), options) : helperMissing.call(depth0, \"overrideIconClassByTitle\", (depth0 && depth0.title), options)))\n    + \"\\\">\\n                                    </i>\\n                                </span>\\n                            </a>\\n                        </li>\\n                    \";\n  return buffer;\n  }\nfunction program24(depth0,data) {\n  \n  \n  return \"active\";\n  }\n\nfunction program26(depth0,data) {\n  \n  \n  return \" done\";\n  }\n\n  buffer += \"<div class=\\\"mmooc-module-items-back-to-course-button mmooc-back-button\\\">\\n    <a href=\\\"\"\n    + escapeExpression((helper = helpers.urlForCourseId || (depth0 && depth0.urlForCourseId),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.courseId), options) : helperMissing.call(depth0, \"urlForCourseId\", (depth0 && depth0.courseId), options)))\n    + \"\\\">\";\n  if (helper = helpers.backToCoursePage) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.backToCoursePage); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n</div>\\n\\n\";\n  stack1 = helpers['with'].call(depth0, (depth0 && depth0.module), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"moduleitemsprincipal\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, self=this, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing, blockHelperMissing=helpers.blockHelperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n<div class=\\\"header translate\\\">\\n    \";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n</div>\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    <nav aria-label=\\\"content\\\" role=\\\"navigation\\\">\\n        <ul class=\\\"mmooc-module-items\\\">\\n            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </ul>\\n    </nav>\\n\";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \" \\n                \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.program(22, program22, data),fn:self.program(4, program4, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), \"SubHeader\", options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.type), \"SubHeader\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n            \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                    </ul>\\n                    <ul class=\\\"mmooc-module-items \\n                                        \";\n  stack1 = helpers['if'].call(depth0, (data == null || data === false ? data : data.first), {hash:{},inverse:self.program(7, program7, data),fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                        \\\" />\\n                        <li class=\\\"mmooc-module-item-reveal\\\">\\n                            <a class=\\\"mmooc-reveal-trigger\\\" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCurrentHeader), {hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" href=\\\"#mmooc-reveal-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                <span class=\\\"mmooc-module-items-icons-page \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.done), {hash:{},inverse:self.noop,fn:self.program(14, program14, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n                                    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCurrentHeader), {hash:{},inverse:self.program(18, program18, data),fn:self.program(16, program16, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                        </i>\\n                                </span>\\n                                <span class=\\\"mmooc-module-item-title mmooc-module-item-header-title translate\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                            </a>\\n                        </li>\\n                    </ul>\\n                    <ul \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.isCurrentHeader), {hash:{},inverse:self.noop,fn:self.program(20, program20, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" id=\\\"mmooc-reveal-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-module-items\\\">\\n                \";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  \n  return \" mmooc-module-items-header-first\\n                                        \";\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  stack1 = helpers['if'].call(depth0, (data == null || data === false ? data : data.last), {hash:{},inverse:self.program(10, program10, data),fn:self.program(8, program8, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                        \";\n  return buffer;\n  }\nfunction program8(depth0,data) {\n  \n  \n  return \" mmooc-module-items-header-last\\n                                        \";\n  }\n\nfunction program10(depth0,data) {\n  \n  \n  return \" mmooc-module-items-header\\n                                            \";\n  }\n\nfunction program12(depth0,data) {\n  \n  \n  return \" id=\\\"mmooc-module-item-active-header\\\" \";\n  }\n\nfunction program14(depth0,data) {\n  \n  \n  return \"done\";\n  }\n\nfunction program16(depth0,data) {\n  \n  \n  return \"\\n                                    <i class=\\\"icon-mini-arrow-down\\\">\\n                                        \";\n  }\n\nfunction program18(depth0,data) {\n  \n  \n  return \"\\n                                        <i class=\\\"icon-mini-arrow-right\\\">\\n                                            \";\n  }\n\nfunction program20(depth0,data) {\n  \n  \n  return \"style=\\\"display:none\\\" \";\n  }\n\nfunction program22(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                    <li class=\\\"mmooc-module-item mmooc-module-item-icon\\\">\\n                        <a class=\\\"\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCurrent), {hash:{},inverse:self.noop,fn:self.program(23, program23, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" href=\\\"\";\n  if (helper = helpers.html_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.html_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                            <span class=\\\"mmooc-module-item-title translate\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                            <span class=\\\"mmooc-module-items-icons-\";\n  if (helper = helpers.type) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.type); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  stack1 = (helper = helpers.ifItemIsCompleted || (depth0 && depth0.ifItemIsCompleted),options={hash:{},inverse:self.noop,fn:self.program(25, program25, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.completion_requirement), options) : helperMissing.call(depth0, \"ifItemIsCompleted\", (depth0 && depth0.completion_requirement), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" href=\\\"\";\n  if (helper = helpers.html_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.html_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                <i class=\\\"icon-\"\n    + escapeExpression((helper = helpers.mapItemType || (depth0 && depth0.mapItemType),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"mapItemType\", (depth0 && depth0.type), options)))\n    + escapeExpression((helper = helpers.overrideIconClassByTitle || (depth0 && depth0.overrideIconClassByTitle),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.title), options) : helperMissing.call(depth0, \"overrideIconClassByTitle\", (depth0 && depth0.title), options)))\n    + \"\\\">\\n                                    \";\n  options={hash:{},inverse:self.noop,fn:self.program(27, program27, data),data:data}\n  if (helper = helpers.ifIsIndented) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.ifIsIndented); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.ifIsIndented) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(27, program27, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                </i>\\n                            </span>\\n                        </a>\\n                    </li>\\n                \";\n  return buffer;\n  }\nfunction program23(depth0,data) {\n  \n  \n  return \"active\";\n  }\n\nfunction program25(depth0,data) {\n  \n  \n  return \" done\";\n  }\n\nfunction program27(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                                        <div class=\\\"mmooc-icon-principal-tag\\n                                            \";\n  stack1 = (helper = helpers.ifItemIsCompleted || (depth0 && depth0.ifItemIsCompleted),options={hash:{},inverse:self.program(30, program30, data),fn:self.program(28, program28, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.completion_requirement), options) : helperMissing.call(depth0, \"ifItemIsCompleted\", (depth0 && depth0.completion_requirement), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                        \\\">\\n                                            <div class=\\\"mmooc-icon-principal-symbol\\\"></div>\\n                                        </div> \\n                                    \";\n  return buffer;\n  }\nfunction program28(depth0,data) {\n  \n  \n  return \" \\n                                                done\\n                                            \";\n  }\n\nfunction program30(depth0,data) {\n  \n  \n  return \"\\n                                                not_done\\n                                            \";\n  }\n\n  buffer += \"<div class=\\\"mmooc-module-items-back-to-course-button mmooc-back-button\\\">\\n    <a href=\\\"\"\n    + escapeExpression((helper = helpers.urlForCourseId || (depth0 && depth0.urlForCourseId),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.courseId), options) : helperMissing.call(depth0, \"urlForCourseId\", (depth0 && depth0.courseId), options)))\n    + \"\\\">\";\n  if (helper = helpers.backToCoursePage) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.backToCoursePage); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n</div>\\n\\n\";\n  stack1 = helpers['with'].call(depth0, (depth0 && depth0.module), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"modules\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, self=this, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n    <div class=\\\"mmooc-module\\\">\\n        <h2 class=\\\"light\\\">\\n            <a class=\\\"mmooc-module-name\\\" href=\\\"\"\n    + escapeExpression((helper = helpers.urlForFirstNoneCompleteItem || (depth0 && depth0.urlForFirstNoneCompleteItem),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.items), options) : helperMissing.call(depth0, \"urlForFirstNoneCompleteItem\", (depth0 && depth0.items), options)))\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n        </h2>\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n    \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n            <ul class=\\\"mmooc-module-items-icons\\\">\\n                \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n            </ul>\\n        \";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \\n                    \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.indent), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                        \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.program(8, program8, data),fn:self.program(5, program5, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), \"SubHeader\", options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.type), \"SubHeader\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n                    \";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \\n                            \";\n  stack1 = helpers.unless.call(depth0, (data == null || data === false ? data : data.first), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n                        \";\n  return buffer;\n  }\nfunction program6(depth0,data) {\n  \n  \n  return \" \\n                            \";\n  }\n\nfunction program8(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                            <li class=\\\"mmooc-module-item-icon\\\">\\n                                <div class=\\\"tooltip\\\">\\n                                    <a aria-label=\\\"\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-module-items-icons-\";\n  if (helper = helpers.type) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.type); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" \\n                                                \";\n  stack1 = (helper = helpers.ifItemIsCompleted || (depth0 && depth0.ifItemIsCompleted),options={hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.completion_requirement), options) : helperMissing.call(depth0, \"ifItemIsCompleted\", (depth0 && depth0.completion_requirement), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" href=\\\"\";\n  if (helper = helpers.html_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.html_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                        <i aria-hidden=\\\"true\\\" class=\\\"icon-\"\n    + escapeExpression((helper = helpers.mapItemType || (depth0 && depth0.mapItemType),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"mapItemType\", (depth0 && depth0.type), options)))\n    + escapeExpression((helper = helpers.overrideIconClassByTitle || (depth0 && depth0.overrideIconClassByTitle),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.title), options) : helperMissing.call(depth0, \"overrideIconClassByTitle\", (depth0 && depth0.title), options)))\n    + \"\\\"></i>\\n                                        \";\n  stack1 = (helper = helpers.ifItemTypeDiscussion || (depth0 && depth0.ifItemTypeDiscussion),options={hash:{},inverse:self.noop,fn:self.program(11, program11, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"ifItemTypeDiscussion\", (depth0 && depth0.type), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                    </a>\\n                                    <div class=\\\"tooltiptext\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</div>\\n                                </div>\\n                            </li>\\n                        \";\n  return buffer;\n  }\nfunction program9(depth0,data) {\n  \n  \n  return \"done\";\n  }\n\nfunction program11(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                                        <div class=\\\"discussion-unread-tag discussion-id-\"\n    + escapeExpression(((stack1 = (depth0 && depth0.content_id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\"></div>\\n                                        \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"mmooc-modules\\\">\\n    <h2 class=\\\"h3\\\">\";\n  if (helper = helpers.coursemodules) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.coursemodules); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.modules), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"modulesprincipal\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, self=this, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing, blockHelperMissing=helpers.blockHelperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n    <div class=\\\"mmooc-module\\\">\\n        <h2 class=\\\"light\\\">\\n            <a class=\\\"mmooc-module-name\\\" href=\\\"\"\n    + escapeExpression((helper = helpers.urlForFirstNoneCompletePrincipalItem || (depth0 && depth0.urlForFirstNoneCompletePrincipalItem),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.items), options) : helperMissing.call(depth0, \"urlForFirstNoneCompletePrincipalItem\", (depth0 && depth0.items), options)))\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n        </h2>\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n    \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <ul class=\\\"mmooc-module-items-icons\\\">\\n            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </ul>\\n        \";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \" \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.program(7, program7, data),fn:self.program(4, program4, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), \"SubHeader\", options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.type), \"SubHeader\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers.unless.call(depth0, (data == null || data === false ? data : data.first), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  \n  return \" \";\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n            <li class=\\\"mmooc-module-item-icon\\\">\\n                <div class=\\\"tooltip\\\">\\n                    <a aria-label=\\\"\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-module-items-icons-\";\n  if (helper = helpers.type) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.type); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" \\n                                 \";\n  stack1 = (helper = helpers.ifItemIsCompleted || (depth0 && depth0.ifItemIsCompleted),options={hash:{},inverse:self.noop,fn:self.program(8, program8, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.completion_requirement), options) : helperMissing.call(depth0, \"ifItemIsCompleted\", (depth0 && depth0.completion_requirement), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" href=\\\"\";\n  if (helper = helpers.html_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.html_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                        <i aria-hidden=\\\"true\\\" class=\\\"icon-\"\n    + escapeExpression((helper = helpers.mapItemType || (depth0 && depth0.mapItemType),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"mapItemType\", (depth0 && depth0.type), options)))\n    + escapeExpression((helper = helpers.overrideIconClassByTitle || (depth0 && depth0.overrideIconClassByTitle),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.title), options) : helperMissing.call(depth0, \"overrideIconClassByTitle\", (depth0 && depth0.title), options)))\n    + \"\\\"></i>\\n                        \";\n  stack1 = (helper = helpers.ifItemTypeDiscussion || (depth0 && depth0.ifItemTypeDiscussion),options={hash:{},inverse:self.noop,fn:self.program(10, program10, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"ifItemTypeDiscussion\", (depth0 && depth0.type), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                        \";\n  options={hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data}\n  if (helper = helpers.ifIsIndented) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.ifIsIndented); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.ifIsIndented) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"                    \\n                    </a>\\n                    <div class=\\\"tooltiptext\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</div>\\n                </div>\\n            </li>\\n            \";\n  return buffer;\n  }\nfunction program8(depth0,data) {\n  \n  \n  return \"done\";\n  }\n\nfunction program10(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                        <div class=\\\"discussion-unread-tag discussion-id-\"\n    + escapeExpression(((stack1 = (depth0 && depth0.content_id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\"></div>\\n                        \";\n  return buffer;\n  }\n\nfunction program12(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                            <div class=\\\"mmooc-icon-principal-tag\\n                                \";\n  stack1 = (helper = helpers.ifItemIsCompleted || (depth0 && depth0.ifItemIsCompleted),options={hash:{},inverse:self.program(15, program15, data),fn:self.program(13, program13, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.completion_requirement), options) : helperMissing.call(depth0, \"ifItemIsCompleted\", (depth0 && depth0.completion_requirement), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                            \\\">\\n                                <div class=\\\"mmooc-icon-principal-symbol\\\"></div>\\n                            </div> \\n                        \";\n  return buffer;\n  }\nfunction program13(depth0,data) {\n  \n  \n  return \"\\n                                    done\\n                                \";\n  }\n\nfunction program15(depth0,data) {\n  \n  \n  return \"\\n                                    not_done\\n                                \";\n  }\n\n  buffer += \"<div class=\\\"mmooc-modules\\\">\\n    <h2 class=\\\"h3\\\">\";\n  if (helper = helpers.coursemodules) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.coursemodules); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.modules), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"navigateToPreviousPage\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<nav class=\\\"mmooc-module-items-back-to-course-button mmooc-back-button\\\">\\n    <span href=\\\"#\\\" onclick=\\\"mmooc.util.goBack()\\\">\\n        \";\n  if (helper = helpers.linkText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.linkText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n    </span>\\n</nav>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"noLoggedInHeader\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mmooc-header\\\">\\n  <button class=\\\"mmooc-header__login-button\\\">\";\n  if (helper = helpers.logInText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.logInText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</button>\\n</div>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"noLoggedInHeaderMobile\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<button class=\\\"mmooc-header__login-button\\\">\";\n  if (helper = helpers.logInText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.logInText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</button>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"notifications\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<a href=\\\"/profile/communication?design=udir\\\" class=\\\"edit_settings_link btn button-sidebar-wide\\\">\\n  <i class=\\\"icon-edit\\\"></i> Rediger varslingsinnstillinger</a>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/account-picker\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, blockHelperMissing=helpers.blockHelperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n      <option value=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n      \";\n  return buffer;\n  }\n\n  buffer += \"<div>\\n  <form>\\n    <select name=\\\"account\\\">\\n      <option value=\\\"\\\">Choose the account...</option>\\n      \";\n  options={hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data}\n  if (helper = helpers.accounts) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.accounts); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.accounts) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </select>\\n  </form>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/assign-process\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <tr id=\\\"mmpf-assign-\"\n    + escapeExpression(((stack1 = (data == null || data === false ? data : data.index)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\\n      <td>\";\n  if (helper = helpers.group_id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.group_id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n      <td>\";\n  if (helper = helpers.user_id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.user_id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n      <td class=\\\"status waiting\\\">Waiting</td>\\n      \";\n  return buffer;\n  }\n\n  buffer += \"<table>\\n  <thead>\\n    <tr>\\n      <th>Group ID</th>\\n      <th>Student ID</th>\\n      <th>Status</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.assigns), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </tbody>\\n  <table>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/assign\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<form>\\n  <dl>\\n    <dt>\\n      <label for=\\\"csv\\\">Upload CSV file</label>\\n    </dt>\\n    <dd>\\n      <input type=\\\"file\\\" name=\\\"csv\\\">\\n    </dd>\\n  </dl>\\n  <input type=\\\"submit\\\" />\\n</form>\\n\\n<div class=\\\"side-information\\\">\\n  <h3>Decription of CSV format</h3>\\n  <p>First line of the file must be the name of the columns. Column separators are commas. Fields optionally encloused by double\\n    quotes (\\\").\\n    <dl>\\n      <dt>group_id [Integer]\\n        <dd>The group ID\\n          <dt>user_id [String]\\n            <dd>The FEIDE user ID\\n    </dl>\\n</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/course-groups\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n        <option value=\\\"\\\">No courses defined for account</option>\\n        \";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <option value=\\\"\\\">Choose a course</option>\\n        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <option value=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<form>\\n  <ol>\\n    <li class=\\\"step-1\\\">\\n      <select id=\\\"mmpf-course-select\\\">\\n        \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </select>\\n      <li class=\\\"step-2\\\">\\n        <select name=\\\"category\\\" onchange=\\\"$('.step-3').css('display', 'list-item')\\\">\\n          <option value=\\\"\\\">No group sets defined for course</option>\\n        </select>\\n        <li class=\\\"step-3\\\">\\n          <input type=\\\"file\\\" name=\\\"csv\\\" onchange=\\\"$('.step-4').css('display', 'list-item')\\\">\\n          <li class=\\\"step-4\\\">\\n            <input type=\\\"submit\\\" />\\n  </ol>\\n</form>\\n\\n<div class=\\\"side-information\\\">\\n  <h3>Decription of CSV format</h3>\\n  <p>First line of the file must be the name of the columns. Column separators are commas. Fields optionally encloused by double\\n    quotes (\\\").\\n    <dl>\\n      <dt>name [String]\\n        <dd>The name of the group\\n          <dt>description [String]\\n            <dd>A description of the group\\n    </dl>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/group-category\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n        <option value=\\\"\\\">No group sets defined for account</option>\\n        \";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <option value=\\\"\\\">Choose a group set</option>\\n        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.categories), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <option value=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<form>\\n  <ol>\\n    <li class=\\\"step-1\\\">\\n      <select name=\\\"category\\\" onchange=\\\"$('.step-2').css('display', 'list-item')\\\">\\n        \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.categories), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </select>\\n      <li class=\\\"step-2\\\">\\n        <input type=\\\"file\\\" name=\\\"csv\\\" onchange=\\\"$('.step-3').css('display', 'list-item')\\\">\\n        <li class=\\\"step-3\\\">\\n          <input type=\\\"submit\\\" />\\n  </ol>\\n</form>\\n\\n<div class=\\\"side-information\\\">\\n  <h3>Decription of CSV format</h3>\\n  <p>First line of the file must be the name of the columns. Column separators are commas. Fields optionally encloused by double\\n    quotes (\\\").\\n    <dl>\\n      <dt>name [String]\\n        <dd>The name of the group\\n          <dt>description [String]\\n            <dd>A description of the group\\n    </dl>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/groups-process\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, blockHelperMissing=helpers.blockHelperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <tr id=\\\"mmpf-group-\"\n    + escapeExpression(((stack1 = (data == null || data === false ? data : data.index)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\\n      <td>\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n      <td>\";\n  if (helper = helpers.description) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.description); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n      <td class=\\\"status waiting\\\">Waiting</td>\\n      \";\n  return buffer;\n  }\n\n  buffer += \"<table>\\n  <thead>\\n    <tr>\\n      <th>Name</th>\\n      <th>Description</th>\\n      <th>Status</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    \";\n  options={hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data}\n  if (helper = helpers.groups) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.groups); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.groups) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </tbody>\\n  <table>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/head\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mmooc-power-functions\\\">\\n  <h1 class=\\\"xl\\\">Power Functions</h1>\\n  <h2>\";\n  if (helper = helpers.heading) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.heading); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n  <p>\\n    <a href=\\\"/?mmpf\\\">Back</a>\\n  </p>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/headteacher\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mmooc-power-functions\\\">\\r\\n  <h1 class=\\\"xl\\\">Power Functions</h1>\\r\\n  <h2>\";\n  if (helper = helpers.heading) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.heading); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/list-groups\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n<p>No groups found for account</p>\\n\";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n<table>\\n  <tr>\\n    <th>ID</th>\\n    <th>Name</th>\\n    <th>Description</th>\\n  </tr>\\n  \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.groups), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</table>\\n\";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n  <tr>\\n    <td class=\\\"right\\\">\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n    <td>\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n    <td>\";\n  if (helper = helpers.description) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.description); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n  </tr>\\n  \";\n  return buffer;\n  }\n\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.groups), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { return stack1; }\n  else { return ''; }\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/logins-process\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <tr id=\\\"mmpf-logins-\"\n    + escapeExpression(((stack1 = (data == null || data === false ? data : data.index)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\\n      <td>\";\n  if (helper = helpers.user_id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.user_id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n      <td>\";\n  if (helper = helpers.login_id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.login_id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n      <td class=\\\"status waiting\\\">Waiting</td>\\n      \";\n  return buffer;\n  }\n\n  buffer += \"<table>\\n  <thead>\\n    <tr>\\n      <th>User ID</th>\\n      <th>Login ID</th>\\n      <th>Status</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.logins), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </tbody>\\n  <table>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/logins\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<form>\\n  <dl>\\n    <dt>\\n      <label for=\\\"csv\\\">Upload CSV file</label>\\n    </dt>\\n    <dd>\\n      <input type=\\\"file\\\" name=\\\"csv\\\">\\n    </dd>\\n  </dl>\\n  <input type=\\\"submit\\\" />\\n</form>\\n\\n<div class=\\\"side-information\\\">\\n  <h3>Decription of CSV format</h3>\\n  <p>First line of the file must be the name of the columns. Column separators are commas. Fields optionally encloused by double\\n    quotes (\\\").\\n    <dl>\\n      <dt>current_id [String]\\n        <dd>The current FEIDE user ID\\n          <dt>new_id [String]\\n            <dd>The new FEIDE user ID\\n    </dl>\\n</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/main\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"mmooc-pf-main\\\">\\n\t<h3>Teacher functions</h3>\\n\t<div class=\\\"mmooc-pf-list\\\">\\n\t\t<div id=\\\"mmooc-pf-peer-review-btn\\\" class=\\\"item\\\">Peer review</div>\\n\t\t<div id=\\\"mmooc-pf-student-progress-btn\\\" class=\\\"item\\\">Student progress</div>\\n\t</div>\\n\t<h3>Administrator functions</h3>\\n\t<div class=\\\"mmooc-pf-list\\\">\\n\t\t<div id=\\\"mmooc-pf-list-group-btn\\\" class=\\\"item\\\">List groups</div>\\n\t\t<div id=\\\"mmooc-pf-group-btn\\\" class=\\\"item\\\">Create account groups</div>\\n\t\t<div id=\\\"mmooc-pf-course-group-btn\\\" class=\\\"item\\\">Create course groups</div>\\n\t\t<div id=\\\"mmooc-pf-assign-btn\\\" class=\\\"item\\\">Assign students to groups</div>\\n\t\t<div id=\\\"mmooc-pf-logins-btn\\\" class=\\\"item\\\">Add new logins</div>\\n\t</div>\\n</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/mainteacher\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"mmooc-pf-main\\\">\\r\\n\t<h3>Teacher functions</h3>\\r\\n\t<div class=\\\"mmooc-pf-list\\\">\\r\\n\t\t<div id=\\\"mmooc-pf-peer-review-btn\\\" class=\\\"item\\\">Peer review</div>\\r\\n\t\t<div id=\\\"mmooc-pf-student-progress-btn\\\" class=\\\"item\\\">Student progress</div>\\r\\n\t</div>\\r\\n</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/peer-review\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n        <option value=\\\"\\\" disabled>No courses defined for account</option>\\n        \";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <option value=\\\"\\\">Choose a course</option>\\n        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <option value=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<form>\\n  <ol>\\n    <li class=\\\"step-1\\\">\\n      <select id=\\\"mmpf-course-select\\\">\\n        \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </select>\\n      <li class=\\\"step-2\\\">\\n        <select id=\\\"mmpf-category-select\\\" name=\\\"category\\\">\\n          <option value=\\\"\\\" disabled>No group sets defined for course</option>\\n        </select>\\n        <li class=\\\"step-3\\\">\\n          <select id=\\\"mmpf-group-select\\\" name=\\\"group\\\" multiple>\\n            <option value=\\\"\\\" disabled>No groups defined for course</option>\\n          </select>\\n          <li class=\\\"step-4\\\">\\n            <select id=\\\"mmpf-assignment-select\\\" name=\\\"assignment\\\">\\n              <option value=\\\"\\\" disabled>No assignments defined for course</option>\\n            </select>\\n  </ol>\\n  <div class=\\\"assignment-info\\\"></div>\\n  <div class=\\\"progress-info\\\"></div>\\n  <div id=\\\"progress\\\">\\n    <div id=\\\"bar\\\"></div>\\n  </div>\\n  <div class=\\\"peer-review-list\\\"></div>\\n  <div class=\\\"peer-review-create\\\"></div>\\n</form>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/student-progress\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n        <option value=\\\"\\\">No courses defined for account</option>\\n        \";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <option value=\\\"\\\">Choose a course</option>\\n        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <option value=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<form>\\n  <ol>\\n    <li class=\\\"step-1\\\">\\n      <select id=\\\"mmpf-course-select\\\">\\n        \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </select>\\n      <li class=\\\"step-2\\\">\\n        <select id=\\\"mmpf-section-select\\\" name=\\\"section\\\">\\n          <option value=\\\"\\\">No sections defined for course</option>\\n        </select>\\n        <li class=\\\"step-3\\\">\\n          <select id=\\\"mmpf-module-select\\\" name=\\\"module\\\">\\n            <option value=\\\"\\\">No modules defined for course</option>\\n          </select>\\n  </ol>\\n  <div id=\\\"progress\\\">\\n    <div id=\\\"bar\\\"></div>\\n  </div>\\n  <div class=\\\"student-progress-table\\\"></div>\\n</form>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/tail\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"privacyPolicyChanged\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div id=\\\"kompetansePortalPrivacyPolicyBox\\\" class=\\\"privacyPolicyBox\\\">\\n    <div class=\\\"privacyPolicyBox__upper\\\">\\n    <div class=\\\"privacyPolicyBox__text\\\">\\n        <div class=\\\"privacyPolicyHeading\\\">Endring i personvern- og brukervilkår</div>\\n    </div>\\n    </div>\\n    <div class=\\\"privacyPolicyBox__privacyPolicyInfo\\\">\\n        Vi har oppdatert våre personvern- og brukervilkår og du må godkjenne disse før du kan fortsette å jobbe i kompetanseportalen.\\n    </div>\\n    <div class=\\\"privacyPolicyBox__privacyPolicyCheck\\\">\\n        <input type=\\\"checkbox\\\" id=\\\"kompetansePortalPrivacyPolicy\\\" name=\\\"kompetansePortalPrivacyPolicy\\\" value=\\\"true\\\">\\n        <label for=\\\"kompetansePortalPrivacyPolicy\\\"> Jeg godtar\\n            <a href=\\\"\";\n  if (helper = helpers.privacyPolicyLink) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.privacyPolicyLink); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"external\\\" target=\\\"_blank\\\" rel=\\\"noreferrer noopener\\\">\\n                <span>personvern- og brukervilkårene</span>\\n                    <span aria-hidden=\\\"true\\\" class=\\\"ui-icon ui-icon-extlink ui-icon-inline\\\" title=\\\"Lenker til eit ekstern område.\\\"></span>\\n                <span class=\\\"screenreader-only\\\">&nbsp;(Lenker til eit ekstern område.)</span>\\n            </a>      \\n    </label>\\n    </div>            \\n    <div class=\\\"privacyPolicyBox__lower\\\">\\n        <button disabled=\\\"true\\\" id=\\\"kompetansePortalPrivacyPolicyButton\\\" class=\\\"btn btn-primary\\\" type=\\\"submit\\\">Lagre</button>\\n    </div>\\n        <div class=\\\"informationPane\\\">\\n        Dersom du ikke godtar vilkårene kan du be om å få slettet din bruker ved å sende epost til <a href=\\\"mailto:kompetansesupport@udir.no\\\">kompetansesupport@udir.no</a> med \\\"Slett meg\\\" i \\n        tittelfeltet fra epostadressen til brukeren du ønsker å slette.                 \\n\\n        </div>\\n</div>\\n\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"statistics\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<h2>Statistikk - \";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n<div id=\\\"\";\n  if (helper = helpers.graphicId) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.graphicId); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"transcriptMenu\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data,depth1) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n        <option value=\\\"\"\n    + escapeExpression(((stack1 = (depth0 && depth0.language)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\" \\n        \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.language), (depth1 && depth1.selectedLanguage), options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.language), (depth1 && depth1.selectedLanguage), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        >\"\n    + escapeExpression(((stack1 = (depth0 && depth0.label)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</option>\\n        \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \"\\n            selected\\n        \";\n  }\n\n  buffer += \"        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.languageTracks), {hash:{},inverse:self.noop,fn:self.programWithDepth(1, program1, data, depth0),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"uidp\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"I denne kompetansepakken benytter vi oss av rollestyring fra UIDP. For å se\\n dine roller må du logge deg på UIDP.<div>\\n <button class=\\\"button\\\" id=\\\"uidpPopupLogin\\\">Login UIDP</button>\\n </div>\\n\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"usermenu\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <li class=\\\"mmooc-menu-item\\\">\\n        <a href=\\\"/conversations\";\n  if (helper = helpers.queryString) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.queryString); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-menu-item-title conversations\\\">\\n            <span id=\\\"mmooc-unread-messages-count\\\"></span>\\n        </a>\\n    </li>\\n    \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  \n  return \"\\n        <li class=\\\"mmooc-menu-item\\\" id=\\\"mmooc-menu-item-varsler\\\">\\n            <a href=\\\"#\\\" class=\\\"mmooc-menu-item-title notifications\\\">\\n                <span id=\\\"mmooc-notification-count\\\"></span>\\n            </a>\\n            <div class=\\\"mmooc-menu-item-drop\\\" id=\\\"mmooc-activity-stream\\\">\\n            </div>\\n        </li>\\n    \";\n  }\n\n  buffer += \"<ul id=\\\"user-menu\\\">\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.displayInboxMenu), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.alertMenuItem), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    <li class=\\\"mmooc-menu-item profile-settings\\\" id=\\\"mmooc-menu-item-profile-settings\\\">\\n        <a href=\\\"#\\\" class=\\\"mmooc-menu-item-title\\\">\\n            <div class=\\\"ic-avatar\\\" aria-hidden=\\\"true\\\">\\n                <img src=\\\"\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.user)),stack1 == null || stack1 === false ? stack1 : stack1.avatar_image_url)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\" alt=\\\"\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.user)),stack1 == null || stack1 === false ? stack1 : stack1.display_name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\" />\\n            </div>\\n            <i class=\\\"icon-mini-arrow-down\\\"></i>\\n        </a>\\n        <div class=\\\"mmooc-menu-item-drop\\\" id=\\\"mmooc-profile-settings\\\">\\n            <ul>\\n                <li>\\n                    <a href=\\\"/profile/settings\";\n  if (helper = helpers.queryString) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.queryString); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">Innstillinger</a>\\n                </li>\\n                <li>\\n                    <a href=\\\"/logout\";\n  if (helper = helpers.queryString) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.queryString); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">Logg ut</a>\\n                </li>\\n            </ul>\\n        </div>\\n    </li>\\n</ul>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"usermerge\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<a href=\\\"/users/\";\n  if (helper = helpers.userId) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.userId); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"/external_tools/\";\n  if (helper = helpers.userMergeLtiToolId) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.userMergeLtiToolId); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"?design=udir\\\" class=\\\"edit_settings_link btn button-sidebar-wide\\\">\\n  <i class=\\\"icon-edit\\\"></i>Slå sammen brukere</a>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"waitIcon\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div id=\\\"fountainG\\\">\\n    <div id=\\\"fountainG_1\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_2\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_3\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_4\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_5\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_6\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_7\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_8\\\" class=\\\"fountainG\\\">\\n    </div>\\n</div>\";\n  });","this.mmooc = this.mmooc || {};\n\nthis.mmooc.api = (function() {\n  let _urlToTypeMapping = [];\n\n  _urlToTypeMapping['quizzes'] = 'Quiz';\n  _urlToTypeMapping['assignments'] = 'Assignment';\n  _urlToTypeMapping['discussion_topics'] = 'Discussion';\n\n  return {\n    _ajax: typeof $ !== 'undefined' ? $ : {},\n    _env: typeof ENV !== 'undefined' ? ENV : {},\n    _location:\n      typeof document !== 'undefined'\n        ? document.location\n        : { search: '', href: '' },\n    _uriPrefix: '/api/v1',\n    _defaultError(event, jqxhr, settings, thrownError) {\n      console.log(event, jqxhr, settings, thrownError);\n    },\n\n    _sendRequest(method, options = {}) {\n      const error = options.error || this._defaultError;\n      const uri = this._uriPrefix + options.uri;\n      const params = options.params || {};\n      const callback = options.callback;\n      method(uri, params, callback).fail(error);\n    },\n\n    _get(options) {\n      //this._sendRequest(this._ajax.get, options);\n\n      /*  Fix for returning student_id in response.\n       *   Needed for powerfunction _printStudentProgressForSection to list progress for correct student.\n       */\n\n      const uri = this._uriPrefix + options.uri;\n      const params = options.params || {};\n      const callback = options.callback;\n      const customError = options.error;\n\n      $.ajax({\n        url: uri,\n        type: 'GET',\n        data: params,\n        success(response) {\n          if ('student_id' in params) {\n            response = response.map(el => {\n              el.student_id = params.student_id;\n              return el;\n            });\n          }\n          if (uri.includes('/groups/') && uri.includes('/users')) {\n            const groupId = uri.split('/groups/');\n            groupId = groupId[1].split('/users');\n            groupId = parseInt(groupId[0]);\n            response = response.map(el => {\n              el.group_id = groupId;\n              return el;\n            });\n          }\n          callback(response);\n        },\n        error(XMLHttpRequest, textStatus, errorThrown) {\n          console.log('Error during GET');\n          if(customError) {\n            customError(XMLHttpRequest.responseText);\n          }\n        }\n      });\n    },\n\n    _post(options) {\n      this._sendRequest(this._ajax.post, options);\n    },\n\n    _put(options) {\n      const uri = this._uriPrefix + options.uri;\n      const params = options.params || {};\n      const callback = options.callback;\n\n      $.ajax({\n        url: uri,\n        type: 'PUT',\n        data: params,\n        success(response) {\n          callback(response);\n        },\n        error(XMLHttpRequest, textStatus, errorThrown) {\n          console.log('Error during PUT');\n        }\n      });\n    },\n\n    _delete(options) {\n      const uri = this._uriPrefix + options.uri;\n      const params = options.params || {};\n      const callback = options.callback;\n\n      $.ajax({\n        url: uri,\n        type: 'DELETE',\n        data: params,\n        success(response) {\n          callback(response);\n        },\n        error(XMLHttpRequest, textStatus, errorThrown) {\n          console.log('Error during DELETE');\n        }\n      });\n    },\n\n    /*  FIXME for listModulesForCourse()\n     *  This function loads data in a blocking manner no matter how many items and modules are present.\n     *  This could potentially pose problems in the future, as page load time increases rapidly when\n     *  the number of requests are numerous. This function should be updated to use non-blocking loading\n     *  if Canvas is not updated to allow for better data loading through their API.\n     */\n    listModulesForCourse(callback, error, cid) {\n      let href = `/api/v1/courses/${cid}/modules?per_page=100`;\n      $.getJSON(href, modules => {\n        const noOfModules = modules.length;\n        let asyncsDone = 0;\n        modules.forEach((module, index) => {\n          const href = `/api/v1/courses/${cid}/modules/${\n            module.id\n          }/items?per_page=100`;\n          $.getJSON(\n            href,\n            (function(j) {\n              return function(items) {\n                modules[j].items = items;\n                asyncsDone++;\n\n                asyncsDone === noOfModules && callback(modules);\n              };\n            })(index) // calling the function with the current value\n          );\n        });\n      });\n    },\n    getCurrentModuleItemId() {\n      let moduleId;\n      const relativeUrl = location.pathname;\n      const patt = /\\/courses\\/\\d+\\/modules\\/items\\/\\d+$/;\n      const isRelativeUrlMatching = patt.test(relativeUrl);\n      if (isRelativeUrlMatching) {\n        const n = relativeUrl.lastIndexOf('/');\n        moduleId = relativeUrl.substring(n + 1);\n      } else {\n        const paramName = 'module_item_id';\n        const q = '' + this._location.search;\n        if (typeof q === 'undefined' || q.indexOf(paramName) == -1) return null;\n\n        moduleId = q.substring(\n          q.indexOf(paramName) + paramName.length + 1,\n          q.length\n        );\n        if (moduleId.indexOf('&') != -1)\n          moduleId = moduleId.substring(0, moduleId.indexOf('&'));\n      }\n      return parseInt(moduleId, 10);\n    },\n\n    getCurrentTypeAndContentId() {\n      const contentElementRegexp = /\\/courses\\/\\d+\\/\\w+\\/\\d+/;\n      const isContentRegexp = /\\/courses\\/\\d+\\/\\w+\\/\\.*/;\n\n      var type = null;\n      var contentId = null;\n\n      if (isContentRegexp.test('' + this._location.pathname)) {\n        const tmp = this._location.pathname.split('/');\n        if (tmp.length >= 4) {\n          type = _urlToTypeMapping[tmp[3]];\n        }\n      }\n\n      if (contentElementRegexp.test('' + this._location.pathname)) {\n        const tmp = this._location.pathname.split('/');\n        if (tmp.length >= 5) {\n          contentId = parseInt(tmp[4], 10);\n        }\n      }\n\n      return { contentId: contentId, type: type };\n    },\n\n    getAllCourses(callback, error) {\n      this._get({\n        callback: function(courses) {\n          const filteredCourses = courses.filter(\n            mmooc.util.filterSearchAllCourse\n          );\n          callback(filteredCourses);\n        },\n        error: error,\n        uri: '/search/all_courses',\n        params: { per_page: 999 }\n      });\n    },\n\n    getAllPublicCourses: function(callback, error) {\n      this._get({\n        callback: function(courses) {\n          var filteredCourses = courses.filter(\n            mmooc.util.filterSearchAllCourse\n          );\n          callback(filteredCourses);\n        },\n        error: error,\n        // if not authenticated, it displays only courses with Open Enrollment enabled\n        uri: '/search/all_courses?open_enrollment_only=true',\n        params: { per_page: 999 }\n      });\n    },\n\n    getEnrolledCourses: function(callback, error) {\n      // returns empty set if a user is not authenticated\n      if (!mmooc.util.isAuthenticated()) {\n        callback([]);\n        return false;\n      }\n\n      this._get({\n        callback: function(courses) {\n          if(mmooc.settings.filterCourses) { \n            const filteredCourses = courses.filter(mmooc.util.filterCourse);\n            callback(filteredCourses);\n          } else {\n            callback(courses);\n          }\n        },\n        error: error,\n        uri: '/courses',\n        params: {\n          include: ['syllabus_body', 'course_progress'],\n          per_page: '100'\n        }\n      });\n    },\n\n    /* FIXME Regarding include items: This parameter suggests that\n     * Canvas return module items directly in the Module object\n     * JSON, to avoid having to make separate API requests for\n     * each module when enumerating modules and items. Canvas is\n     * free to omit 'items' for any particular module if it deems\n     * them too numerous to return inline. Callers must be\n     * prepared to use the List Module Items API if items are not\n     * returned.\n     */\n    getModulesForCurrentCourse(callback, error) {\n      const courseId = this.getCurrentCourseId();\n      this.listModulesForCourse(callback, error, courseId);\n    },\n\n    getModulesForCourseId(callback, error, courseId) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/modules`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getItemsForModuleId(callback, error, courseId, moduleId, params) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/modules/${moduleId}/items`,\n        params: params\n      });\n    },\n\n    getCurrentCourseId() {\n      const currentUrl = '' + this._location.pathname;\n      return mmooc.utilRoot.getCourseIdFromUrl(currentUrl);\n    },\n    getModuleItemSequence(courseId, moduleItemId, callback, error) {\n      this._get({\n        callback: function(moduleItemSequence) {callback(courseId, moduleItemSequence)},\n        error: error,\n        uri: `/courses/${courseId}/module_item_sequence`,\n        params: { asset_id: moduleItemId, asset_type: \"ModuleItem\" }\n      });\n    },\n\n    getCourse(courseId, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}`,\n        params: {}\n      });\n    },\n    //Note that in newer versions of Canvas, worked on 8.2.2019.\n    //we can use ENV to check this.\n    isGroupDiscussion: function(courseId, contentId, callback) {\n        if (typeof ENV.DISCUSSION.IS_GROUP !== 'undefined') callback(ENV.DISCUSSION.IS_GROUP);\n\n        //Fallback for older versions.            \n        this.getDiscussionTopic(courseId, contentId, function(discussion) {\n            callback(discussion.group_category_id ? true : false);\n        });\n    },\n\n    getCurrentGroupId() {\n      const currentUrl = '' + this._location.pathname;\n      const matches = currentUrl.match(/\\/groups\\/(\\d+)/);\n      if (matches != null) {\n        return parseInt(matches[1], 10);\n      }\n      return null;\n    },\n\n    getGroup(groupId, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/groups/${groupId}`,\n        params: {}\n      });\n    },\n\n    getGroupMembers(groupId, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/groups/${groupId}/users`,\n        params: { include: ['avatar_url'], per_page: 999 }\n      });\n    },\n\n    getCurrentModuleForItemOrTypeAndContentId(\n      moduleItemId,\n      typeAndContentId,\n      callback,\n      error\n    ) {\n      this.getModulesForCurrentCourse(modules => {\n        let bCurrentItemFound = false;\n        let currentHeaderItem = null;\n        for (let i = 0; i < modules.length; i++) {\n          const module = modules[i];\n          const items = module.items;\n          let noOfItemsBelongingToThisHeaderDone = 0;\n          let noOfItemsBelongingToThisHeader = 0;\n          for (let j = 0; j < items.length; j++) {\n            const item = items[j];\n            //Need to check type and id for quiz and assignment items\n            const isCurrentModuleItem =\n              item.id == moduleItemId ||\n              (typeAndContentId != null &&\n                typeAndContentId.contentId == item.content_id &&\n                typeAndContentId.type == item.type);\n            if (isCurrentModuleItem) {\n              item.isCurrent = true;\n              bCurrentItemFound = true;\n              if (currentHeaderItem) {\n                currentHeaderItem.isCurrentHeader = true;\n              }\n            }\n            //Need to check for subheaders to support collapsible elements in the menu.\n            if (item.type == 'SubHeader') {\n              //Need to know if headeritem icon should be green.\n              if (\n                currentHeaderItem &&\n                noOfItemsBelongingToThisHeader ==\n                  noOfItemsBelongingToThisHeaderDone\n              ) {\n                currentHeaderItem.done = true;\n              }\n              currentHeaderItem = item;\n              noOfItemsBelongingToThisHeaderDone = 0;\n              noOfItemsBelongingToThisHeader = 0;\n            } else {\n              noOfItemsBelongingToThisHeader++;\n            }\n\n            //Keep track of number of items passed.\n            if (item.completion_requirement) {\n              if (item.completion_requirement.completed) {\n                noOfItemsBelongingToThisHeaderDone++;\n              }\n            }\n          }\n          //Have to check if the last header item is passed.\n          if (\n            currentHeaderItem &&\n            noOfItemsBelongingToThisHeader == noOfItemsBelongingToThisHeaderDone\n          ) {\n            currentHeaderItem.passed = true;\n          }\n\n          //Callback and return when we've found the current item.\n          if (bCurrentItemFound) {\n            callback(module);\n            return;\n          }\n        }\n      }, error);\n    },\n\n    //To find which module a group discussion belongs to, we need to\n    //1. Get the group discussion\n    //2. Get the group category\n    //3. Get the root discussion\n    //4. Get the module\n    //A group discussion has a location like this:\n    //https://beta.matematikk.mooc.no/groups/361/discussion_topics/79006\n    getCurrentModuleItemForGroupDiscussion(callback, error) {\n      const regexp = /\\/groups\\/\\d+\\/discussion_topics\\/\\d+/;\n      let tmp;\n      let groupId;\n      let groupTopicId;\n\n      //Extract groupId and groupTopicId\n      if (regexp.test('' + this._location.pathname)) {\n        tmp = this._location.pathname.split('/');\n        if (tmp.length >= 5) {\n          groupTopicId = tmp[4];\n          groupId = tmp[2];\n        }\n      }\n      if (groupTopicId == null) return;\n\n      //https://beta.matematikk.mooc.no/api/v1/groups/361/discussion_topics/79006\n      //Need to keep track of this to access it inside the inline functions below.\n      const _this = this;\n      this.getSpecificGroupDiscussionTopic(\n        groupId,\n        groupTopicId,\n        groupDiscussion => {\n          _this.getUserGroups(groups => {\n            for (let i = 0; i < groups.length; i++) {\n              if (groups[i].id == groupId) {\n                const moduleItemId = null;\n                const currentTypeAndContentId = {\n                  contentId: groupDiscussion.root_topic_id,\n                  type: 'Discussion'\n                };\n                _this.getCurrentModuleForItemOrTypeAndContentId(\n                  moduleItemId,\n                  currentTypeAndContentId,\n                  callback,\n                  error\n                );\n                break; //We found the correct group, no need to check the rest.\n              }\n            } //end for all the groups\n          }); //getUserGroups\n        }\n      ); //getSpecificGroupDiscussionTopic\n    },\n\n    getCurrentModule(callback, error) {\n      const currentModuleItemId = this.getCurrentModuleItemId();\n      let currentTypeAndContentId = null;\n      let bFound = true;\n      //Quizzes and assignments does not have module item id in URL\n      if (currentModuleItemId == null) {\n        currentTypeAndContentId = this.getCurrentTypeAndContentId();\n\n        //If we haven't found what we want by now, it must be a group discussion\n        if (currentTypeAndContentId == null) {\n          bFound = false;\n          this.getCurrentModuleItemForGroupDiscussion(callback, error);\n        }\n      }\n\n      if (bFound) {\n        this.getCurrentModuleForItemOrTypeAndContentId(\n          currentModuleItemId,\n          currentTypeAndContentId,\n          callback,\n          error\n        );\n      }\n    },\n\n    getLocale() {\n      return this._env.LOCALE;\n    },\n\n    usesFrontPage() {\n      return this._env.COURSE.default_view == 'wiki';\n    },\n\n    getRoles() {\n      return this._env.current_user_roles;\n    },\n\n    getUser() {\n      return this._env.current_user;\n    },\n\n    getUserProfile(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/users/self/profile',\n        params: {}\n      });\n    },\n    getActivityStreamForUser(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/users/self/activity_stream',\n        params: {}\n      });\n    },\n\n    currentPageIsAnnouncement() {\n      return (\n        $('#section-tabs')\n          .find('a.announcements.active')\n          .size() == 1\n      );\n    },\n\n    currentPageIsModuleItem() {\n      if (\n        this.getCurrentModuleItemId() != null ||\n        this.getCurrentTypeAndContentId() != null\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    //20180914ETH Inbox unread count used the DOM, but Canvas updates the DOM asynchronously, causing\n    //            the value to be 0 if our code ran to early. Use the API instead.\n    getUnreadMessageSize(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/conversations/unread_count',\n        params: {}\n      });\n    },\n    //api/v1/search/recipients?search=&per_page=20&permissions[]=send_messages_all&messageable_only=true&synthetic_contexts=true&context=course_1_sections\n    //[{\"id\":\"section_4\",\"name\":\"Test 1\",\"avatar_url\":\"http://localhost/images/messages/avatar-group-50.png\",\"type\":\"context\",\"user_count\":2,\"permissions\":{\"send_messages_all\":true,\"send_messages\":true}}]\n    getSectionRecipients(courseId, callback, error) {\n      const recipientsContext = `course_${courseId}_sections`;\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/search/recipients',\n        params: {\n          permissions: ['send_messages_all'],\n          messageable_only: true,\n          synthetic_contexts: true,\n          context: recipientsContext,\n          per_page: 999\n        }\n      });\n    },\n\n    /*\n        from_conversation_id:\nmode: async\nscope:\nfilter:\ngroup_conversation: true\ncourse: course_1\ncontext_code: course_1\nrecipients[]: section_6\nsubject: Test\nbulk_message: 0\nuser_note: 0\nmedia_comment_id:\nmedia_comment_type:\nbody: test\n*/\n\n    postMessageToConversation(\n      courseId,\n      recipient,\n      subject,\n      body,\n      callback,\n      error\n    ) {\n      const courseContext = `course_${courseId}`;\n      this._post({\n        callback: callback,\n        error: error,\n        uri: '/conversations',\n        params: {\n          course: courseContext,\n          recipients: [recipient],\n          subject: subject,\n          body: body\n        }\n      });\n    },\n\n    getAccounts(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/accounts',\n        params: {}\n      });\n    },\n\n    getUsersForAccount(account, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/accounts/${account}/users`,\n        params: {}\n      });\n    },\n    getCoursesForAccount(account, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/accounts/${account}/courses`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getCoursesForUser(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/courses',\n        params: { per_page: 999 }\n      });\n    },\n\n    getGroupCategoriesForAccount(account, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/accounts/${account}/group_categories`,\n        params: {}\n      });\n    },\n\n    getGroupCategoriesForCourse(course, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${course}/group_categories`,\n        params: { per_page: 999 }\n      });\n    },\n\n    // Recursively fetch all groups by following the next links\n    // found in the Links response header:\n    // https://canvas.instructure.com/doc/api/file.pagination.html\n    _getGroupsForAccountHelper(accumulatedGroups, callback, error) {\n      const that = this;\n      return (groups, status, xhr) => {\n        Array.prototype.push.apply(accumulatedGroups, groups);\n        const next = xhr\n          .getResponseHeader('Link')\n          .split(',')\n          .find(e => {\n            return e.match('rel=\"next\"');\n          });\n        if (next === undefined) {\n          callback(accumulatedGroups);\n        } else {\n          const fullURI = next.match('<([^>]+)>')[1];\n          that._get({\n            callback: that._getGroupsForAccountHelper(\n              accumulatedGroups,\n              callback,\n              error\n            ),\n            error: error,\n            uri: fullURI.split('api/v1')[1],\n            params: {}\n          });\n        }\n      };\n    },\n\n    getGroupsForAccount(account, callback, error) {\n      this._get({\n        callback: this._getGroupsForAccountHelper([], callback, error),\n        error: error,\n        uri: `/accounts/${account}/groups`,\n        params: { per_page: 999 }\n      });\n    },\n\n    // /api/v1/group_categories/:group_category_id\n    getGroupCategory(categoryID, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/group_categories/${categoryID}`,\n        params: {}\n      });\n    },\n\n    // /api/v1/group_categories/:group_category_id/groups\n    getGroupsInCategory(categoryID, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/group_categories/${categoryID}/groups`,\n        params: { per_page: 999 }\n      });\n    },\n\n    // /api/v1/courses/:course_id/groups\n    getGroupsInCourse(courseID, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseID}/groups`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getUserGroups(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/users/self/groups',\n        params: { per_page: 999 }\n      });\n    },\n    getUserGroupsForCourse(courseId, callback, error) {\n      this.getUserGroups(groups => {\n          let usersGroups = [];\n          for (let i = 0; i < groups.length; i++) {\n            const group = groups[i];\n            if (group.course_id == courseId) {\n              usersGroups.push(group);\n            }\n          }\n          callback(usersGroups);\n        }\n      );\n    },\n\n    // /api/v1/courses/:course_id/sections\n    getSectionsForCourse(courseID, params, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseID}/sections`,\n        params: params\n      });\n    },\n\n    // /api/v1/sections/:section_id\n    getSingleSection(sectionID, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/sections/${sectionID}`,\n        params: {}\n      });\n    },\n\n    // /api/v1/courses/54/assignments/369\n    getSingleAssignment(courseId, assignmentId, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/assignments/${assignmentId}`,\n        // \"params\": {\"include\": [\"submission\", \"assignment_visibility\", \"overrides\", \"observed_users\"]},\n        params: {}\n      });\n    },\n\n    // /api/v1/courses/:course_id/assignments\n    getAssignmentsForCourse(courseId, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/assignments`,\n        params: { per_page: 999 }\n      });\n    },\n    getPagesForCourse(courseId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/pages`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getDiscussionTopicsForCourse(courseId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/discussion_topics`,\n        params: { per_page: 999 }\n      });\n    },\n    getQuizzesForCourse(courseId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/quizzes`,\n        params: { per_page: 999 }\n      });\n    },\n\n    // /api/v1/courses/54/assignments/369/submissions/1725\n    getSingleSubmissionForUser(\n      courseId,\n      assignmentId,\n      user_id,\n      callback,\n      error\n    ) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/assignments/${assignmentId}/submissions/${user_id}`,\n        params: {\n          include: [\n            'submission_history',\n            'submission_comments',\n            'rubric_assessment',\n            'visibility',\n            'course',\n            'user'\n          ]\n        }\n        // \"params\": {\"include\": [\"rubric_assessment\", \"visibility\"]},\n      });\n    },\n\n    // /api/v1/courses/7/assignments/11/submissions/4/peer_reviews\n    // This API displays info about who has the peer review for a specific submissionID which is the id property on the submission object (different from user id)\n    getPeerReviewsForSubmissionId(\n      courseId,\n      assignmentId,\n      submission_id,\n      callback,\n      error\n    ) {\n      // Returns only the student's peer reviews if you are a student. Returns all peer reviews if you are a teacher or admin\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/assignments/${assignmentId}/submissions/${submission_id}/peer_reviews`,\n        // \"params\": {\"include\": [\"submission_comments\", \"user\"]},\n        params: { include: ['user'] }\n      });\n    },\n\n    // /api/v1/courses/:course_id/assignments/:assignment_id/peer_reviews\n    getPeerReviewsForAssignment(courseId, assignmentId, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/assignments/${assignmentId}/peer_reviews`,\n        params: { include: ['user'] }\n      });\n    },\n\n    createPeerReview(\n      courseID,\n      assignmentID,\n      submissionID,\n      userID,\n      callback,\n      error\n    ) {\n      this._post({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseID}/assignments/${assignmentID}/submissions/${submissionID}/peer_reviews`,\n        params: { user_id: userID }\n      });\n    },\n\n    //https://kurs.iktsenteret.no/api/v1/courses/41/enrollments?enrollment%5Bself_enrollment_code%5D=WJTLML&enrollment%5Buser_id%5D=self\n    enrollUser(enrollAction, callback) {\n      const jqxhr = $.post(enrollAction, data => {\n        callback(data);\n      });\n    },\n    /*\nuri = sprintf(\"/api/v1/courses/%d/enrollments\", cid)\ndbg(uri)\n$canvas.post(uri, {'enrollment[user_id]' => user_id, 'enrollment[type]' => etype,\n\t'enrollment[enrollment_state]' => \"active\"})\n*/\n    enrollUserIdInSection(userId, sectionId, etype, callback, error) {\n      this._post({\n        callback: callback,\n        error: error,\n        uri: `/sections/${sectionId}/enrollments/`,\n        params: {\n          'enrollment[user_id]': userId,\n          'enrollment[type]': etype,\n          'enrollment[enrollment_state]': 'active',\n          'enrollment[limit_privileges_to_course_section]': true\n        }\n      });\n      return true;\n    },\n    createGroup(categoryId, groupName, callback, error) {\n      this._post({\n        callback: callback,\n        error: error,\n        uri: `/group_categories/${categoryId}/groups`,\n        params: {\n          name: groupName\n        }\n      });\n    },\n    createSection(courseId, sectionName, callback, error) {\n      this._post({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/sections`,\n        params: {\n          'course_section[name]': sectionName\n        }\n      });\n    },\n\n    createGroupMembership(gid, uid, callback, error) {\n      this._post({\n        callback: callback,\n        error: error,\n        uri: `/groups/${gid}/memberships`,\n        params: { user_id: uid }\n      });\n    },\n\n    createUserLogin(params, callback, error) {\n      const account_id = params.account_id;\n      delete params.account_id;\n      this._post({\n        callback: callback,\n        error: error,\n        uri: `/accounts/${account_id}/logins`,\n        params: params\n      });\n    },\n\n    getDiscussionTopic(courseId, contentId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/discussion_topics/${contentId}`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getQuiz(courseId, contentId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/quizzes/${contentId}`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getSpecificGroupDiscussionTopic(groupId, contentId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/groups/${groupId}/discussion_topics/${contentId}`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getGroupDiscussionTopics(contentId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/groups/${contentId}/discussion_topics/`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getAnnouncementsForCourse(courseId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/discussion_topics`,\n        params: { only_announcements: true, per_page: 999 }\n      });\n    },\n\n    getEnrollmentsForCourse(courseId, params, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/enrollments`,\n        params: params\n      });\n    },\n    getEnrollmentsForSection(sectionId, params, callback) {\n      this._get({\n        callback: callback,\n        uri: `/sections/${sectionId}/enrollments`,\n        params: params\n      });\n    },\n    getUsersEnrollmentsForCourse(courseId, callback) {\n      this._get({\n        callback: courses => {\n          const filteredCourses = courses.filter(\n            course => course.course_id == courseId\n          );\n          callback(filteredCourses);\n        },\n        uri: `/users/self/enrollments`,\n        params: {per_page: 999}\n      });\n    },\n    getEnrollmentsForSection(sectionId, params, callback) {\n      this._get({\n        callback: callback,\n        uri: `/sections/${sectionId}/enrollments`,\n        params: params\n      });\n    },\n    deleteUserCustomData(callback) {\n      this._delete({\n        callback: callback,\n        uri: `/users/self/custom_data`,\n        params: {  \n          \"ns\": \"no.udir.kompetanse\"\n        }\n      });\n    },\n\n    saveUserCustomData(privacyPolicyVersion, callback) {\n      this._put({\n        callback: callback,\n        uri: `/users/self/custom_data`,\n        params: {  \n          \"ns\": \"no.udir.kompetanse\",\n          \"data\": {\n            \"privacyPolicyVersion\": privacyPolicyVersion,\n          }\n        }\n      });\n    },\n\n    saveUserPrivacyPolicyVersion(privacyPolicyVersion, callback) {\n      this.saveUserCustomData(privacyPolicyVersion, callback);\n    },\n\n    loadUserCustomData(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/users/self/custom_data`,\n        params: {  \n          \"ns\": \"no.udir.kompetanse\",\n        }\n      });\n    },\n\n    loadUserPrivacyPolicyVersion(callback, error) {\n      this.loadUserCustomData(callback, error);\n    },\n\n    getCaledarEvents(params, callback) {\n      this._get({\n        callback: callback,\n        uri: '/calendar_events/',\n        params: params\n      });\n    },\n\n    //To be used later when displaying info about unread discussion comments.\n    // getDiscussionTopics(courseId, callback) {\n    //     this._get({\n    //         \"callback\": callback,\n    //         \"uri\": `/courses/${courseId}/discussion_topics`,\n    //         \"params\": { per_page: 999 },\n    //     });\n    // },\n\n    markDiscussionTopicAsRead(courseId, contentId, callback) {\n      this._put({\n        callback: callback,\n        uri: `/courses/${courseId}/discussion_topics/${contentId}/read_all`,\n        params: { forced_read_state: 'false' }\n      });\n    }\n  };\n})();\n\nif (typeof module !== 'undefined' && module !== null) {\n  module.exports = this.mmooc.api;\n}\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.hrefQueryString = \"?design=udir\";\nthis.mmooc.hrefAmpQueryString = \"&design=udir\";\n\nthis.mmooc.settingsRoot = {\n    feideEnrollRefferers: [\n      \"design=udir\",\n      \"enroll_code\",\n      \"kslaring.no\"\n    ],\n    kpasApiUrl: '$KPASAPIURL'\n};\n\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.utilRoot = function() {\n  return {\n    _env: typeof ENV !== 'undefined' ? ENV : {},\n    getRoles : function() {\n      return this._env.current_user_roles;\n    },\n    isAuthenticated : function () {\n      return this.getRoles() !== null;\n    },\n    getLinkToMyCourses: function () {\n        var linkToMyCourses = \"/courses\" + mmooc.hrefQueryString;\n        return linkToMyCourses;\n    },\n\n    //Support IE 11\n    parse_query_string : function(query) {\n      var vars = query.split(\"&\");\n      var query_string = {};\n      for (var i = 0; i < vars.length; i++) {\n        var pair = vars[i].split(\"=\");\n        var key = decodeURIComponent(pair[0]);\n        var value = decodeURIComponent(pair[1]);\n        // If first entry with this name\n        if (typeof query_string[key] === \"undefined\") {\n          query_string[key] = decodeURIComponent(value);\n          // If second entry with this name\n        } else if (typeof query_string[key] === \"string\") {\n          var arr = [query_string[key], decodeURIComponent(value)];\n          query_string[key] = arr;\n          // If third or later entry with this name\n        } else {\n          query_string[key].push(decodeURIComponent(value));\n        }\n      }\n      return query_string;\n    },\n    urlParamsToObject: function() {\n      if (document.location.search === '') return {};\n\n      const search = location.search.substring(1);\n      return mmooc.utilRoot.parse_query_string(search);\n    },\n    checkReferrer:function(ref) {\n       return document.referrer.includes(ref);\n    },\n\n    isEnrollReferrer: function() {\n      const permittedReferrers = mmooc.settingsRoot.feideEnrollRefferers;\n      const hasPermittedRefferer = permittedReferrers.some(mmooc.utilRoot.checkReferrer);\n\n      if( !mmooc.utilRoot.isAuthenticated() && hasPermittedRefferer) {\n        return true;\n      }\n      return false;\n    },\n    redirectFeideAuthIfEnrollReferrer: function() {\n      // Checks if we hit the /canvas/login from Feide Enroll pages\n      // If we go from permitted refferer, we redirect to Feide auth\n      // when page user is unauthenticated and does not provide `?normalLogin` param\n      if(mmooc.utilRoot.isEnrollReferrer()) {\n        if(document.location.search.includes(\"normalLogin=1\")) {\n            $(\"#content > div > div > div > div > div.ic-Login-header > div.ic-Login-header__links\").hide();\n        }\n        else {\n           window.location.href = '/login/saml/2';\n           return true;\n        }\n      }\n      return false;\n    },\n    isEnrollCodeParamPassed: function(urlParamsObj) {\n        const enrollCode = urlParamsObj && urlParamsObj['enroll_code'];\n        if (enrollCode !== undefined) {\n            return enrollCode;\n        }\n        return null;\n    },\n    isLoginParamPassed: function(urlParamsObj) {\n        const login = urlParamsObj && urlParamsObj['login'];\n        if (login !== undefined) {\n            return true;\n        }\n        return false;    \n    },\n    triggerForgotPasswordIfParamPassed: function() {\n      const params = this.urlParamsToObject();\n      if (params['gp'] !== undefined) {\n        $('#login_forgot_password').click();\n      }\n    },\n    redirectToEnrollIfCodeParamPassed: function() {\n      // If user wanted to enroll a course using Feide auth,\n      // then was returned from SAML login view, we redirect to proper enrollment page\n      if (document.location.search !== '') {\n        const urlParamsObj = mmooc.utilRoot.urlParamsToObject();\n        var enrollCode = mmooc.utilRoot.isEnrollCodeParamPassed(urlParamsObj);\n        var design = urlParamsObj && urlParamsObj['design'];\n        if (enrollCode) {\n          var newHref = \"/enroll/\" + enrollCode;  // + mmooc.hrefQueryString;\n          if(design) {\n            newHref += \"?design=\" + design; \n          }\n          window.location.href = newHref;\n          return true;\n        }\n        if (mmooc.utilRoot.isLoginParamPassed(urlParamsObj)) {\n          const linkToMyCourses = mmooc.utilRoot.getLinkToMyCourses();\n          window.location.href = linkToMyCourses;\n          return true;\n        }\n      }\n      return false;\n    },\n\n    redirectToSamlIfUdirCourse: function(kpasApiUrl){\n      try {\n        if(!mmooc.utilRoot.isAuthenticated()) {\n          const currentUrl = '' + window.location.pathname;\n          const currentCourseId = mmooc.utilRoot.getCourseIdFromUrl(currentUrl);\n          mmooc.utilRoot.isDeepLinkToUdirCourse(currentCourseId, kpasApiUrl).then( (result) => {\n                if (result) {\n                  window.location = \"/login/saml/2\";\n                  return true;\n                }else{\n                  return false;\n                }\n              }\n          )\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    /*isDeepLinkToUdirCourse: async function(currentCourseId, kpasApiUrl) {\n\n      let requestResult = undefined;\n\n      if (currentCourseId) {\n        await $.getJSON(kpasApiUrl + \"course/\" + currentCourseId + \"/isudircourse\", function(data) {\n          requestResult = data.result;\n        });\n      } else {\n        return false;\n      }\n      return requestResult;\n\n    },*/\n    getCourseIdFromUrl : function(currentUrl) {\n      const matches = currentUrl.match(/\\/courses\\/(\\d+)/);\n      if (matches != null) {\n        return parseInt(matches[1], 10);\n      } else if (this._env.group) {\n        // Group pages does not contain course id in URL, but is available via JavaScript variable\n        return this._env.group.context_id;\n      } else if ($('#discussion_container').size() > 0) {\n        const tmp = $(\n            '#discussion_topic div.entry-content header div div.pull-left span a'\n        );\n        if (tmp.length) {\n          const tmpHref = tmp.attr('href');\n          if (tmpHref.length) {\n            const tmpHrefArr = tmpHref.split('/');\n            if (tmpHrefArr.length == 3) {\n              return parseInt(tmpHrefArr[2], 10);\n            }\n          }\n        }\n      }\n      return null;\n    }\n  }\n}();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.announcements = (() => {\n  const hideMarkAsReadButton = () => {\n    $('#markAllAsReadButton').hide();\n    mmooc.menu.updateNotificationsForUser();\n  };\n\n  return {\n    addMarkAsReadButton() {\n      const contentId = mmooc.api.getCurrentTypeAndContentId().contentId;\n      const courseId = mmooc.api.getCurrentCourseId();\n      mmooc.api.getDiscussionTopic(courseId, contentId, discussionTopic => {\n        if (discussionTopic.read_state !== 'read') {\n          const buttonHTML = mmooc.util.renderTemplateWithData('actionbutton', {\n            id: 'markAllAsReadButton',\n            title: 'Marker som lest'\n          });\n          document\n            .getElementById('content-wrapper')\n            .insertAdjacentHTML('afterbegin', buttonHTML);\n          $('#markAllAsReadButton').click(() => {\n            mmooc.api.markDiscussionTopicAsRead(\n              courseId,\n              contentId,\n              hideMarkAsReadButton\n            );\n          });\n        }\n      });\n    },\n    printAnnouncementsUnreadCount() {\n      const courseId = mmooc.api.getCurrentCourseId();\n      mmooc.api.getAnnouncementsForCourse(courseId, announcements => {\n        let totalUnread = 0;\n        announcements.forEach(announcement => {\n          if (\n            announcement.read_state == 'unread' ||\n            announcement.unread_count > 0\n          )\n            totalUnread++;\n        });\n        totalUnread > 0 &&\n          mmooc.announcements.printUnreadCountInTab(totalUnread);\n      });\n    },\n    printUnreadCountInTab(totalUnread) {\n      $('.mmooc-course-tab a').each(function() {\n        $(this).text() == 'Kunngjøringer' &&\n          $(this)\n            .parent()\n            .append(\n              `<span class='discussion-unread-value discussion-unread-tab'>${totalUnread}</span>`\n            );\n        }\n      );\n    },\n    setAnnouncementsListUnreadClass() {\n      const checkExist = setInterval(() => {\n        if (\n          $('body.announcements .discussionTopicIndexList .discussion-topic')\n            .length\n        ) {\n          clearInterval(checkExist);\n          $(\n            'body.announcements .discussionTopicIndexList .discussion-topic'\n          ).each(() => {\n            const unread = $(this)\n              .find('.new-items')\n              .attr('title');\n            if (unread.indexOf('Ingen uleste svar.') == -1) {\n              $(this).addClass('unread');\n              $(this).removeClass('read');\n            }\n          });\n        }\n      }, 100);\n    }\n  };\n})();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.badges = (() => {\n  const resizeIframe = () => {\n    mmooc.util.adaptHeightToIframeContentForId(\n      'tool_content_wrapper',\n      'tool_content'\n    );\n  };\n  return {\n    initPage() {\n      resizeIframe();\n      let resizeTimer;\n      $(window).resize(() => {\n        clearTimeout(resizeTimer);\n        resizeTimer = setTimeout(resizeIframe, 42);\n      });\n    },\n    claimBadge(OpenBadges, urls, callBack) {\n      OpenBadges.issue_no_modal(urls, callBack);\n    }\n  };\n})();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.courseList = (() => {\n  return {\n    listCourses(parentId, callback) {\n      if (document.getElementsByClassName('reaccept_terms').length === 0) {\n        let htmlLoading = `<div class='mmooc-loader-wrapper'><span class='loading-gif'></span></div>`;\n        $(`#${parentId}`).html(htmlLoading); //overwrite the contents in parentID and display: 'Laster kurs....'\n\n        mmooc.api.getEnrolledCourses(courses => {\n          $('.mmooc-loader-wrapper').remove();\n\n          const $oldContent = $(`#${parentId}`).children(); //After an update the 'Add course button' is in #content including a popupform. So we need to move this to another place in the DOM so we don't overwrite it.\n          $oldContent.appendTo('#right-side-wrapper #right-side');\n          let html = '';\n          let linkToAvailableCourses = mmooc.util.getLinkToAvailableCourses(); \n          if (courses.length == 0) {\n            html = `<h1>Mine ${mmooc.i18n.CoursePlural.toLowerCase()}</h1><p>${\n              mmooc.i18n.NoEnrollments\n            }</p><a class='btn' href='${linkToAvailableCourses}'>Se tilgjengelige ${mmooc.i18n.CoursePlural.toLowerCase()}</a>`;\n            $(`#${parentId}`).html(html);\n          } else {\n            html = mmooc.util.renderTemplateWithData('courselistcontainer', {\n              courseLabel: mmooc.i18n.CoursePlural.toLowerCase(),\n              queryString: mmooc.hrefQueryString\n            });\n            $(`#${parentId}`).html(html);\n            /*\n            const sortedCourses = mmooc.util.arraySorted(\n              courses,\n              'course_code'\n            );\n            */\n            const sortedCourses = mmooc.util.sortCourses(courses);\n            const categorys = mmooc.util.getCourseCategories(sortedCourses);\n            const coursesCategorized = mmooc.util.getCoursesCategorized(\n              sortedCourses,\n              categorys\n            );\n\n            coursesCategorized.forEach(course => {\n              html = mmooc.util.renderTemplateWithData('courselist', {\n                title: course.title,\n                courses: course.courses,\n                courseLabel: mmooc.i18n.Course.toLowerCase()\n              });\n              $('.mmooc-course-list-container').append(html);\n            });\n            mmooc.util.updateProgressForRoleBasedCourses(courses);\n          }\n          document.title = mmooc.i18n.CoursePlural;\n\n          $.isFunction(callback) && callback();\n        });\n      } else {\n        html = mmooc.util.renderTemplateWithData('enrollprivacypolicy', {\n          privacypolicylink: mmooc.settings.privacyPolicyLink\n        });\n  \n        $(\".terms_of_service_link\").html(html);\n      }\n    },\n    showAddCourseButton() {\n      // Move canvas Start new course button, since we hide its original location\n      const $button = $('#start_new_course');\n      if ($button.length) {\n        $('#content').append($button);\n        $button.html(mmooc.i18n.AddACourse);\n      }\n    },\n    showFilter(sortedCourses) {\n      // Show filter options based on first part of course code\n      const filterOptions = ['Alle'];\n      $(sortedCourses).each(index => {\n        const values = sortedCourses[index].course_code.split('::');\n        if (values.length > 1) {\n          if (filterOptions.indexOf(values[0]) == -1)\n            filterOptions.push(values[0]);\n        }\n      });\n      filterOptions.push('Andre');\n      const options = '';\n      filterOptions.forEach(option => {\n        options += `<option value=\"${option}\">${option}</option>`;\n      });\n      $('#filter').append(options);\n    },\n    applyFilter(sortedCourses) {\n      if ($('#filter').val() == 'Alle') {\n        $(sortedCourses).each(function() {\n          $(`#course_${this.id}`).show();\n        });\n      } else if ($('#filter').val() == 'Andre') {\n        $(sortedCourses).each(() => {\n          if (this.course_code.indexOf('::') >= 0) {\n            $(`#course_${this.id}`).hide();\n          } else {\n            $(`#course_${this.id}`).show();\n          }\n        });\n      } else {\n        $(sortedCourses).each(() => {\n          const courseCode = this.course_code.split('::')[0];\n          if ($('#filter').val() == courseCode) {\n            $(`#course_${this.id}`).show();\n          } else {\n            $(`#course_${this.id}`).hide();\n          }\n        });\n      }\n    },\n    isCourseCompleted(modules) {\n      for (let i = 0; i < modules.length; i++) {\n        const module = modules[i];\n        for (let j = 0; j < module.items.length; j++) {\n          const item = module.items[j];\n          if (\n            item.completion_requirement &&\n            !item.completion_requirement.completed\n          ) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n  };\n})();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.coursePage = (function() {\n  return {\n    showCourseInvitation: function () {\n      if (!mmooc.util.isAuthenticated()) {\n        var enrollButton = $(\".course_enrollment_link\");\n        var linkToSelectedCourse = window.location.href.split('/');\n        var selectedCourseId = linkToSelectedCourse[linkToSelectedCourse.length - 1];\n\n        if (enrollButton) {\n          enrollButton.text(mmooc.i18n.EnrollButton);\n          enrollButton.click(function (e) {\n            e.preventDefault();\n                  window.location.href = '/search/all_courses' + mmooc.hrefQueryString + '#' + selectedCourseId;\n          })\n        }\n      }\n    },\n    listModulesAndShowProgressBar: function() {\n      mmooc.api.getModulesForCurrentCourse(function(modules) {\n        var progressHTML = \"\";\n        var modulesHTML = \"\";\n        if(mmooc.util.isActiveCourseRoleBased() && mmooc.util.isPrincipal())\n        {\n          progressHTML = mmooc.util.renderTemplateWithData('courseprogress', {\n            title: mmooc.i18n.CourseProgressionTitle,\n            modules: modules\n          });\n          modulesHTML = mmooc.util.renderTemplateWithData('modulesprincipal', {\n            navname: mmooc.i18n.GoToModule,\n            coursemodules: mmooc.i18n.ModulePlural,\n            modules: modules,\n            course: mmooc.util.course\n          });\n        }\n        else {\n          progressHTML = mmooc.util.renderTemplateWithData('courseprogressforstudent', {\n            title: mmooc.i18n.CourseProgressionTitle,\n            modules: modules\n          });\n          modulesHTML = mmooc.util.renderTemplateWithData('modules', {\n            navname: mmooc.i18n.GoToModule,\n            coursemodules: mmooc.i18n.ModulePlural,\n            modules: modules,\n            course: mmooc.util.course\n          });\n        }\n        \n        if(mmooc.util.isMMOOCLicense()) {\n          mmooc.footer.addLicenseInFooter();\n        }\n\n        document\n          .getElementById('course_home_content')\n          .insertAdjacentHTML('beforebegin', progressHTML);\n\n        document\n          .getElementById('course_home_content')\n          .insertAdjacentHTML('beforebegin', modulesHTML);\n\n        mmooc.multilanguage.perform();\n  \n        //Canvas case: Slow loading for group discussions when large number of groups Case # 05035288 \n        //Display popup box when loading\n        mmooc.util.postModuleCoursePageProcessing();\n\n        mmooc.discussionTopics.printDiscussionUnreadCount(\n          modules,\n          'coursepage'\n        );\n      });\n    },\n    hideCourseInvitationsForAllUsers: function() {\n      var acceptanceTextToSearchFor = 'invitert til å delta';\n      //If .ic-notification__message contains 'Invitert til å delta' så skjul nærmeste parent .ic-notification\n      $(\n        \".ic-notification__message.notification_message:contains('\" +\n          acceptanceTextToSearchFor +\n          \"')\"\n      )\n        .closest('.ic-notification.ic-notification--success')\n        .hide();\n\n      var acceptanceFlashTextToSearchFor = 'delta i dette kurset';\n\n      $(\n        \"ul#flash_message_holder li:contains('\" +\n          acceptanceFlashTextToSearchFor +\n          \"')\"\n      ).hide();\n    },\n\n    //Until Canvas has corrected the translation of drop course to something else than \"slipp emnet\", we override the functionality.\n    overrideUnregisterDialog: function() {\n      var selfUnenrollmentButton = $('.self_unenrollment_link');\n      var selfUnenrollmentDialog = $('#self_unenrollment_dialog');\n      if (selfUnenrollmentButton.length) {\n        selfUnenrollmentButton.text(\n          selfUnenrollmentButton\n            .text()\n            .replace('Slipp dette emnet', mmooc.i18n.DropCourse)\n        );\n        //                selfUnenrollmentButton.off(); //Prevent default presentation of the dialog with incorrect translation.\n        selfUnenrollmentButton.on('click', function(e) {\n          setTimeout(function() {\n            $('#ui-id-1').html(mmooc.i18n.DropCourse);\n          }, 200);\n        });\n      }\n      if (selfUnenrollmentDialog.length) {\n        selfUnenrollmentDialog.find('h2').hide();\n        selfUnenrollmentDialog.find('.button-container a span').text('OK');\n        selfUnenrollmentDialog.find('.button-container a i').hide(); //Hide x at beginning of OK button\n\n        //Hide default dialog text\n        $('#self_unenrollment_dialog')\n          .contents()\n          .filter(function() {\n            return this.nodeType == 3;\n          })\n          .each(function() {\n            this.textContent = '';\n          });\n        //Add our dialog text\n        $('#self_unenrollment_dialog').prepend(\n          '<div/><p/><p>' +\n            mmooc.i18n.DropCourseDialogText +\n            \"<span class='unenroll_dialog_sad'></span><p>\" +\n            mmooc.i18n.JoinCourseDialogText +\n            \"<span class='unenroll_dialog_happy'></span></p>\"\n        );\n      }\n    },\n\n    replaceUpcomingInSidebar: function() {\n      var coming_up = $('body.home .coming_up');\n      if (!coming_up.length) {\n        return false;\n      }\n      coming_up.replaceWith(\n        \"<div class='deadlines-container'>\" +\n          '<h2>' +\n          mmooc.i18n.eventsAndDeadlinesTitle +\n          '</h2>' +\n          \"<div class='deadlines-scroll-up'></div>\" +\n          \"<div class='deadlines-list'></div>\" +\n          \"<div class='deadlines-scroll-down'></div>\" +\n          '</div>'\n      );\n      return true;\n    },\n    _displayDeadlines: function(allDeadlines) {\n      allDeadlines.sort(function(a, b) {\n        return a.date - b.date;\n      });\n      var weekday = [];\n      var month = [];\n      var html = '<table>';\n      for (var i = 0; i < allDeadlines.length; i++) {\n        var monthName = mmooc.util.getMonthShortName(allDeadlines[i].date);\n        if ('url' in allDeadlines[i]) {\n          html +=\n            \"<tr id='deadline-\" +\n            i +\n            \"'><div></div><td class='deadline-date'>\" +\n            allDeadlines[i].date.getDate() +\n            '. ' +\n            monthName +\n            \"</td><td class='deadline-title'><a href='\" +\n            allDeadlines[i].url +\n            \"' title='\" +\n            allDeadlines[i].title +\n            \"'>\" +\n            allDeadlines[i].title +\n            '</a></td></tr>';\n        } else {\n          html +=\n            \"<tr id='deadline-\" +\n            i +\n            \"'><td class='deadline-date'>\" +\n            allDeadlines[i].date.getDate() +\n            '. ' +\n            monthName +\n            \"</td><td class='deadline-title'>\" +\n            allDeadlines[i].title +\n            '</td></tr>';\n        }\n      }\n      html += '</table>';\n      $('body.home .deadlines-list').html(html);\n      var upcoming = mmooc.coursePage.findUpcomingDate(allDeadlines);\n      $('#deadline-' + upcoming).addClass('upcoming');\n      var parent = $('body.home .deadlines-list');\n      var row = $('#deadline-' + upcoming);\n      parent.scrollTop(\n        parent.scrollTop() +\n          row.position().top -\n          parent.height() / 2 +\n          row.height() / 2\n      );\n      $('.deadlines-scroll-up').click(function() {\n        var scroll = parent.scrollTop() - 50;\n        $(parent).animate(\n          {\n            scrollTop: scroll\n          },\n          200\n        );\n      });\n      $('.deadlines-scroll-down').click(function() {\n        var scroll = parent.scrollTop() + 50;\n        $(parent).animate(\n          {\n            scrollTop: scroll\n          },\n          200\n        );\n      });\n    },\n    printDeadlinesForCourse: function() {\n      var courseId = mmooc.api.getCurrentCourseId();\n      var allDeadlines = [];\n      var params = {\n        all_events: 1,\n        type: 'event',\n        context_codes: ['course_' + courseId]\n      };\n      mmooc.api.getCaledarEvents(params, function(events) {\n        for (var i = 0; i < events.length; i++) {\n          if (events[i].end_at) {\n            var date = new Date(events[i].end_at);\n            var deadlineObj = {\n              date: date,\n              title: events[i].title\n            };\n            allDeadlines.push(deadlineObj);\n          }\n        }\n        var params = {\n          all_events: 1,\n          type: 'assignment',\n          context_codes: ['course_' + courseId]\n        };\n        mmooc.api.getCaledarEvents(params, function(assignments) {\n          for (var i = 0; i < assignments.length; i++) {\n            if (assignments[i].all_day_date) {\n              var date = new Date(assignments[i].all_day_date);\n              var deadlineObj = {\n                date: date,\n                title: assignments[i].title,\n                url: assignments[i].html_url\n              };\n              allDeadlines.push(deadlineObj);\n            }\n          }\n          if (allDeadlines.length) {\n            mmooc.coursePage._displayDeadlines(allDeadlines);\n          }\n        });\n      });\n    },\n    findUpcomingDate: function(dates) {\n      var today = Date.now();\n      var nearestDate,\n        nearestDiff = Infinity;\n      var noMoreDeadlines = true;\n      for (var i = 0; i < dates.length; i++) {\n        var diff = +dates[i].date - today;\n        if (diff > 0 && diff < nearestDiff) {\n          nearestDiff = diff;\n          nearestDate = i;\n          noMoreDeadlines = false;\n        }\n      }\n      if (noMoreDeadlines) {\n        return dates.length - 1;\n      } else {\n        return nearestDate;\n      }\n    }\n  };\n})();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.coursesettings = (function() {\n  var DISCUSSIONTYPE = 0;\n  var ASSIGNMENTTYPE = 1;\n  var QUIZTYPE = 2;\n  var PAGETYPE = 3;\n\n  var AllModuleItems = [];\n  var error = function(error) {\n    console.error('error calling api', error);\n  };\n\n  function updateOverallProgress(s) {\n    $('#mmoocOverallProgress').html(s);\n  }\n  function getStyle(color, bgcolor) {\n    return \"style='background-color:\" + bgcolor + ';color:' + color + \"'\";\n  }\n  function getBooleanOutput(result) {\n    if (result) {\n      return getStyle('white', 'green') + '>JA';\n    }\n    return getStyle('white', 'red') + '>NEI';\n  }\n\n  function clearTableWithId(id) {\n    $('#' + id).html('');\n  }\n\n  function printRowInTableId(id, c1, c2) {\n    var rowHtml = '<tr><td>' + c1 + '</td><td>' + c2 + '</td></tr>';\n    $('#' + id).append(rowHtml);\n  }\n  function printRowWithColorInTableId(id, c1, c2, color, bgcolor) {\n    var rowHtml =\n      '<tr><td ' +\n      getStyle(color, bgcolor) +\n      '>' +\n      c1 +\n      '</td><td ' +\n      getStyle(color, bgcolor) +\n      '>' +\n      c2 +\n      '</td></tr>';\n    $('#' + id).append(rowHtml);\n  }\n  function printRedRowInTableId(id, c1, c2) {\n    printRowWithColorInTableId(id, c1, c2, 'white', 'red');\n  }\n  function printGreenRowInTableId(id, c1, c2) {\n    printRowWithColorInTableId(id, c1, c2, 'white', 'green');\n  }\n\n  function printRow(c1, c2) {\n    return '<tr><td>' + c1 + '</td><td>' + c2 + '</td></tr>';\n  }\n  function printRowWithColor(c1, c2, color, bgcolor) {\n    return (\n      '<tr><td' +\n      getStyle(color, bgcolor) +\n      '>' +\n      c1 +\n      '</td><td>' +\n      c2 +\n      '</td></tr>'\n    );\n  }\n  function printRedRow(c1, c2) {\n    return printRowWithColor(c1, c2, 'white', 'red');\n  }\n  function printGreenRow(c1, c2) {\n    return printRowWithColor(c1, c2, 'white', 'green');\n  }\n\n  function getSanityTableId(courseId, moduleId, contentId) {\n    return 'Sanity' + courseId + moduleId + contentId;\n  }\n\n  function getWaitIconRowId(tableId) {\n    return 'Wait' + tableId;\n  }\n  function waitIcon(tableId) {\n    $('#' + tableId).append(\n      \"<tr id='\" +\n        getWaitIconRowId(tableId) +\n        \"'>td><img src='https://server/bitmaps/loading.gif'/>\"\n    );\n  }\n  function clearWaitIcon(tableId) {\n    $('#' + getWaitIconRowId(tableId)).remove();\n  }\n\n  function printPageTable(courseId, moduleId, item) {\n    var contentHtml = '';\n    return contentHtml;\n  }\n  function postProcessPageTable(courseId, moduleId, item) {\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    var req = item.completion_requirement;\n    if (req) {\n      var reqtype = req.type;\n      if (reqtype != 'must_mark_done') {\n        printRedRowInTableId(\n          tableId,\n          'Krav:',\n          reqtype + '(Vi anbefaler merk som ferdig for innholdssider.)'\n        );\n      }\n    } else {\n      printRowInTableId(tableId, 'Ingen', '');\n    }\n\n    clearWaitIcon(tableId);\n  }\n  function printSubHeaderTable(courseId, moduleId, item) {\n    var contentHtml = '';\n    return contentHtml;\n  }\n  function postProcessSubHeaderTable(courseId, moduleId, item) {\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    printRowInTableId(tableId, 'Ingen', '');\n    clearWaitIcon(tableId);\n  }\n  function printFileTable(courseId, moduleId, item) {\n    var contentHtml = '';\n    var req = item.completion_requirement;\n    if (req) {\n      var reqtype = req.type;\n      if (reqtype != 'must_mark_done') {\n        contentHtml += printRedRow('Krav:', reqtype);\n      }\n    }\n    return contentHtml;\n  }\n  function postProcessFileTable(courseId, moduleId, item) {\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    printRowInTableId(tableId, 'Ingen', '');\n    clearWaitIcon(tableId);\n  }\n  function printDiscussionTable(courseId, moduleId, item) {\n    var contentHtml = '';\n    var req = item.completion_requirement;\n    if (req) {\n      var reqtype = req.type;\n      if (reqtype != 'must_contribute') {\n        contentHtml += printRedRow('Krav:', reqtype);\n      }\n    }\n    return contentHtml;\n  }\n  function postProcessDiscussionTable(courseId, moduleId, item) {\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    var contentId = item.content_id;\n    mmooc.api.getDiscussionTopic(\n      courseId,\n      contentId,\n      (function(tableId) {\n        return function(d) {\n          clearWaitIcon(tableId);\n          if (d.discussion_type != 'side_comment') {\n            printRedRowInTableId(\n              tableId,\n              'Trådtype:',\n              d.discussion_type + '(Vi anbefaler side_comment.)'\n            );\n          }\n          var gid = d.group_category_id;\n          if (!gid) {\n            printRedRowInTableId(\n              tableId,\n              'Gruppekategori:',\n              'Mangler (Dette blir en diskusjon hvor samtlige studenter deltar. Vi anbefaler gruppediskusjoner dersom det er mange studenter.)'\n            );\n          } else {\n            printGreenRowInTableId(tableId, 'Gruppekategori:', gid);\n          }\n        };\n      })(tableId)\n    );\n  }\n\n  function printAssignmentTable(courseId, moduleId, item) {\n    var contentHtml = '';\n    var req = item.completion_requirement;\n    if (req) {\n      var reqtype = req.type;\n      if (reqtype != 'must_submit') {\n        contentHtml += printRedRow(\n          'Krav:',\n          reqtype + ' på innleveringsoppgave.'\n        );\n      }\n    }\n\n    return contentHtml;\n  }\n  function postProcessAssignmentTable(courseId, moduleId, item) {\n    var contentId = item.content_id;\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    mmooc.api.getSingleAssignment(\n      courseId,\n      contentId,\n      (function(tableId) {\n        return function(a) {\n          clearWaitIcon(tableId);\n          printRowInTableId(tableId, 'Type:', a.submission_types);\n          console.log('Assignment submission type: ' + a.submission_types);\n          if (a.submission_types.indexOf('online_upload') > -1) {\n            if (a.allowed_extensions) {\n              printRowInTableId(\n                tableId,\n                'Tillatte filendelser:',\n                a.allowed_extensions\n              );\n            } else {\n              printRedRowInTableId(\n                tableId,\n                'Ingen tillatte filendelser spesifisert. Vi anbefaler å sette dette.'\n              );\n            }\n          }\n          if (!a.due_at) {\n            printRedRowInTableId(\n              tableId,\n              'Frist:',\n              'Ingen. (Vi anbefaler å ha en frist)'\n            );\n          } else {\n            printRowInTableId(tableId, 'Frist:', a.due_at);\n          }\n          printRowInTableId(tableId, 'Hverandrevurdering:', a.peer_reviews);\n          if (a.peer_reviews) {\n            if (a.automatic_peer_reviews) {\n              var hvvfrist = 'ingen';\n              hvvfrist = a.peer_reviews_assign_at;\n              printRedRowInTableId(\n                tableId,\n                'Tildeling av hverandrevurdering:',\n                hvvfrist + ' (Vi anbefaler ikke automatisk tildeling.'\n              );\n              printRowInTableId(\n                tableId,\n                'Antall vurderinger:',\n                a.peer_review_count\n              );\n            } else {\n              printGreenRowInTableId(\n                tableId,\n                'Tildeling av hverandrevurdering: ',\n                'Manuell. Dette er anbefalt. Husk å legge fristen i kalenderen.'\n              );\n            }\n          }\n        };\n      })(tableId),\n      error\n    );\n  }\n\n  function printQuizTable(courseId, moduleId, item) {\n    var contentHtml = '';\n    var req = item.completion_requirement;\n    if (req) {\n      var reqtype = req.type;\n      if (reqtype != 'min_score') {\n        contentHtml += printRedRow('Krav:', reqtype + ' på quiz.');\n      }\n    }\n    return contentHtml;\n  }\n  function postProcessQuizTable(courseId, moduleId, item) {\n    var contentId = item.content_id;\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    mmooc.api.getQuiz(\n      courseId,\n      contentId,\n      (function(tableId) {\n        return function(q) {\n          clearWaitIcon(tableId);\n          printRowInTableId(tableId, 'Frist:', q.due_at);\n        };\n      })(tableId)\n    );\n  }\n\n  function printSanityTableForItem(courseId, moduleId, item) {\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    var contentHtml = \"<table id='\" + tableId + \"'>\";\n    var type = item.type;\n    console.log('Item type:' + type);\n    if (type == 'Assignment') {\n      contentHtml += printAssignmentTable(courseId, moduleId, item);\n    } else if (type == 'Discussion') {\n      contentHtml += printDiscussionTable(courseId, moduleId, item);\n    } else if (type == 'Page') {\n      contentHtml += printPageTable(courseId, moduleId, item);\n    } else if (type == 'Quiz') {\n      contentHtml += printQuizTable(courseId, moduleId, item);\n    } else if (type == 'File') {\n      contentHtml += printFileTable(courseId, moduleId, item);\n    } else if (type == 'SubHeader') {\n      contentHtml += printSubHeaderTable(courseId, moduleId, item);\n    }\n    waitIcon(tableId);\n    contentHtml += '</table>';\n    return contentHtml;\n  }\n\n  function postProcessSanityTableForItem(courseId, moduleId, item) {\n    var type = item.type;\n    if (type == 'Assignment') {\n      postProcessAssignmentTable(courseId, moduleId, item);\n    } else if (type == 'Discussion') {\n      postProcessDiscussionTable(courseId, moduleId, item);\n    } else if (type == 'Page') {\n      postProcessPageTable(courseId, moduleId, item);\n    } else if (type == 'Quiz') {\n      postProcessQuizTable(courseId, moduleId, item);\n    } else if (type == 'File') {\n      postProcessFileTable(courseId, moduleId, item);\n    } else if (type == 'SubHeader') {\n      postProcessSubHeaderTable(courseId, moduleId, item);\n    }\n  }\n\n  function getCommonUrlKey(url) {\n    var key = '';\n    var urlPrefix = '/courses';\n\n    var start = url.indexOf(urlPrefix);\n    if (start > -1) {\n      key = url.substr(start);\n    } else {\n      console.log('getCommonUrlKey: Could not find key for url: ' + url);\n    }\n    return key;\n  }\n\n  function storeItem(item) {\n    if (item.type == 'SubHeader') {\n      return;\n    }\n    if (!item.url) {\n      return;\n    }\n    var url = item.url;\n\n    var key = getCommonUrlKey(url);\n\n    AllModuleItems[key] = item;\n  }\n\n  function getSanityTableForModule(courseId, module) {\n    var contentHtml =\n      \"<table class='table'><thead><tr><th>Innholdselement</th><th>Publisert</th><th>Krav</th><th>Type</th><th>Detaljer</th></tr></thead><tbody>\";\n    var moduleItems = module.items;\n    var moduleId = module.id;\n    for (var i = 0; i < moduleItems.length; i++) {\n      var item = moduleItems[i];\n\n      storeItem(item);\n\n      contentHtml += '<td>' + item.title + '</td>';\n\n      contentHtml += '<td ' + getBooleanOutput(item.published) + '</td>';\n      var req = item.completion_requirement;\n      if (item.type == 'SubHeader') {\n        contentHtml += '<td>';\n      } else {\n        contentHtml += '<td ' + getBooleanOutput(req);\n      }\n      if (req) {\n        var reqtype = req.type;\n        contentHtml += ' (' + reqtype + ')';\n        contentHtml += ' ';\n        if (reqtype == 'min_score') {\n          var min_score = req.min_score;\n          contentHtml += '<br/>Min score: ' + min_score;\n        }\n      }\n      contentHtml += '</td><td>';\n      contentHtml += item.type;\n      contentHtml += '</td><td>';\n      contentHtml += printSanityTableForItem(courseId, moduleId, item);\n      contentHtml += '</td>';\n      contentHtml += '</tr>';\n    } //End for all module items.\n    contentHtml += '</tbody></table>';\n    return contentHtml;\n  }\n  function postProcessSanityTableForModule(courseId, module) {\n    var moduleItems = module.items;\n    var moduleId = module.id;\n    for (var i = 0; i < moduleItems.length; i++) {\n      var item = moduleItems[i];\n      postProcessSanityTableForItem(courseId, moduleId, item);\n    }\n  }\n\n  function processModules(courseId, modules) {\n    var contentHtml = '';\n    for (var i = 0; i < modules.length; i++) {\n      var module = modules[i];\n\n      contentHtml += '<p><b>Modulnavn:' + module.name + '</b></p>';\n      contentHtml +=\n        '<p>Publisert: <span ' +\n        getBooleanOutput(module.published) +\n        '</span></p>';\n\n      contentHtml += getSanityTableForModule(courseId, module);\n      contentHtml += '<hr/>';\n    } //End for all modules\n    return contentHtml;\n  } //end function\n\n  function postProcessModules(courseId, modules) {\n    for (var i = 0; i < modules.length; i++) {\n      var module = modules[i];\n      postProcessSanityTableForModule(courseId, module);\n    } //End for all modules\n  } //end function\n\n  function getTitle(item, pageType) {\n    var title = '';\n    if (pageType == DISCUSSIONTYPE || pageType == PAGETYPE) {\n      title = item.title;\n    } else {\n      title = item.name;\n    }\n    return title;\n  }\n  function getPublishedString(item) {\n    var s = 'NEI';\n    if (item.published) {\n      s = \"<span style='bgcolor=red;color=white'>JA</span>\";\n    }\n    return s;\n  }\n\n  function getOrphanTableId(pageType) {\n    return 'pageType' + pageType;\n  }\n  function createTable(pageType, description) {\n    var contentHtml =\n      '<h2>' +\n      description +\n      '</h2>' +\n      \"<table class='table' id='\" +\n      getOrphanTableId(pageType) +\n      \"'>\";\n    contentHtml +=\n      '<thead><tr><th>Publisert</th><th>Tittel</th><th>Lenke</th></tr></thead><tbody></tbody></table>';\n    return contentHtml;\n  }\n  function printRowWithColorInOrphanTable(\n    pageType,\n    c1,\n    c2,\n    c3,\n    color,\n    bgcolor\n  ) {\n    var rowHtml =\n      '<tr><td ' +\n      getStyle(color, bgcolor) +\n      '>' +\n      c1 +\n      '</td><td ' +\n      getStyle(color, bgcolor) +\n      '>' +\n      c2 +\n      '</td><td ' +\n      getStyle(color, bgcolor) +\n      '>' +\n      c3 +\n      '</td></tr>';\n    $('#' + getOrphanTableId(pageType)).append(rowHtml);\n  }\n  function printRedRowInOrphanTable(pageType, c1, c2, c3) {\n    printRowWithColorInOrphanTable(pageType, c1, c2, c3, 'white', 'red');\n  }\n  function printGreenRowInOrphanTable(pageType, c1, c2, c3) {\n    printRowWithColorInOrphanTable(pageType, c1, c2, c3, 'white', 'green');\n  }\n\n  function getOrphanItemsTable(itemList, pageType) {\n    var orphans = false;\n    for (var i = 0; i < itemList.length; i++) {\n      var item = itemList[i];\n      var key = getCommonUrlKey(item.html_url);\n      var moduleItem = AllModuleItems[key];\n      if (!moduleItem) {\n        var title = getTitle(item, pageType);\n        var published = getPublishedString(item);\n        printRedRowInOrphanTable(pageType, published, title, key);\n        orphans = true;\n      }\n    }\n    if (!orphans) {\n      printGreenRowInOrphanTable(pageType, 'Ingen', '', '');\n    }\n  }\n\n  function getGroupCategoryTableId(id) {\n    return 'pfdkGroupCategory_' + id;\n  }\n  function getSectionTableId(id) {\n    return 'pfdkSection_' + id;\n  }\n\n  return {\n    addSanityCheckButton: function() {\n      $('#right-side table.summary').before(\n        \"<a id='pfdksanitycheck' class='Button Button--link Button--link--has-divider Button--course-settings' href='#'><i class='icon-student-view' />Sanity check</a>\"\n      );\n\n      //Når man trykker på knappen så kjører koden nedenfor.\n      $('#pfdksanitycheck').on('click', function() {\n        bCancel = false;\n        var contentarea = $('#content');\n        var contentHtml = '';\n        contentarea.html(\n          '<h1>Sanity check</h1>\\\n        <div id=\"mmoocOverallProgress\"></div>\\\n        <div id=\"resultarea\"></div>'\n        );\n\n        var courseId = mmooc.api.getCurrentCourseId();\n        mmooc.api.getCourse(\n          courseId,\n          function(course) {\n            contentHtml += '<p><b>Kursnavn:</b> ' + course.name + '</p>';\n            var coursePublished = course.workflow_state == 'available';\n            contentHtml +=\n              '<p>Publisert: <span ' +\n              getBooleanOutput(coursePublished) +\n              '</span></p>';\n\n            contentHtml += createTable(PAGETYPE, 'Løsrevne sider');\n            contentHtml += createTable(ASSIGNMENTTYPE, 'Løsrevne oppgaver');\n            contentHtml += createTable(DISCUSSIONTYPE, 'Løsrevne diskusjoner');\n            contentHtml += createTable(QUIZTYPE, 'Løsrevne quizer');\n\n            mmooc.api.getModulesForCurrentCourse(function(modules) {\n              contentHtml += processModules(courseId, modules);\n              $('#resultarea').html(contentHtml);\n              postProcessModules(courseId, modules);\n\n              mmooc.api.getPagesForCourse(courseId, function(pages) {\n                getOrphanItemsTable(pages, PAGETYPE);\n              });\n              mmooc.api.getAssignmentsForCourse(courseId, function(\n                assignments\n              ) {\n                getOrphanItemsTable(assignments, ASSIGNMENTTYPE);\n              });\n              mmooc.api.getDiscussionTopicsForCourse(courseId, function(\n                discussions\n              ) {\n                getOrphanItemsTable(discussions, DISCUSSIONTYPE);\n              });\n              mmooc.api.getQuizzesForCourse(courseId, function(quizzes) {\n                getOrphanItemsTable(quizzes, QUIZTYPE);\n              });\n            }, error);\n          },\n          error\n        );\n      });\n    },\n\n    addListSectionsButton: function() {\n      $('#right-side table.summary').before(\n        \"<a id='pfdklistsections' class='Button Button--link Button--link--has-divider Button--course-settings' href='#'><i class='icon-student-view' />List sections</a>\"\n      );\n\n      //Når man trykker på knappen så kjører koden nedenfor.\n      $('#pfdklistsections').on('click', function() {\n        var contentarea = $('#content');\n        contentarea.html('<h1>Seksjoner</h1><div id=\"resultarea\"></div>');\n\n        var courseId = mmooc.api.getCurrentCourseId();\n        var params = { per_page: 999 };\n        mmooc.api.getSectionsForCourse(courseId, params, function(sections) {\n          var resultHtml =\n            \"<table class='table'><tr><th>Section name</th><th>Section id</th></tr>\";\n          for (var i = 0; i < sections.length; i++) {\n            resultHtml =\n              resultHtml +\n              '<tr><td>' +\n              sections[i].name +\n              '</td><td>' +\n              sections[i].id +\n              '</td></tr>';\n          }\n          resultHtml += '</table>';\n          $('#resultarea').html(resultHtml);\n        });\n      });\n    },\n    addListUsersButton: function() {\n      $('#right-side table.summary').before(\n        \"<a id='pfdklistusers' class='Button Button--link Button--link--has-divider Button--course-settings' href='#'><i class='icon-student-view' />List users</a>\"\n      );\n\n      //Når man trykker på knappen så kjører koden nedenfor.\n      $('#pfdklistusers').on('click', function() {\n        var contentarea = $('#content');\n        contentarea.html('<h1>Brukere</h1><div id=\"resultarea\"></div>');\n\n        var courseId = mmooc.api.getCurrentCourseId();\n\n        var params = { per_page: 999 };\n        mmooc.api.getSectionsForCourse(courseId, params, function(sections) {\n          var tableHtml = '';\n          for (var i = 0; i < sections.length; i++) {\n            var section = sections[i];\n            var tableId = getSectionTableId(section.id);\n            tableHtml =\n              '<h2>' +\n              section.name +\n              '</h2>' +\n              \"<table class='table' id='\" +\n              tableId +\n              \"'>\";\n            tableHtml +=\n              '<thead><tr><th>User id</th><th>SIS user id</th></tr></thead><tbody></tbody></table>';\n            $('#resultarea').append(tableHtml);\n\n            var params = { per_page: 999 };\n            mmooc.api.getEnrollmentsForSection(section.id, params, function(\n              enrollments\n            ) {\n              for (var j = 0; j < enrollments.length; j++) {\n                var enrollment = enrollments[j];\n                var tableId = getSectionTableId(enrollment.course_section_id);\n                var rowHtml =\n                  '<tr><td>' +\n                  enrollment.user_id +\n                  '</td><td>' +\n                  enrollment.sis_user_id +\n                  '</td></tr>';\n                $('#' + tableId).append(rowHtml);\n              }\n            });\n          } // end for all sections\n        }); //end getsectionsforcourse\n      }); //end pfdklistuser click button\n    },\n    addListAssignmentsButton: function() {\n      $('#right-side table.summary').before(\n        \"<a id='pfdklistassignments' class='Button Button--link Button--link--has-divider Button--course-settings' href='#'><i class='icon-student-view' />List assignments</a>\"\n      );\n\n      //Når man trykker på knappen så kjører koden nedenfor.\n      $('#pfdklistassignments').on('click', function() {\n        var contentarea = $('#content');\n        contentarea.html('<h1>Oppgaver</h1><div id=\"resultarea\"></div>');\n\n        var courseId = mmooc.api.getCurrentCourseId();\n\n        var params = { per_page: 999 };\n        mmooc.api.getAssignmentsForCourse(courseId, function(assignments) {\n          if (!assignments.length) {\n            $('#resultarea').append('Ingen oppgaver');\n          } else {\n            var tableHtml = \"<table class='table' id='pfdkassignmentstable'>\";\n            tableHtml +=\n              '<thead><tr><th>Oppgave id</th><th>Beskrivelse</th><th>Hverandrevurdering</th></tr></thead><tbody></tbody></table>';\n            $('#resultarea').append(tableHtml);\n            for (var i = 0; i < assignments.length; i++) {\n              var assignment = assignments[i];\n              var peerReview = 'NEI';\n\n              if (assignment.peer_reviews) {\n                peerReview = 'JA';\n              }\n\n              var rowHtml =\n                '<tr><td>' +\n                assignment.id +\n                \"</td><td><a href='\" +\n                assignment.html_url +\n                \"' target='_blank'>\" +\n                assignment.name +\n                '</a></td><td>' +\n                peerReview +\n                '</td></tr>';\n              $('#pfdkassignmentstable').append(rowHtml);\n            } //end for all assignments\n          } // endif any assignments\n        }); //end getAssignmentsForCourse\n      }); //end addListAssignmentsButton click button\n    },\n\n    addListGroupsButton: function() {\n      $('#right-side table.summary').before(\n        \"<a id='pfdklistgroups' class='Button Button--link Button--link--has-divider Button--course-settings' href='#'><i class='icon-student-view' />List groups</a>\"\n      );\n\n      //Når man trykker på knappen så kjører koden nedenfor.\n      $('#pfdklistgroups').on('click', function() {\n        var contentarea = $('#content');\n        contentarea.html('<h1>Grupper</h1><div id=\"resultarea\"></div>');\n\n        var courseId = mmooc.api.getCurrentCourseId();\n        mmooc.api.getGroupCategoriesForCourse(courseId, function(categories) {\n          var tableHtml = '';\n          for (var i = 0; i < categories.length; i++) {\n            var category = categories[i];\n            var tableId = getGroupCategoryTableId(category.id);\n            tableHtml =\n              '<h2>' +\n              category.name +\n              '</h2>' +\n              \"<table class='table' id='\" +\n              tableId +\n              \"'>\";\n            tableHtml +=\n              '<thead><tr><th>Gruppenavn</th><th>Id</th></tr></thead><tbody></tbody></table>';\n            $('#resultarea').append(tableHtml);\n\n            mmooc.api.getGroupsInCategory(category.id, function(groups) {\n              for (var j = 0; j < groups.length; j++) {\n                var group = groups[j];\n                var tableId = getGroupCategoryTableId(group.group_category_id);\n                var rowHtml =\n                  '<tr><td>' +\n                  group.name +\n                  '</td><td>' +\n                  group.id +\n                  '</td></tr>';\n                $('#' + tableId).append(rowHtml);\n              }\n            });\n          }\n        }); //end getGroupCategoriesForCourse\n      }); //end pfdklistgroups button pressed\n    } //end addListGroupsButton\n  };\n})();\n","this.mmooc=this.mmooc||{};\n\n\nthis.mmooc.dataporten = function() {\n    var token = null;\n\n// VARIABLES CHANGED BY GRUNT\n    let request = ['email','longterm', 'openid', 'profile', 'userid-feide', 'groups', 'gk_netgurukpasapi'];\n    let dataportenCallback = 'https://localhost/courses/1?dataportenCallback=1';\n    let dataportenClientId = '823e54e4-9cb7-438f-b551-d1af9de0c2cd';\n    let kpasapiurl = 'https://netgurukpasapi.dataporten-api.no';    \n\n    \n    var opts = {\n        scopes: {\n            request: request\n        },\n        response_type: 'id_token token'\n    }\n        \n    var client = new jso.JSO({\n                providerID: \"Dataporten\",\n                client_id: dataportenClientId,\n                redirect_uri: dataportenCallback, \n                authorization: \"https://auth.dataporten.no/oauth/authorization\"\n            });\n\n    return {\n        getSilentOpts : function() {\n            var silent_opts = JSON.parse(JSON.stringify(opts));\n            silent_opts.request = {prompt: \"none\"};\n            return silent_opts;\n        },\n        getClient : function() {\n            return client;\n        },\n        updateStatus : function(s, waitIcon = true) {\n            $(\"#dataportenStatus\").html(s);\n            if(waitIcon) {\n                $(\"#dataportenStatus\").append(\"<span class='loading-gif'></span>\");\n            }\n        },\n        clearStatus : function() {\n            $(\"#dataportenStatus\").html(\"\");\n        },\n        updateContent : function(s) {\n            $(\"#dataportenContent\").html(s);\n        },\n        appendContent : function(s){\n            $(\"#dataportenContent\").append(s);\n        },\n        clearContent : function() {\n            $(\"#dataportenContent\").html(\"\");\n            $(\"#dataportenUserInfo\").html(\"\");\n        },\n        display: function() {\n            $(\"#course_home_content\").prepend(\"<div id='dataportenStatus'/><div id='dataportenUserInfo'/><div id='dataportenContent'/><div id='dataportenLoginInfo'/>\");\n            var silent_opts = this.getSilentOpts();\n\n            mmooc.dataporten.updateStatus(\"Sjekker forbindelse til dataporten...\");\n            this.token = client.checkToken(silent_opts);\n            if(this.token) {\n                console.log(this.token.access_token);\n                this.tokenBelongsToLoggedInUser(function(belongs, canvasUserId, dataportenUserInfo) {\n                    if(belongs) {\n                        mmooc.dataporten.validToken();\n                    } else {\n                        let waitIcon = false;\n                        var html = \"Du er logget inn med \" + canvasUserId  + \" i Canvas og \" + dataportenUserInfo.user.userid;\n                        if(dataportenUserInfo.user.userid_sec.length)\n                        {\n                            html += \"/\" + dataportenUserInfo.user.userid_sec[0];\n                        }\n                        html += \" i dataporten. Du må være logget inn med samme bruker i de to systemene.\";\n                        mmooc.dataporten.updateStatus(html, waitIcon);\n\n                        mmooc.dataporten.printLogoutOptions();\n                    }\n                });  \n            } else { //Try and see if we can login silently.\n                this.hiddenIframeLogin();\n            }\n        },\n        displayUserInfo : function() {\n            mmooc.dataporten.getUserInfo(function(userInfo) {\n                var html = \"Du er logget inn på dataporten som \" + userInfo.user.name;\n                $(\"#dataportenUserInfo\").html(html);\n            });\n        },\n        validToken: function() {\n            mmooc.dataporten.displayUserInfo();\n            mmooc.dataporten.displayGroups();\n            mmooc.dataporten.printLogoutOptions();\n        },\n        getFeideIdFromDataportenUserInfo(userIdSec)\n        {\n            let start = userIdSec.indexOf(\":\") + 1;\n            let feideid = userIdSec.substr(start);\n            return feideid;\n        },\n        //If we want to require that the account used to connect to dataporten is the same as the one used\n        //to login to Canvas, we could call the code below and perform some checks. Right now the code\n        //compares the Canvas login id with the secondary open id, i.e. Feide id. \n        tokenBelongsToLoggedInUser: function(callback) {\n            this.getUserInfo(function(userInfo) {\n                mmooc.api.getUserProfile(function(userProfile) {\n                    var belongs = false;\n                    if(userProfile.login_id == userInfo.user.userid) {\n                        belongs = true;\n                    } else if (userInfo.user.userid_sec.length) {\n                        let userIdSec = userInfo.user.userid_sec[0];\n                        let feideId = mmooc.dataporten.getFeideIdFromDataportenUserInfo(userIdSec);\n                        if(userProfile.login_id == feideId) {\n                            belongs = true;\n                        }\n                    }\n                    callback(belongs, userProfile.login_id, userInfo);\n                });\n            });\n        },\n        printLogoutOptions : function() {\n            var html = \"<div><button class='button' id='dataportenWipeToken'>Logg ut av dataporten</button></div>\";\n            $(\"#dataportenLoginInfo\").html(html);\n            $(document).on(\"click\",\"#dataportenWipeToken\",function(e){\n                mmooc.dataporten.wipeToken();\n                mmooc.dataporten.clearStatus();\n                mmooc.dataporten.clearContent();\n                mmooc.dataporten.printLoginOptions();\n            });\n        },\n        printLoginOptions : function() {\n            var dataportenHtml = mmooc.util.renderTemplateWithData(\"dataporten\", {});\n            $(\"#dataportenLoginInfo\").html(dataportenHtml);\n            $(document).off('click', \"#dataportenPopupLogin\");\n            $(document).on (\"click\", \"#dataportenPopupLogin\",function(e) {mmooc.dataporten.authorizePopup()});\n        },\n        _get : function(url, callback) {\n            var self = this;\n            $.ajax({\n                    url: url,\n                    beforeSend: function(xhr) {\n                         xhr.setRequestHeader(\"Authorization\", \"Bearer \" + self.token.access_token)\n                    }, success: function(data){\n                        callback(data)\n                    }, error: function(XMLHttpRequest, textStatus, errorThrown) {\n                        let errMsg = 'Det oppstod en feil:' + errorThrown;\n                        console.log(errMsg);\n                        mmooc.dataporten.clearStatus();\n                        self.wipeToken();\n                        self.printLoginOptions();\n                }});\n        },\n        _post : function(url, data, callback) {\n            var self = this;\n            $.ajax({\n                type: \"POST\",\n                url: url,\n                beforeSend: function(xhr) {\n                    xhr.setRequestHeader(\"Authorization\", \"Bearer \" + self.token.access_token)\n                }, \n                data: data,\n                success: function(result) {\n                    callback(result)\n                },\n                error(XMLHttpRequest, textStatus, errorThrown) {\n                    let errMsg = 'Det oppstod en feil:' + errorThrown;\n                    alert(errMsg);\n                    console.log(errMsg);\n                }\n            });\n        },\n        getUserInfo : function(callback) {\n            let url = \"https://auth.dataporten.no/userinfo\";\n            this._get(url, callback);\n        },\n        getGroupCategoriesForCourse : function(courseId, callback) {\n            let url = kpasapiurl + \"/group_categories.php?course_id=\" + courseId;\n            this._get(url, callback);\n        },\n        isMemberOf : function(dataportenGroup, groupCategory, canvasGroups)\n        {\n            var found = false;\n            for(var i = 0; i < canvasGroups.length; i++) {\n                if ((canvasGroups[i].name == dataportenGroup.displayName) &&\n                    (canvasGroups[i].description == dataportenGroup.id) &&\n                    (canvasGroups[i].group_category_id == groupCategory.id)) {\n                    found = true;\n                    break;\n                }\n            }\n            return found;\n        },\n        addUserToGroup : function(group, unenrollmentIds) {\n            let url = kpasapiurl + \"/addusertogroup.php\";\n            var data = \"group=\" + JSON.stringify(group) + \"&unenrollFrom={\\\"unenrollmentIds\\\":\" + JSON.stringify(unenrollmentIds) + \"}\";\n            this._post(url, data, function(result) {\n                mmooc.dataporten.displayGroups();\n            });\n        },\n        displayOneGroup : function(courseID, unenrollmentIds, dataportenGroup, groupCategory, canvasGroups) {\n            var member = mmooc.dataporten.isMemberOf(dataportenGroup, groupCategory, canvasGroups);\n            var group = {\n                name: dataportenGroup.displayName,\n                description: dataportenGroup.id,\n                membership: dataportenGroup.membership.basic,\n                group_category_id: groupCategory.id,\n                course_id: courseID                            \n            };\n\n            var id = \"\" + dataportenGroup.id;\n            id = id.replace(/[-&\\/\\\\#,+()$~%.'\":*?<>{}]/g,'_');\n            var dataportenGroupHtml = mmooc.util.renderTemplateWithData(\"dataportenGroups\", {member: member, id:id, dataportenGroup:dataportenGroup});\n            mmooc.dataporten.appendContent(dataportenGroupHtml);\n            (function(j, k) {\n                $(document).off('click', \"#\"+id);\n                $(document).on(\"click\",\"#\"+id,function(e) {\n                    mmooc.dataporten.clearContent();\n                    mmooc.dataporten.updateStatus(\"Melder deg inn i gruppe...\");\n                    mmooc.dataporten.addUserToGroup(j,k);\n                });\n            })(group, unenrollmentIds);\n        },        \n        displayGroups: function() {\n            mmooc.dataporten.clearContent();\n            let url = 'https://groups-api.dataporten.no/groups/me/groups';\n            mmooc.dataporten.updateStatus(\"Henter grupper fra dataporten...\");\n            this._get(url, function(dataportenGroups) {\n                mmooc.dataporten.updateStatus(\"Henter grupper fra Canvas...\");\n                mmooc.api.getUserGroups(function(canvasGroups) {\n                  let courseID = mmooc.api.getCurrentCourseId();\n                  mmooc.dataporten.updateStatus(\"Henter gruppekategorier fra Canvas...\");\n                  mmooc.dataporten.getGroupCategoriesForCourse(courseID, function(result) {\n                    var categories = result.data;\n                    \n                    mmooc.dataporten.updateStatus(\"Sjekker din gruppetilhørighet i Canvas...\");\n                    mmooc.api.getUsersEnrollmentsForCourse(courseID, \n                        (function(courseID, categories) {\n                            return function(enrollments) {\n                                var unenrollmentIds = Array();\n                                for(var e = 0; e < enrollments.length; e++) {\n                                    unenrollmentIds.push(enrollments[e].id)\n                                }\n                                for(var g = 0; g < categories.length; g++) {\n                                    let groupCategory = categories[g];\n                                    mmooc.dataporten.appendContent(\"<h1>\" + groupCategory.name + \"</h1>\");\n                        \n                                    for(var i = 0; i < dataportenGroups.length; i++) {\n                                        var dataportenGroup = dataportenGroups[i];\n                                        mmooc.dataporten.displayOneGroup(courseID, unenrollmentIds, dataportenGroup, groupCategory, canvasGroups);\n                                    }\n                                }\n                                mmooc.dataporten.clearStatus();\n                            } //end function courses\n                        })(courseID, categories)\n                    );\n                }) //end fetched Canvas group categories\n              }); //end fetched Canvas groups\n            }); //end fetched dataporten Groups\n        },\n        \n        wipeToken: function()  {\n            client.wipeTokens()\n        },\n\n        authorizePopup: function()  {\n            var self = this;\n            let opts = {\n                scopes: {\n                    request: request\n                },\n                response_type: 'id_token token'\n            }\n\n            client.setLoader(jso.Popup)\n            client.getToken(opts)\n                .then((token) => {\n                    console.log(\"I got the token: \" + token.access_token);\n                    self.token = token;\n                    self.validToken();\n                })\n                .catch((err) => {\n                    console.error(\"Error from popup loader\", err)\n                })\n        },        \n        hiddenIframeLogin : function()\n        {\n//            window.loginType = \"iframeLogin\";\n            var self = this;\n            var silent_opts = this.getSilentOpts();\n            client.setLoader(jso.IFramePassive)\n            client.getToken(silent_opts)\n                .then((token) => {\n                    console.log(\"I got the token: \", token)\n                    self.token = token;\n                    self.validToken();\n                })\n                .catch((err) => {\n                    console.log(\"Error from passive loader\", err)\n                    mmooc.dataporten.clearStatus();\n                    self.printLoginOptions();\n\n//                    alert(\"iframe passive login only works if you are already logged in:\" + err);\n                })\n        }    }\n}();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.discussionTopics = (function () {\n    return {\n        setDiscussionTopicPubDate: function (discussionTopic) {\n            if (discussionTopic) {\n                var formattedDate = mmooc.util.formattedDate(discussionTopic.posted_at);\n                var pubDate = $(\n                    \"<div class='publication-date'>\" + formattedDate + '</div>'\n                );\n                $(pubDate).prependTo('#discussion_topic .discussion-header-right');\n            }\n        },\n\n        setDiscussionsListUnreadClass: function () {\n            var checkExist = setInterval(function () {\n                if (\n                    $('body.discussions #open-discussions .ig-list .discussion').length\n                ) {\n                    clearInterval(checkExist);\n                    $('body.discussions #open-discussions .ig-list .discussion').each(\n                        function () {\n                            var unread = $(this)\n                                .find('.new-items')\n                                .text();\n                            if (unread.indexOf('0') == -1) {\n                                $(this).addClass('unread');\n                            }\n                        }\n                    );\n                }\n            }, 100);\n        },\n        insertSearchButton: function () {\n            $('.index_view_filter_form').append(\n                '<button class=\"btn btn-discussion-search\">'\n            );\n        },\n        printDiscussionUnreadCount: function (modules, context) {\n            var discussionItems = mmooc.discussionTopics.getDiscussionItems(modules);\n            var courseId = mmooc.api.getCurrentCourseId();\n            var totalUnread = 0;\n            var asyncsDone = 0;\n            var groupDiscussionTopics = [];\n            for (var i = 0; i < discussionItems.length; i++) {\n                var contentId = discussionItems[i].content_id;\n                mmooc.api.getDiscussionTopic(courseId, contentId, function (\n                    discussionTopic\n                ) {\n                    if (discussionTopic) {\n                        if (discussionTopic.group_category_id) {\n                            groupDiscussionTopics.push(discussionTopic);\n                        } else {\n                            if (discussionTopic.unread_count > 0) {\n                                if (context == 'coursepage') {\n                                    mmooc.discussionTopics.printUnreadCountOnIcon(\n                                        discussionTopic.unread_count,\n                                        discussionTopic.id\n                                    );\n                                }\n                                totalUnread = totalUnread + discussionTopic.unread_count;\n                            }\n                        }\n                    }\n                    asyncsDone++;\n                    if (asyncsDone == discussionItems.length) {\n                        if (totalUnread > 0 && groupDiscussionTopics.length == 0) {\n                            mmooc.discussionTopics.printUnreadCountInTab(totalUnread);\n                            if (context == 'discussionslist') {\n                                return;\n                            }\n                        } else if (groupDiscussionTopics.length > 0) {\n                            mmooc.discussionTopics.printGroupDiscussionUnreadCount(\n                                courseId,\n                                groupDiscussionTopics,\n                                totalUnread,\n                                context\n                            );\n                        } else {\n                            return;\n                        }\n                    }\n                });\n            }\n        },\n        printGroupDiscussionUnreadCount: function (\n            courseId,\n            groupDiscussionTopics,\n            totalUnread,\n            context\n        ) {\n            // if teacher or admin\n            if (mmooc.util.isTeacherOrAdmin()) {\n                var params = {user_id: 'self', per_page: 999};\n                var asyncsDone = 0;\n                var sectionNames = [];\n                // get enrollments and sections for current user\n                mmooc.api.getEnrollmentsForCourse(courseId, params, function (\n                    enrollments\n                ) {\n                    for (var i = 0; i < enrollments.length; i++) {\n                        var sectionId = enrollments[i].course_section_id;\n                        mmooc.api.getSingleSection(sectionId, function (section) {\n                            sectionNames.push(section.name);\n                            asyncsDone++;\n                            if (asyncsDone == enrollments.length) {\n                                mmooc.api.getGroupsInCourse(courseId, function (groups) {\n                                    var totalAsyncs = 0;\n                                    var allUnreadCounts = [];\n                                    asyncsDone = 0;\n                                    for (var j = 0; j < groups.length; j++) {\n                                        for (var k = 0; k < sectionNames.length; k++) {\n                                            // check if group name equals section name then get discussion topics\n                                            if (groups[j].name == sectionNames[k]) {\n                                                var groupId = groups[j].id;\n                                                totalAsyncs++;\n                                                mmooc.api.getGroupDiscussionTopics(groupId, function (\n                                                    discussions\n                                                ) {\n                                                    for (var l = 0; l < discussions.length; l++) {\n                                                        for (\n                                                            var m = 0;\n                                                            m < groupDiscussionTopics.length;\n                                                            m++\n                                                        ) {\n                                                            // check if group discussion is exists current course\n                                                            if (\n                                                                discussions[l].root_topic_id ==\n                                                                groupDiscussionTopics[m].id\n                                                            ) {\n                                                                if (discussions[l].unread_count > 0) {\n                                                                    var rootTopicUnreadCountsObj = {\n                                                                        rootTopicId: discussions[l].root_topic_id,\n                                                                        unreadCount: discussions[l].unread_count\n                                                                    };\n                                                                    allUnreadCounts.push(\n                                                                        rootTopicUnreadCountsObj\n                                                                    );\n                                                                    totalUnread =\n                                                                        totalUnread + discussions[l].unread_count;\n                                                                }\n                                                            }\n                                                        }\n                                                    }\n                                                    asyncsDone++;\n                                                    if (asyncsDone == totalAsyncs) {\n                                                        mmooc.discussionTopics.printUnreadCountInTab(\n                                                            totalUnread\n                                                        );\n                                                        if (\n                                                            context == 'coursepage' ||\n                                                            context == 'discussionslist'\n                                                        ) {\n                                                            var unreadCountForRootTopic = 0;\n                                                            var totalRootTopicUnreadCounts = [];\n                                                            // add together unread counts with same root topic id\n                                                            for (var n = 0; n < allUnreadCounts.length; n++) {\n                                                                for (\n                                                                    var o = 0;\n                                                                    o < allUnreadCounts.length;\n                                                                    o++\n                                                                ) {\n                                                                    if (\n                                                                        allUnreadCounts[n].rootTopicId ==\n                                                                        allUnreadCounts[o].rootTopicId\n                                                                    ) {\n                                                                        unreadCountForRootTopic =\n                                                                            unreadCountForRootTopic +\n                                                                            allUnreadCounts[o].unreadCount;\n                                                                    }\n                                                                }\n                                                                var totalRootTopicUnreadCountsObj = {\n                                                                    rootTopicId: allUnreadCounts[n].rootTopicId,\n                                                                    unreadCount: unreadCountForRootTopic\n                                                                };\n                                                                totalRootTopicUnreadCounts.push(\n                                                                    totalRootTopicUnreadCountsObj\n                                                                );\n                                                                unreadCountForRootTopic = 0;\n                                                            }\n                                                            // only print unread count for unique topic ids\n                                                            var uniqueTotalRootTopicUnreadCounts = [];\n                                                            var used = [];\n                                                            for (\n                                                                var p = 0;\n                                                                p < totalRootTopicUnreadCounts.length;\n                                                                p++\n                                                            ) {\n                                                                if (\n                                                                    used.indexOf(\n                                                                        totalRootTopicUnreadCounts[p].rootTopicId\n                                                                    ) == -1\n                                                                ) {\n                                                                    var totalRootTopicUnreadCountsObj = {\n                                                                        rootTopicId:\n                                                                        totalRootTopicUnreadCounts[p].rootTopicId,\n                                                                        unreadCount:\n                                                                        totalRootTopicUnreadCounts[p].unreadCount\n                                                                    };\n                                                                    uniqueTotalRootTopicUnreadCounts.push(\n                                                                        totalRootTopicUnreadCountsObj\n                                                                    );\n                                                                    used.push(\n                                                                        totalRootTopicUnreadCounts[p].rootTopicId\n                                                                    );\n                                                                }\n                                                            } // end for totalRootTopicUnreadCounts.length\n                                                            if (context == 'coursepage') {\n                                                                for (\n                                                                    var q = 0;\n                                                                    q < uniqueTotalRootTopicUnreadCounts.length;\n                                                                    q++\n                                                                ) {\n                                                                    mmooc.discussionTopics.printUnreadCountOnIcon(\n                                                                        uniqueTotalRootTopicUnreadCounts[q]\n                                                                            .unreadCount,\n                                                                        uniqueTotalRootTopicUnreadCounts[q]\n                                                                            .rootTopicId\n                                                                    );\n                                                                }\n                                                            }\n                                                            if (context == 'discussionslist') {\n                                                                mmooc.discussionTopics.printUnreadCountInDiscussionsList(\n                                                                    uniqueTotalRootTopicUnreadCounts\n                                                                );\n                                                            } // end if discussions list\n                                                        } // end if coursepage or discussions list\n                                                    } // end if asyncsDone\n                                                }); // end group discussion topics async call\n                                            } // end if group name equals section name\n                                        } // end for sectionNames.length\n                                    } // end for groups.length\n                                }); // end for groups in course async call\n                            } // end if asyncsDone\n                        }); // end section async call\n                    } // end for enrollments.length\n                }); // end enrollments async call\n            } // end if teacher or admin\n            // if student\n            else {\n                mmooc.api.getUserGroups(function (groups) {\n                    if (groups.length == 0 && totalUnread > 0) {\n                        mmooc.discussionTopics.printUnreadCountInTab(totalUnread);\n                    }\n                    for (var i = 0; i < groups.length; i++) {\n                        for (var j = 0; j < groupDiscussionTopics.length; j++) {\n                            if (\n                                groups[i].course_id == courseId &&\n                                groups[i].group_category_id ==\n                                groupDiscussionTopics[j].group_category_id\n                            ) {\n                                groupId = groups[i].id;\n                                mmooc.api.getGroupDiscussionTopics(groupId, function (\n                                    discussions\n                                ) {\n                                    var totalRootTopicUnreadCounts = [];\n                                    for (var k = 0; k < discussions.length; k++) {\n                                        if (discussions[k].unread_count > 0) {\n                                            if (context == 'coursepage') {\n                                                mmooc.discussionTopics.printUnreadCountOnIcon(\n                                                    discussions[k].unread_count,\n                                                    discussions[k].root_topic_id\n                                                );\n                                            }\n                                            if (context == 'discussionslist') {\n                                                var totalRootTopicUnreadCountsObj = {\n                                                    rootTopicId: discussions[k].root_topic_id,\n                                                    unreadCount: discussions[k].unread_count\n                                                };\n                                                totalRootTopicUnreadCounts.push(\n                                                    totalRootTopicUnreadCountsObj\n                                                );\n                                            }\n                                            totalUnread += discussions[k].unread_count;\n                                        }\n                                    }\n                                    if (totalUnread > 0) {\n                                        mmooc.discussionTopics.printUnreadCountInTab(totalUnread);\n                                    }\n                                    if (context == 'discussionslist') {\n                                        mmooc.discussionTopics.printUnreadCountInDiscussionsList(\n                                            totalRootTopicUnreadCounts\n                                        );\n                                    }\n                                }); // end group discussions async call\n                                break;\n                            }\n                        } // end for groupDiscussionTopics.length\n                    } // end for groupDiscussionTopics.length\n                }); // end user groups async call\n            }\n        },\n        getDiscussionItems: function (modules) {\n            var discussionItems = [];\n            for (var i = 0; i < modules.length; i++) {\n                for (var j = 0; j < modules[i].items.length; j++) {\n                    if (modules[i].items[j].type == 'Discussion') {\n                        discussionItems.push(modules[i].items[j]);\n                    }\n                }\n            }\n            return discussionItems;\n        },\n        printUnreadCountOnIcon: function (unread, discussionId) {\n            $('.discussion-unread-tag.discussion-id-' + discussionId).html(\n                \"<div class='discussion-unread-value discussion-unread-item'>\" +\n                unread +\n                '</div>'\n            );\n        },\n        printUnreadCountInTab: function (totalUnread) {\n            $('.mmooc-course-tab a').each(function () {\n                if ($(this).text() == 'Diskusjoner') {\n                    $(this)\n                        .parent()\n                        .append(\n                            \"<div class='discussion-unread-value discussion-unread-tab'>\" +\n                            totalUnread +\n                            '</div>'\n                        );\n                }\n            });\n        },\n        printUnreadCountInDiscussionsList: function (groupDiscussionsUnreadCount) {\n            var checkExist = setInterval(function () {\n                if ($('#open-discussions .ig-list .discussion').length) {\n                    clearInterval(checkExist);\n                    $('#open-discussions .ig-list .discussion').each(function () {\n                        for (var i = 0; i < groupDiscussionsUnreadCount.length; i++) {\n                            if (\n                                $(this).attr('data-id') ==\n                                groupDiscussionsUnreadCount[i].rootTopicId\n                            ) {\n                                $(this)\n                                    .find('.new-items')\n                                    .text(groupDiscussionsUnreadCount[i].unreadCount);\n                                $(this).addClass('unread');\n                            }\n                        }\n                    });\n                    mmooc.discussionTopics.showUnreadCountInDiscussionList();\n                }\n            }, 100);\n        },\n        hideUnreadCountInDiscussionList: function () {\n            var checkExist = setInterval(function () {\n                if ($('#open-discussions .ig-list .discussion').length) {\n                    clearInterval(checkExist);\n                    $('#open-discussions .ig-list .discussion').each(function () {\n                        $(this)\n                            .find('.new-items')\n                            .hide();\n                        $(this)\n                            .find('.new-items')\n                            .parent()\n                            .prepend(\"<span class='loading-gif loading-unread'></span>\");\n                    });\n                }\n            }, 100);\n        },\n        showUnreadCountInDiscussionList: function () {\n            $('#open-discussions .ig-list .discussion .loading-gif').remove();\n            $('#open-discussions .ig-list .discussion').each(function () {\n                $(this)\n                    .find('.new-items')\n                    .show();\n            });\n        },\n        injectReplyButtonAction(userGroups) {\n            const action = () => mmooc.util.tinyMceEditorIsInDOM(\n                    () => mmooc.tinyMCEEditor.injectGroupHashtags(userGroups)\n                );\n\n            const button = document.querySelector(\"#discussion_topic > div.discussion-entry-reply-area.reply-box-container.hide-if-collapsed.hide-if-replying > a\");\n            if (button !== null) {\n                button.addEventListener(\"click\", action);\n            }\n\n            const subReplyButtons = document.querySelectorAll('#discussion_subentries > ul > li > div.bottom-reply-with-box > div.discussion-entry-reply-area.reply-box-container.hide-if-collapsed.hide-if-replying > a');\n            for (let i = 0; i<subReplyButtons.length; i++){\n                const subReplyButton = subReplyButtons[i];\n                subReplyButton.addEventListener(\"click\", action)\n            }\n        }\n    };\n})();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.enroll = (function () {\n  return {\n    changeEnrollInformationPolicyLink: function () {\n      var informationPolicy = $('.ic-Self-enrollment-footer__Secondary > a');\n      if(informationPolicy) {\n        informationPolicy.attr(\"href\", mmooc.settings.privacyPolicyLink);\n      }\n      \n      var termsOfService = $('#create_user_info > div.ic-Checkbox-group > div > label');\n      if(termsOfService) {\n        termsOfService.html(\"Jeg er enig i personvernspolitikken.\");\n      }\n    },\n    addForgotPasswordLink: function () {\n      const buttonId = 'selfEnrollmentForgotPassword';\n      const forgotPasswordButtonHtml =\n        '<button id=\"' + buttonId + '\" class=\"btn btn-primary\" style=\"display: none;\" type=\"submit\">' +\n        'Glemt passord?</button>';\n\n      const parentDiv = $('.ic-Self-enrollment-footer__Primary');\n      parentDiv.prepend(forgotPasswordButtonHtml);\n\n      const forgotPasswordButton = $(`#${buttonId}`);\n      forgotPasswordButton.on(\n        'click', _ => window.location = '/login/canvas?normalLogin=1&design=udir&gp'\n      );\n\n      const alreadyHasUserButton = $('#selfEnrollmentAuthRegLogin');\n      alreadyHasUserButton.on('click', _ => forgotPasswordButton.show());\n\n      const newUserButton = $('#selfEnrollmentAuthRegCreate');\n      newUserButton.on('click', _ => forgotPasswordButton.hide());\n    },\n    changeEnrollPage: function () {\n      this.changeEnrollInformationPolicyLink();\n      this.addForgotPasswordLink();\n    },\n    printAllCoursesContainer: function () {\n      html = mmooc.util.renderTemplateWithData('allcoursescontainer', {\n        courseLabel: mmooc.i18n.CoursePlural.toLowerCase(),\n        allAvailableCoursesIngress: mmooc.i18n.AllAvailableCoursesIngress,\n        linkToMyCourses: mmooc.utilRoot.getLinkToMyCourses(),\n        isAuthenticated: mmooc.util.isAuthenticated(),\n        isMobileOrTablet: mmooc.util.isMobileOrTablet()\n      });\n      document.title = 'Tilgjengelige ' + mmooc.i18n.CoursePlural.toLowerCase();\n      document.getElementById('content').innerHTML = html;\n    },\n    goToAllCourses() {\n      $('#mmooc-all-courses-btn').click(function () {\n        const linkToMyCourses = mmooc.utilRoot.getLinkToMyCourses();\n        window.location.href = linkToMyCourses;\n      })\n    },\n    printAllCourses: function () {\n      var self = this;\n      html = \"<div class='mmooc-loader-wrapper'><span class='loading-gif'></span></div>\";\n      $('.mmooc-all-courses-list').append(html);\n      mmooc.api.getAllPublicCourses(function (allCourses) {\n        mmooc.api.getEnrolledCourses(function (enrolledCourses) {\n          var allCoursesWithStatus = mmooc.enroll.setCourseEnrolledStatus(\n            allCourses,\n            enrolledCourses\n          );\n\n          allCoursesWithStatusSorted = mmooc.util.sortCourses(allCoursesWithStatus);\n          var categorys = mmooc.util.getCourseCategories(allCoursesWithStatusSorted);\n\n          /* If the amount of courses is large, the filter select box and corresponding javascript code in allcoursescontainer.hbs should be enabled \n\n          mmooc.enroll.populateFilter(categorys);\n\n          $(\"#filter\").change(function () {\n            mmooc.enroll.applyFilter();\n          });\n\n          */\n\n          var coursesCategorized = mmooc.util.getCoursesCategorized(\n            allCoursesWithStatusSorted,\n            categorys\n          );\n\n          $('.mmooc-loader-wrapper').remove();\n\n          for (var i = 0; i < coursesCategorized.length; i++) {\n            const coursesCategory = coursesCategorized[i];\n            const coursesEnrolledAmount = mmooc.util.filter(\n              coursesCategory.courses,\n              function (course) {\n                return course.enrolled === true\n              }).length;\n            const coursesAmount = coursesCategory.courses && coursesCategory.courses.length;\n\n            var isAuthenticated = mmooc.util.isAuthenticated();\n            var courseRegisterText = mmooc.i18n.LogInCanvas;\n            if (isAuthenticated) {\n              courseRegisterText = mmooc.i18n.CourseRegisterWhenAuthenticated;\n            }\n            html = mmooc.util.renderTemplateWithData('allcourseslist', {\n              queryString: mmooc.hrefQueryString,\n              title: coursesCategory.title,\n              isAuthenticated: isAuthenticated,\n              courses: coursesCategory.courses,\n              coursesEnrolledAmount: coursesEnrolledAmount,\n              coursesAmount: coursesAmount,\n              coursesAmountText: mmooc.i18n.CoursesAmount(coursesAmount),\n              courseLabel: mmooc.i18n.Course.toLowerCase(),\n              goToCourse: mmooc.i18n.GoToCourse,\n              courseRegister: courseRegisterText,\n              openCoursesGroupText: mmooc.i18n.OpenCoursesGroup,\n              closeCoursesGroupText: mmooc.i18n.CloseCoursesGroup,\n              YouAreRegisteredToXCoursesText: mmooc.i18n.YouAreRegisteredToXCourses(coursesEnrolledAmount),\n              index: i\n            });\n            $('.mmooc-all-courses-list').append(html);\n          }\n\n          // Displays information, that there is no current courses available to enroll\n          if (coursesCategorized.length == 0) {\n            html = '<p class=\"text-center\">' + mmooc.i18n.NoCoursesInfo + '</p>';\n            $('.mmooc-all-courses-list').append(html);\n          }\n\n          mmooc.enroll.insertModalAndOverlay();\n          mmooc.enroll.setClickHandlers();\n\n          // TODO: move if there is a better place for this code - it handles course list UI\n          // accordion UI\n          $('.mmooc-accordion-header').click(event => {\n            let accordionIndex = event.target.getAttribute('index');\n\n            if (\n              $(`#mmooc-accordion-header-${accordionIndex}`).hasClass(\n                'mmooc-accordion-header-active'\n              )\n            ) {\n              $(`#mmooc-accordion-header-${accordionIndex}`).toggleClass(\n                'mmooc-accordion-header-active'\n              );\n            } else {\n              $('.mmooc-accordion-header-active').removeClass(\n                'mmooc-accordion-header-active'\n              );\n\n              $(`#mmooc-accordion-header-${accordionIndex}`).addClass(\n                'mmooc-accordion-header-active'\n              );\n            }\n\n            // remove active tabs when new accordion element is clicked\n            $('.mmooc-tab-head').removeClass('mmooc-tab-head-active');\n            $('.mmooc-tab-content').removeClass('mmooc-tab-content-active');\n            $('.mmooc-tabs-mobile-header-active').removeClass(\n              'mmooc-tabs-mobile-header-active'\n            );\n            $('.mmooc-tabs-mobile-content-active').removeClass(\n              'mmooc-tabs-mobile-content-active'\n            );\n\n            // add active class to first tab when the accordion element is opened\n            $('.mmooc-tab-head-0').addClass('mmooc-tab-head-active');\n            $('.mmooc-tab-content-0').addClass('mmooc-tab-content-active');\n          });\n\n          // tabs\n          $('.mmooc-tab-head').click(event => {\n            let tabIndex = event.target.getAttribute('index');\n\n            $('.mmooc-tab-head').removeClass('mmooc-tab-head-active');\n            $(`#mmooc-tab-head-${tabIndex}`).addClass('mmooc-tab-head-active');\n\n            $('.mmooc-tab-content').removeClass('mmooc-tab-content-active');\n            $(`#mmooc-tab-content-${tabIndex}`).addClass(\n              'mmooc-tab-content-active'\n            );\n          });\n\n          // tabs-mobile\n\n          $('.mmooc-tabs-mobile-header').click(event => {\n            let mobileTabIndex = event.target.getAttribute('index');\n\n            if (\n              $(`#mmooc-tabs-mobile-header-${mobileTabIndex}`).hasClass(\n                'mmooc-tabs-mobile-header-active'\n              )\n            ) {\n              $(`#mmooc-tabs-mobile-header-${mobileTabIndex}`).toggleClass(\n                'mmooc-tabs-mobile-header-active'\n              );\n              $(`#mmooc-tabs-mobile-content-${mobileTabIndex}`).toggleClass(\n                'mmooc-tabs-mobile-content-active'\n              );\n            } else {\n              $('.mmooc-tabs-mobile-header-active').removeClass(\n                'mmooc-tabs-mobile-header-active'\n              );\n              $('.mmooc-tabs-mobile-content-active').removeClass(\n                'mmooc-tabs-mobile-content-active'\n              );\n\n              $(`#mmooc-tabs-mobile-header-${mobileTabIndex}`).addClass(\n                'mmooc-tabs-mobile-header-active'\n              );\n              $(`#mmooc-tabs-mobile-content-${mobileTabIndex}`).addClass(\n                'mmooc-tabs-mobile-content-active'\n              );\n            }\n          });\n\n          self.createHashTags();\n          self.scrollToCourse();\n        });\n      });\n    },\n    createHashTags: function () {\n      $('span').click(function (e) {\n        if ($(this).filter(\"[data-name='course']\")) {\n          var hashTag = $(e.currentTarget).attr(\"class\")\n          window.location.hash = hashTag;\n        }\n      });\n\n      $(\"button[data-title]\").click(function (e) {\n        var firstCourseId = $(this).siblings().find('span').eq(0).attr('class');\n        var hashTag = firstCourseId;\n        window.location.hash = hashTag;\n      })\n    },\n    scrollToCourse: function () {\n      var currentHash = window.location.hash.split('#');\n      var courses = $('span').filter(\"[data-name='course']\");\n\n      courses.each(function (i, el) {\n        var currentElementId = $(el).attr('class');\n        if (currentHash[1] === currentElementId) {\n          var categoryElement = $(el).closest('section').find('button').eq(0);\n          categoryElement.trigger(\"click\");\n\n          var mobileViewport = window.matchMedia(\"(max-width: 650px)\");\n\n          if (mobileViewport.matches) {\n            $([document.documentElement, document.body]).animate({\n              scrollTop: $(el).find('button').offset().top\n            }, 500);\n          } else {\n            $([document.documentElement, document.body]).animate({\n              scrollTop: $(\".\" + currentElementId).offset().top\n            }, 500);\n          }\n          var courseTab = $(el).find('button');\n          courseTab.trigger(\"click\");\n        }\n      })\n    },\n    setCourseEnrolledStatus: function (allCourses, enrolledCourses) {\n      var allCoursesWithStatus = [];\n      for (var i = 0; i < allCourses.length; i++) {\n        allCourses[i].course.enrolled = false;\n        for (var j = 0; j < enrolledCourses.length; j++) {\n          if (allCourses[i].course.id == enrolledCourses[j].id) {\n            allCourses[i].course.enrolled = true;\n          }\n        }\n        allCoursesWithStatus.push(allCourses[i].course);\n      }\n      return allCoursesWithStatus;\n    },\n    insertModalAndOverlay: function () {\n      $('body').append(\"<div class='mmooc-modal-overlay'></div>\");\n      $('body').append(\"<div class='mmooc-modal'></div>\");\n    },\n    handleEnrollClick: function (e, html) {\n      $('.mmooc-modal').html(html);\n      $('.mmooc-modal-overlay').show();\n      $('.mmooc-modal').show();\n      $('.mmooc-modal .modal-back').click(function (e) {\n        e.preventDefault();\n        $('.mmooc-modal-overlay').hide();\n        $('.mmooc-modal').hide();\n      });\n    },\n    setClickHandlers: function () {\n      $('.notenrolled').click(function (e) {\n        e.preventDefault();\n        var html = $(this)\n          .next()\n          .html();\n        mmooc.enroll.handleEnrollClick(e, html);\n      });\n      $('.all-courses-show-modal').click(function (e) {\n        e.preventDefault();\n        var html = $(this)\n          .parent()\n          .next()\n          .html();\n        mmooc.enroll.handleEnrollClick(e, html);\n      });\n      $('.mmooc-modal-overlay').click(function (e) {\n        e.preventDefault();\n        $('.mmooc-modal-overlay').hide();\n        $('.mmooc-modal').hide();\n      });\n      $(document).on('keydown', function (e) {\n        if (e.keyCode === 27) {\n          $('.mmooc-modal-overlay').hide();\n          $('.mmooc-modal').hide();\n        }\n      });\n    },\n    populateFilter: function (categorys) {\n      var options =\n        '<option value=\"Alle\">Alle tilgjengelige ' +\n        mmooc.i18n.CoursePlural.toLowerCase() +\n        '</option>';\n      for (var i = 0; i < categorys.length; i++) {\n        options +=\n          '<option value=\"' + categorys[i] + '\">' + categorys[i] + '</option>';\n      }\n      $('#filter').append(options);\n    },\n    applyFilter: function () {\n      var value = $('#filter').val();\n      if (value == 'Alle') {\n        $('.mmooc-all-courses-list').removeClass('filter-active');\n        $('.mmooc-all-courses-list h2').each(function () {\n          $(this).show();\n          $(this)\n            .next()\n            .show();\n        });\n      } else {\n        $('.mmooc-all-courses-list').addClass('filter-active');\n        $('.mmooc-all-courses-list h2').each(function () {\n          if ($(this).text() == value) {\n            $(this).show();\n            $(this)\n              .next()\n              .show();\n          } else {\n            $(this).hide();\n            $(this)\n              .next()\n              .hide();\n          }\n        });\n      }\n    }\n  };\n})();\n","utgaatteKommuneNr = [\n    1,\n    2,\n    4,\n    5,\n    6,\n    7,\n    8,\n    9,\n    10,\n    12,\n    13,\n    14,\n    16,\n    17,\n    19,\n    20,\n    101,\n    102,\n    103,\n    104,\n    105,\n    106,\n    111,\n    113,\n    114,\n    115,\n    118,\n    119,\n    121,\n    122,\n    123,\n    124,\n    125,\n    127,\n    128,\n    130,\n    131,\n    133,\n    134,\n    135,\n    136,\n    137,\n    138,\n    211,\n    213,\n    214,\n    215,\n    216,\n    217,\n    219,\n    220,\n    221,\n    226,\n    227,\n    228,\n    229,\n    230,\n    231,\n    233,\n    234,\n    235,\n    236,\n    237,\n    238,\n    239,\n    401,\n    402,\n    403,\n    412,\n    414,\n    415,\n    417,\n    418,\n    419,\n    420,\n    423,\n    425,\n    426,\n    427,\n    428,\n    429,\n    430,\n    432,\n    434,\n    436,\n    437,\n    438,\n    439,\n    441,\n    501,\n    502,\n    511,\n    512,\n    513,\n    514,\n    515,\n    516,\n    517,\n    519,\n    520,\n    521,\n    522,\n    528,\n    529,\n    532,\n    533,\n    534,\n    536,\n    538,\n    540,\n    541,\n    542,\n    543,\n    544,\n    545,\n    602,\n    604,\n    605,\n    612,\n    615,\n    616,\n    617,\n    618,\n    619,\n    620,\n    621,\n    622,\n    623,\n    624,\n    625,\n    626,\n    627,\n    628,\n    631,\n    632,\n    633,\n    701,\n    702,\n    703,\n    704,\n    705,\n    706,\n    707,\n    708,\n    709,\n    710,\n    711,\n    712,\n    713,\n    714,\n    715,\n    716,\n    717,\n    718,\n    719,\n    720,\n    721,\n    722,\n    723,\n    725,\n    726,\n    727,\n    728,\n    729,\n    805,\n    806,\n    807,\n    811,\n    814,\n    815,\n    817,\n    819,\n    821,\n    822,\n    826,\n    827,\n    828,\n    829,\n    830,\n    831,\n    833,\n    834,\n    901,\n    903,\n    904,\n    906,\n    911,\n    912,\n    914,\n    918,\n    919,\n    920,\n    921,\n    922,\n    926,\n    928,\n    929,\n    935,\n    937,\n    938,\n    940,\n    941,\n    1001,\n    1002,\n    1003,\n    1004,\n    1014,\n    1017,\n    1018,\n    1021,\n    1026,\n    1027,\n    1029,\n    1032,\n    1034,\n    1037,\n    1046,\n    1102,\n    1129,\n    1141,\n    1142,\n    1154,\n    1159,\n    1201,\n    1211,\n    1214,\n    1216,\n    1219,\n    1221,\n    1222,\n    1223,\n    1224,\n    1227,\n    1228,\n    1231,\n    1232,\n    1233,\n    1234,\n    1235,\n    1238,\n    1241,\n    1242,\n    1243,\n    1244,\n    1245,\n    1246,\n    1247,\n    1251,\n    1252,\n    1253,\n    1256,\n    1259,\n    1260,\n    1263,\n    1264,\n    1265,\n    1266,\n    1401,\n    1411,\n    1412,\n    1413,\n    1416,\n    1417,\n    1418,\n    1419,\n    1420,\n    1421,\n    1422,\n    1424,\n    1426,\n    1428,\n    1429,\n    1430,\n    1431,\n    1432,\n    1433,\n    1438,\n    1439,\n    1441,\n    1443,\n    1444,\n    1445,\n    1449,\n    1502,\n    1503,\n    1504,\n    1519,\n    1523,\n    1524,\n    1526,\n    1529,\n    1534,\n    1543,\n    1545,\n    1546,\n    1548,\n    1551,\n    1556,\n    1567,\n    1569,\n    1571,\n    1572,\n    1601,\n    1612,\n    1613,\n    1617,\n    1620,\n    1621,\n    1622,\n    1624,\n    1627,\n    1630,\n    1632,\n    1633,\n    1634,\n    1635,\n    1636,\n    1638,\n    1640,\n    1644,\n    1648,\n    1653,\n    1657,\n    1662,\n    1663,\n    1664,\n    1665,\n    1702,\n    1703,\n    1711,\n    1714,\n    1717,\n    1718,\n    1719,\n    1721,\n    1723,\n    1724,\n    1725,\n    1729,\n    1736,\n    1738,\n    1739,\n    1740,\n    1742,\n    1743,\n    1744,\n    1748,\n    1749,\n    1750,\n    1751,\n    1755,\n    1756,\n    1805,\n    1842,\n    1849,\n    1850,\n    1852,\n    1854,\n    1901,\n    1902,\n    1903,\n    1911,\n    1913,\n    1915,\n    1917,\n    1919,\n    1920,\n    1922,\n    1923,\n    1924,\n    1925,\n    1926,\n    1927,\n    1928,\n    1929,\n    1931,\n    1933,\n    1936,\n    1938,\n    1939,\n    1940,\n    1941,\n    1942,\n    1943,\n    2001,\n    2002,\n    2003,\n    2004,\n    2011,\n    2012,\n    2014,\n    2015,\n    2016,\n    2017,\n    2018,\n    2019,\n    2020,\n    2021,\n    2022,\n    2023,\n    2024,\n    2025,\n    2027,\n    2028,\n    2030,\n    5004,\n    5005,\n    5011,\n    5012,\n    5013,\n    5015,\n    5016,\n    5017,\n    5018,\n    5019,\n    5023,\n    5024,\n    5030,\n    5039,\n    5040,\n    5048,\n    5050,\n    5051,\n    2121,\n    2131,\n    2111\n]","this.mmooc = this.mmooc || {};\n\nthis.mmooc.footer = (function() {\n  return {\n    addLicenseInFooter : function() {\n      $(\".public-license\").hide()\n      var $mmoocLicenseElement = $('#mmoocLicense');\n\n      var html = mmooc.util.renderTemplateWithData('footer-license', {});\n      $mmoocLicenseElement.html(html);\n    },\n    changeFooter : function() {\n      var $parentElementOfOldFooter = $('#application.ic-app #wrapper');\n      var html = mmooc.util.renderTemplateWithData('footer', {privacyPolicyLink: mmooc.settings.privacyPolicyLink, homeOrganization: mmooc.settings.homeOrganization, contactPoint: mmooc.settings.contactPoint, about: mmooc.settings.aboutThePlatform});\n      $parentElementOfOldFooter.append(html);\n    }\n  };\n})();\n","mmooc = mmooc || {};\n\nmmooc.greeting = (function() {\n  function redesignPage() {\n    $('#wrapper').addClass('diploma-page');\n  }\n\n  function fixLinkToModules($content) {\n    if ($content.find('.alert li > a').size() <= 0) {\n      return;\n    }\n\n    redesignPage();\n    mmooc.api.getModulesForCurrentCourse(function(modules) {\n      var firstItemPerModule = {};\n      for (var i in modules) {\n        firstItemPerModule[modules[i].id] = modules[i].items[0];\n      }\n\n      $('.alert li > a').each(function() {\n        var oldPath = $(this).attr('href');\n        var moduleNumber = /courses\\/\\d+\\/modules\\/(\\d+)/.exec(oldPath);\n        if (moduleNumber.length > 0) {\n          $(this).attr('href', firstItemPerModule[moduleNumber[1]].html_url);\n        }\n      });\n    });\n  }\n\n  return {\n    enableGreetingButtonIfNecessary : function() {\n      var $content = $('#content');\n      var $diplomaButton = $content.find('.sikt-diploma-button');\n      var $formIdDiv = $content.find('.sikt-diploma-formId');\n      var $nameEntryIdDiv = $content.find('.sikt-diploma-nameEntryId');\n      var $emailEntryIdDiv = $content.find('.sikt-diploma-emailEntryId');\n/*\n      if ($diplomaButton.length) {\n        $diplomaButton.replaceWith(\"<div class='uob-warning'>Vi har dessverre problemer med diplommekanismen. Vi jobber med saken.</div>\");\n        return;\n      }\n*/\n      if (\n        $diplomaButton.length &&\n        $formIdDiv.length &&\n        $nameEntryIdDiv.length &&\n        $emailEntryIdDiv.length\n      ) {\n          $('body').on('click', '.sikt-diploma-button', function () {\n          if ($diplomaButton.hasClass('btn-done')) {\n            return;\n          }\n\n          $('#info').html(mmooc.util.renderTemplateWithData('waitIcon', {}));\n\n          var formId = $formIdDiv.text();\n          var nameEntryId = $nameEntryIdDiv.text();\n          var emailEntryId = $emailEntryIdDiv.text();\n          var str1 = 'https://docs.google.com/forms/d/';\n          var str2 = '/formResponse';\n          var googleurl = str1.concat(formId, str2);\n\n          str1 = 'entry.';\n          var nameEntry = str1.concat(nameEntryId);\n          var emailEntry = str1.concat(emailEntryId);\n\n          mmooc.api.getUserProfile(function(profile) {\n            var values = {};\n            values[nameEntry] = profile.name;\n            values[emailEntry] = profile.primary_email;\n\n            $.ajax({\n              url: googleurl,\n              data: values,\n              type: 'POST',\n              dataType: 'xml',\n              complete: function(jqXHR) {\n                switch (jqXHR.status) {\n                  case 0:\n                    str1 = 'Diplom ble sendt til denne eposten:';\n                    var s = str1.concat(profile.primary_email);\n                    $('#info').html(s);\n                    $diplomaButton.addClass('btn-done');\n                    break;\n                  default:\n                    $('#info').addClass('error');\n                    $('#info').html(\n                      'En feil oppstod. Ta kontakt med kursansvarlig for &aring; f&aring; hjelp.'\n                    );\n                }\n              }\n            }); //End Google callback\n          }); //End Canvas user profile callback\n        }); //End diploma button clicked\n        redesignPage();\n      } //End if valid diploma fields\n\n      fixLinkToModules($content);\n    },\n    enableDownloadDiplomaButtonIfNecessary : function() {\n      var $content = $(\"#content\");\n      var $downloadDiplomaButton = $content.find(\".download-diploma-button\");\n      var $scriptUrlDiv = $content.find(\".download-diploma-scriptId\");\n      var $diplomaIdDiv = $content.find(\".download-diploma-id\");\n\n      if ($downloadDiplomaButton.length && $scriptUrlDiv.length && $diplomaIdDiv.length) {\n        $('body').on('click', '.download-diploma-button', function () {\n          $downloadDiplomaButton.attr(\"disabled\", true);\n    \n          $('#info').append(mmooc.util.renderTemplateWithData(\"waitIcon\", {}));\n\n          var scriptUrl = $scriptUrlDiv.text();\n          var diplomaId = $diplomaIdDiv.text();\n\n          mmooc.api.getUserProfile(function (profile) {\n            var values = {};\n            values[\"Navn\"] = profile.name;\n            values[\"Epost\"] = profile.primary_email;\n            values[\"DiplomaId\"] = diplomaId;\n            var downloadingDiploma = false;\n\n            $.ajax({\n              xhr: function() {\n                  var xhr = new window.XMLHttpRequest();\n                  xhr.addEventListener(\"progress\", function(evt) {\n                    if(!downloadingDiploma) {\n                      downloadingDiploma = true;\n                      $('#info').html(\"Mottar diplomet\");\n                    } else {\n                      $('#info').append(\".\");\n                    }\n                  }, false);\n                  return xhr;\n              },\n              url: scriptUrl,\n              data: values,\n                            type: \"POST\",\n                            dataType: \"json\",\n              beforeSend: function () {\n              },\n          \n              error: function (jqXHR, textStatus, errorThrown) {\n                console.log(jqXHR);\n                console.log(textStatus);\n                console.log(errorThrown);\n                var s = \"Diplom ble ikke laget. Følgende gikk galt: \" + jqXHR + textStatus + errorThrown;\n                $('#info').html(s);\n              },\n          \n              success: function (response) {\n                if(response.result == \"success\")\n                {\n                  var bufferArray = new Int8Array(response.diploma);\n                  var blob = new Blob([bufferArray], {type: 'application/pdf'});\n                  const link = document.createElement('a');\n                  link.href = URL.createObjectURL(blob);\n                  link.download = response.diplomaName + \".pdf\";\n                  link.innerText = \"Last ned\";\n                  $(\"#diplomaLink\").html(\"Diplomet er klart til nedlasting: \")\n                  $(\"#diplomaLink\").append(link);\n                }\n                else\n                {\n                  var s = \"Diplom kunne ikke lages fordi: \" + response.result;\n                  $('#info').html(s);\n                }\n                $(\".download-diploma-button\").addClass('btn-done');\n              },\n          \n              complete: function () {\n                console.log('Finished all tasks');\n              }\n            }); //End google call.\n          }); //End Canvas user profile callback\n        }); //End diploma button clicked\n        redesignPage();\n      } //End if valid diploma fields\n      fixLinkToModules($content);\n    },\n    enableNewGreetingButtonIfNecessary: function () {\n      var $content = $(\"#content\");\n      var $newDiplomaButton = $content.find(\".new-sikt-diploma-button\");\n      var $scriptUrlDiv = $content.find(\".new-sikt-diploma-scriptId\");\n      var $diplomaIdDiv = $content.find(\".new-sikt-diploma-id\");\n      var $diplomaId = \"\";\n\n      if($diplomaIdDiv) {\n        $diplomaId = $diplomaIdDiv.text()\n      }\n\n      if ($newDiplomaButton.length && $scriptUrlDiv.length) {\n\n        $('body').on('click', '.new-sikt-diploma-button', function () {\n          if ($newDiplomaButton.hasClass('btn-done')) {\n              return;\n          }\n\n          $('#info').html(mmooc.util.renderTemplateWithData(\"waitIcon\", {}));\n\n          var scriptUrl = $scriptUrlDiv.text();\n\n          mmooc.api.getUserProfile(function (profile) {\n            var values = {};\n            values[\"Navn\"] = profile.name;\n            values[\"Epost\"] = profile.primary_email;\n            values[\"DiplomaId\"] = $diplomaId;\n\n            $.ajax({\n              url: scriptUrl,\n              data: values,\n                            type: \"POST\",\n                            dataType: \"json\",\n              beforeSend: function () {\n                console.log(\"Loading\");\n              },\n\n              error: function (jqXHR, textStatus, errorThrown) {\n                console.log(jqXHR);\n                console.log(textStatus);\n                console.log(errorThrown);\n                var s = \"Diplom ble ikke sendt. Følgende gikk galt: \" + jqXHR + textStatus + errorThrown;\n                $('#info').html(s);\n                $(\".new-sikt-diploma-button\").addClass('btn-done');\n              },\n\n              success: function (result) {\n                console.log(result);\n                if(result.result == \"success\")\n                {\n                  var s = \"Diplom ble sendt til \" + profile.name + \" med denne eposten: \" + profile.primary_email;\n                  $('#info').html(s);\n                }\n                else\n                {\n                  var s = \"Diplom kunne ikke sendes fordi: \" + result.result;\n                  $('#info').html(s);\n                }\n                $(\".new-sikt-diploma-button\").addClass('btn-done');\n              },\n\n              complete: function () {\n                console.log('Finished all tasks');\n              }\n            }); //End google call.\n          }); //End Canvas user profile callback\n        }); //End diploma button clicked\n        redesignPage();\n      } //End if valid diploma fields\n      fixLinkToModules($content);\n    }\n  };\n})();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.groups = (function() {\n  function interceptLinkToGroupPageForHref(href, event) {\n    if (/\\/groups\\/\\d+$/.test(href)) {\n      event.preventDefault();\n      location.href = href + '/discussion_topics';\n    }\n  }\n\n  return {\n    interceptLinksToGroupPage: function() {\n      $('#content').on('click', '.student-group-title a', function(event) {\n        var href = $(this).attr('href');\n        interceptLinkToGroupPageForHref(href, event);\n      });\n\n      $('#right-side').on('click', '.group_list a', function(event) {\n        var href = $(this).attr('href');\n        interceptLinkToGroupPageForHref(href, event);\n      });\n\n      //20180906ETH Vi ønsker diskusjonsvisning som default for lærere også.\n      $('#content-wrapper').on('click', '.visit-group', function(event) {\n        var href = $(this).attr('href');\n        interceptLinkToGroupPageForHref(href, event);\n      });\n    },\n    interceptLinksToTeacherGroupPage: function() {\n      //20180906ETH Vi ønsker diskusjonsvisning som default for lærere også.\n      $('#left-side').on('click', '.ui-menu-item a', function(event) {\n        var href = $(this).attr('href');\n        interceptLinkToGroupPageForHref(href, event);\n      });\n    },\n    showGroupHeader: function(groupId, courseId) {\n      mmooc.api.getGroupMembers(groupId, function(members) {\n        var headerHTML = mmooc.util.renderTemplateWithData('groupheader', {\n          groupId: groupId,\n          courseId: courseId,\n          members: members\n        });\n        document\n          .getElementById('content-wrapper')\n          .insertAdjacentHTML('afterbegin', headerHTML);\n        $('body').addClass('group-header');\n      });\n    },\n\n    changeGroupListURLs: function(href) {\n      if (\n        /\\/groups(\\/)?$/.test(href) ||\n        /(\\/groups(\\??([A-Za-z0-9\\=\\&]{0,})))$/.test(href)\n      ) {\n        var list = $('.context_list li a');\n        list.each(function(i) {\n          this.setAttribute(\n            'href',\n            this.getAttribute('href') + '/discussion_topics'\n          );\n        });\n        return true;\n      }\n\n      return false;\n    },\n\n    moveSequenceLinks: function() {\n      var sequenceContainer = $('#module_sequence_footer');\n      var cloneSequenceContainer = sequenceContainer.clone();\n      cloneSequenceContainer.attr(\"id\", \"module_sequence_footer_top\");\n      var discussionContainer = $('#discussion_container');\n      cloneSequenceContainer.addClass('module-sequence-top');\n      cloneSequenceContainer.insertBefore(discussionContainer);\n    }\n  };\n})();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.login = (() => {\n  return {\n    handleLoginButtonClick() {\n      $('.mmooc-header__login-button').click(() => {\n        if(!$('.login-box').length) {\n          let html = mmooc.util.renderTemplateWithData('loginPopup', {\n            logInText: mmooc.i18n.LogInPopup,\n            logInCanvasText: mmooc.i18n.LogInCanvas,\n          });\n            document.getElementById('wrapper').insertAdjacentHTML('afterend', html);\n            $('#application').before(`<div class=\"overlay\"></div>`)\n            $('.login-box__close, .overlay').click(() => {\n              $('.login-box, .overlay').remove()\n            })\n        }\n      })\n    }\n  };\n})();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.menu = (function() {\n  function _renderCourseMenu(course, selectedMenuItem, title, hideTabs) {\n    function _insertCourseMenuHtml(course, selectedMenuItem, title, menuItems) {\n      var subtitle = course.name;\n      if (title == null) {\n        title = course.name;\n        subtitle = '';\n      }\n\n      const selectedLanguageCode = MultilangUtils.getLanguageCode();\n      const languageOptions = {\n        courseIsMultilanguage: this.mmooc.util.isMultilangCourse(mmooc.util.course),\n        selectedLanguage: MultilangUtils.languagesMap()[selectedLanguageCode].name,\n        otherLanguages: MultilangUtils.languagesExcept(selectedLanguageCode),\n      }\n\n      var html = mmooc.util.renderTemplateWithData('coursemenu', {\n        course: course,\n        menuItems: menuItems,\n        selectedMenuItem: selectedMenuItem,\n        title: title,\n        subtitle: subtitle,\n        languageOptions: languageOptions,\n      });\n      document.getElementById('header').insertAdjacentHTML('afterend', html);\n\n      // Update current language and language selection dropdown\n      document.querySelectorAll('button.mmooc-course-language-button')\n        .forEach(element => element.addEventListener('click', event => {\n          const previousLanguage = MultilangUtils.getLanguageCode();\n          const newLanguage = event.target.value;\n\n          document.getElementById('mmooc-course-language-selected').textContent = event.target.textContent;\n          const button = Array.from(document.querySelectorAll('button.mmooc-course-language-button'))\n            .find(element => element.value === newLanguage);\n\n          button.textContent = MultilangUtils.languagesMap()[previousLanguage].name;\n          button.value = previousLanguage;\n\n          MultilangUtils.setActiveLanguage(newLanguage);\n        }));\n    }\n\n    var menuItems = [];\n\n    var courseId = course.id;\n    if (!hideTabs) {\n      menuItems[menuItems.length] = {\n        title: 'Forside',\n        url: '/courses/' + courseId\n      };\n      menuItems[menuItems.length] = {\n        title: 'Kunngjøringer',\n        url: '/courses/' + courseId + '/announcements'\n      };\n      var groupsUrl = '/courses/' + courseId + '/groups';\n      if(mmooc.settings.useDataportenGroups)\n      {\n        groupsUrl = '/courses/' + courseId + '?dataportengroups=1'\n      }\n      if(mmooc.settings.displayGroupsTab)\n      {\n        menuItems[menuItems.length] = {\n          title: 'Grupper',\n          url: groupsUrl\n        };\n      }\n      if(mmooc.settings.displayDiscussionsTab)\n      {\n        menuItems[menuItems.length] = {\n          title: 'Diskusjoner',\n          url: '/courses/' + courseId + '/discussion_topics'\n        };\n      }\n\n      //SelectedMenuItem contains the path if we are called by the external path route.\n      var tools = mmooc.util.getToolsInLeftMenu(selectedMenuItem);\n\n      //If only one tool in list, make it the active one.\n      if(tools.toolList.length == 1)\n      {\n        var tool = tools.toolList[0];\n        if(tool.activeTool) {\n          selectedMenuItem = tool.title;\n        }\n        menuItems[menuItems.length] = {\n          title: tool.title,\n          url: tool.href\n        };\n      } else if(tools.toolList.length > 1) {\n        menuItems[menuItems.length] = {\n          title: tools.activeToolName,\n          toolList: tools.toolList,\n          url: tools.activeToolPath\n        };\n      }\n\n      if (mmooc.util.isTeacherOrAdmin()) {\n        menuItems[menuItems.length] = {\n          title: 'Faglærer',\n          url: '/courses/' + courseId + '/?mmpf'\n        };\n      }\n\n      var badgeSafe = mmooc.menu.extractBadgesLinkFromPage();\n      \n      if (badgeSafe.url) {\n        //If the url of Badges is found then display this as an additional tab\n        menuItems[menuItems.length] = badgeSafe;\n        _insertCourseMenuHtml(course, selectedMenuItem, title, menuItems);\n      } else if (mmooc.settings.useCanvaBadge) {\n        mmooc.menu.setCanvaBadgesLink(course, function(canvaBadgeObject) {\n          //Second parameter is a callback function\n          if (canvaBadgeObject.url) {\n            menuItems[menuItems.length] = canvaBadgeObject; //check if canva badges is used for the current domain and if it is and the user has any badges then display this additional tab\n          }\n          _insertCourseMenuHtml(course, selectedMenuItem, title, menuItems);\n        });\n      } else {\n        _insertCourseMenuHtml(course, selectedMenuItem, title, menuItems);\n      }\n      $('#mmooc-menu-item-verktoy').click(function(event) {\n        handleMenuClick('#mmooc-menu-item-verktoy', '#mmooc-verktoy-list', 400);\n      });\n    }\n  }\n\n  function createStyleSheet() {\n    var style = document.createElement('style');\n\n    // WebKit hack :(\n    style.appendChild(document.createTextNode(''));\n\n    document.head.appendChild(style);\n\n    return style.sheet;\n  }\n\n  function insertCustomMenuElementInTopMenu(linkText, link) {\n    var menu = document.getElementById('menu');\n    if (menu) {\n      menu.insertAdjacentHTML(\n        'afterbegin',\n        '<li class=\"menu-item custom-item ic-app-header__menu-list-item\"><a href=\"' +\n          link +\n          '\" class=\"menu-item-no-drop ic-app-header__menu-list-link\">' +\n          linkText +\n          '</a></li>'\n      );\n    }\n  }\n  \n  function openHelpDialog(event) {\n    event.preventDefault();\n    $('#global_nav_help_link').click(); //Do the same as when you are clicking on the original help button (which display the help dialog)\n  }\n\n  function hideHelpMenuElementIfNotActivated() {\n    $canvasHelpButton = $('#global_nav_help_link');\n    if ($canvasHelpButton.length == 0) {\n      $('li.helpMenu').hide();\n    }\n  }\n  function handleMenuClick(menuSelectId, menuId, time) {\n    if ($(menuId).css('display') != 'none') {\n      $(menuId).slideUp(time);\n      $(menuSelectId).off('mouseleave');\n    } else {\n      $(menuId).slideDown(time);\n      $(menuSelectId).mouseleave(function() {\n        $(menuId).slideUp(time);\n      });\n    }\n  }\n\n  var stylesheet = createStyleSheet();\n\n  return {\n    tooltipRegexpPattern : new RegExp(\"(<br>|</i>)(.*$)\"),\n\n    listModuleItems: function() {\n      mmooc.api.getCurrentModule(function(module) {\n        var courseId = mmooc.api.getCurrentCourseId();\n        var html = \"\";\n        var courseIsRoleBased = mmooc.util.isActiveCourseRoleBased();\n        var tooltipsHandled = false;\n\n        if(courseIsRoleBased && mmooc.util.isPrincipal()) {\n          html = mmooc.util.renderTemplateWithData('moduleitemsprincipal', {\n            backToCoursePage: mmooc.i18n.BackToCoursePage,\n            module: module,\n            courseId: courseId,\n            course: mmooc.util.course\n          });\n        } else {\n          html = mmooc.util.renderTemplateWithData('moduleitems', {\n            backToCoursePage: mmooc.i18n.BackToCoursePage,\n            module: module,\n            courseId: courseId,\n            course: mmooc.util.course\n          });\n\n          //Need to update previous and next buttons. If the course is role based\n          //multilanguage will be handled by that method.\n          if(courseIsRoleBased) {\n            mmooc.menu.updatePrevAndNextButtons(courseId, module);\n            tooltipsHandled = true;\n          }\n        }\n        if(!tooltipsHandled) {\n          mmooc.multilanguage.performPrevNextTooltip();       \n        }\n\n        if (document.getElementById('left-side')) {\n          document\n            .getElementById('left-side')\n            .insertAdjacentHTML('afterbegin', html);\n            mmooc.multilanguage.perform();\n        }\n        //Canvas case: Slow loading for group discussions when large number of groups Case # 05035288 \n        //Display popup box when loading\n        mmooc.util.postModuleMenuProcessing();\n\n        $('.mmooc-reveal-trigger').click(function(event) {\n          var $trigger = $(this);\n          var body = $trigger.attr('href');\n          var i = $trigger.find('i');\n\n          //Hvis elementet vises så lukker vi det\n          if ($(body).css('display') != 'none') {\n            $(body).slideUp(400);\n            //Hvis det inneholder det aktive elementet så må vi vise det.\n            if ($trigger.attr('id') == 'mmooc-module-item-active-header') {\n              $trigger.attr('class', 'active mmooc-reveal-trigger');\n            }\n            i.attr('class', 'icon-mini-arrow-right');\n          } else {\n            $(body).slideDown(400);\n            if ($trigger.attr('id') == 'mmooc-module-item-active-header') {\n              $trigger.attr('class', 'mmooc-reveal-trigger');\n            }\n            i.attr('class', 'icon-mini-arrow-down');\n          }\n          return false;\n        });\n      });\n    },\n    handlePrevModuleItem : function(courseId, moduleItemSequence) {\n      if(moduleItemSequence && moduleItemSequence.items.length && moduleItemSequence.items[0].prev) {\n        var prevItem = moduleItemSequence.items[0].prev;\n        if(prevItem.indent) {\n          id = prevItem.id; \n          mmooc.api.getModuleItemSequence(courseId, id, mmooc.menu.handlePrevModuleItem);\n        } else {\n          var prevButton = $(\".module-sequence-footer-button--previous\");\n          var prevButtonLink = $(\".module-sequence-footer-button--previous a\");\n          prevButtonLink.attr(\"href\", prevItem.html_url);\n          mmooc.menu.updateButtonTooltip(prevButton, prevItem);\n          mmooc.multilanguage.performPrevTooltip();\n          prevButton.show();\n        }\n      }\n    },\n    handleNextModuleItem : function(courseId, moduleItemSequence) {\n      if(moduleItemSequence && moduleItemSequence.items.length && moduleItemSequence.items[0].next) {\n        var nextItem = moduleItemSequence.items[0].next;\n        if(nextItem.indent) {\n          id = nextItem.id; \n          mmooc.api.getModuleItemSequence(courseId, id, mmooc.menu.handleNextModuleItem);\n        } else {\n          var nextButton = $(\".module-sequence-footer-button--next\");\n          var nextButtonLink = $(\".module-sequence-footer-button--next a\");\n          nextButtonLink.attr(\"href\", nextItem.html_url);\n          mmooc.menu.updateButtonTooltip(nextButton, nextItem);\n          mmooc.multilanguage.performNextTooltip();\n          nextButton.show();\n        }\n      }\n    },\n\n    createNewTooltipText : function(oldText, tooltipType, newText) {\n      return oldText.replace(mmooc.menu.tooltipRegexpPattern, tooltipType + newText)\n    },\n    updateButtonTooltip : function(el, item) {\n      var tooltip = el.attr(\"data-html-tooltip-title\");\n      if(tooltip) {\n        el.attr(\"data-html-tooltip-title\", mmooc.menu.createNewTooltipText(tooltip, \"</i>\", item.title));\n        mmooc.multilanguage.update\n      }\n    },\n    updatePrevAndNextButtons : function(courseId, module) {\n      var prevItem = \"\";\n      var nextItem = \"\";\n      var firstValidItem = null;\n      var lastValidItem = null;\n      var prevSet = false;\n      var nextSet = false;\n      var currentFound = false;\n      for(var i = 0; i < module.items.length; i++) {\n        var item = module.items[i];\n        if(!item.indent && (item.type != \"SubHeader\")) {\n          if(!firstValidItem) {firstValidItem = item;}\n          lastValidItem = item;\n          \n          if(item.isCurrent) {\n            currentFound = true;\n          } else if(!currentFound) {\n            prevItem = item;\n            prevSet = true;\n          } else if(!nextSet){\n            nextItem = item;\n            nextSet = true;\n            break;\n          }\n        }\n      }\n      \n      var prevButton = $(\".module-sequence-footer-button--previous\");\n      var nextButton = $(\".module-sequence-footer-button--next\");\n\n      if(prevSet) {\n        var prevButtonLink = $(\".module-sequence-footer-button--previous a\");\n        prevButtonLink.attr(\"href\", prevItem.html_url);\n        mmooc.menu.updateButtonTooltip(prevButton, prevItem);\n        mmooc.multilanguage.performPrevTooltip();\n      } else {\n          prevButton.hide();\n          var id = firstValidItem.id;\n          mmooc.api.getModuleItemSequence(courseId, id, mmooc.menu.handlePrevModuleItem);\n      }\n\n      \n      if(nextSet) {\n          var nextButtonLink = $(\".module-sequence-footer-button--next a\");\n          nextButtonLink.attr(\"href\", nextItem.html_url);\n          mmooc.menu.updateButtonTooltip(nextButton, nextItem);\n          mmooc.multilanguage.performNextTooltip();\n      } else {\n          nextButton.hide();\n          var id = lastValidItem.id;\n          mmooc.api.getModuleItemSequence(courseId, id, mmooc.menu.handleNextModuleItem);\n      }\n    },\n    showLeftMenu: function() {\n      stylesheet.insertRule(\n        'body.with-left-side #main { margin-left: 305px !important }',\n        stylesheet.cssRules.length\n      );\n      stylesheet.insertRule(\n        '.with-left-side #left-side { display: block !important }',\n        stylesheet.cssRules.length\n      );\n      $('body').addClass('useFullWidth'); //Used to solve problems in making the design 100% width in the new UI. This is the simplest way to implement this.\n    },\n    renderLeftHeaderMenu: function() {\n      // render left header menu only for authenticated users\n      if (mmooc.util.isAuthenticated()) {\n        // The entire menu is rebuilt because of unwanted popup in the new ui menu\n        insertCustomMenuElementInTopMenu('Kalender', '/calendar' + mmooc.hrefQueryString);\n        if (mmooc.settings.removeGlobalGradesLink == false) {\n          insertCustomMenuElementInTopMenu('Karakterer', '/grades' + mmooc.hrefQueryString);\n        }\n        if (mmooc.settings.removeGroupsLink == false) {\n          insertCustomMenuElementInTopMenu('Grupper', '/groups' + mmooc.hrefQueryString);\n        }\n        var linkToMyCourses = mmooc.utilRoot.getLinkToMyCourses();\n        insertCustomMenuElementInTopMenu(mmooc.i18n.CoursePlural, linkToMyCourses);\n\n        if (mmooc.util.isTeacherOrAdmin()) {\n          this.showLeftMenu();\n\n          $('#section-tabs-header').show();\n\n          //Canvas changed the aria-label as shown in the two lines below. Keep both lines for backward compatibility.\n          $(\"nav[aria-label='context']\").show();\n          $(\"nav[aria-label='Emner-navigasjonsmeny']\").show();\n\n          //20180821ETH Venstremenyen heter noe annet for grupper.\n          //20180906ETH Men vi ønsker ikke vise den.\n          //                $(\"nav[aria-label='Navigasjonsmeny for grupper ']\").show();\n\n          $('#edit_discussions_settings').show();\n          $('#availability_options').show();\n          $('#group_category_options').show();\n\n          //KURSP-223 Diskusjonssiden scroller til toppen når man skal skrive et innlegg eller et svar\n          //Denne koden ser ikke ut til å være nødvendig ettersom vi ikke har noe kode som\n          //skjuler editor_tabs.\n          //$('#editor_tabs').show();\n\n          // Done via CSS since content is loaded using AJAX\n          stylesheet.insertRule(\n            'body.pages .header-bar-outer-container { display: block }',\n            stylesheet.cssRules.length\n          );\n          stylesheet.insertRule(\n            '#discussion-managebar { display: block }',\n            stylesheet.cssRules.length\n          );\n        }\n      }\n\n      var roles = mmooc.api.getRoles();\n      if (roles != null && roles.indexOf('admin') != -1) {\n        // Admin needs original canvas Course dropdown to access site admin settings\n        //$(\"#courses_menu_item\").show(); //Applies only for Old UI. This is the course menu item with a sub menu.\n        insertCustomMenuElementInTopMenu('Admin', '/accounts' + mmooc.hrefQueryString);\n        // Admin needs more profile settings\n        $('.add_access_token_link').show();\n        $('body.profile_settings')\n          .find('#content > table, #content > h2, #content > p')\n          .show();\n      }\n    },\n\n    renderUnauthenticatedMenu: function() {\n      if (!mmooc.util.isAuthenticated()) {\n        //Hide standard canvas login button\n        $(\"#global_nav_login_link\").hide();\n\n        var linkToAvailableCourses = mmooc.util.getLinkToAvailableCourses();\n        this.alterHomeLink(linkToAvailableCourses);\n        \n        let html = mmooc.util.renderTemplateWithData('noLoggedInHeader', {\n          logInText: mmooc.i18n.LogIn\n        });\n        let htmlMobile = mmooc.util.renderTemplateWithData('noLoggedInHeaderMobile', {\n          logInText: mmooc.i18n.LogIn\n        });\n\n        $('#menu').append(html);\n        $('.ic-app-header__main-navigation').append(html);\n\n        $(\"#mobile-header\").append(htmlMobile);\n\n        mmooc.login.handleLoginButtonClick();\n      }\n    },\n    hideRightMenu: function() {\n      $('#right-side').hide();\n      $('body').removeClass('with-right-side');\n    },\n    showMobileTabs: function() {\n        var selectedTab = document.querySelector(\".selected\");\n\n        if(selectedTab) {\n          selectedTab.insertAdjacentHTML(\n            'beforeend',\n            '<div class=\"tabs-hamburger\">☰</div>'\n          );\n        }\n\n\n\n        $('.tabs-hamburger').click(function(event) {\n          var selectedTab = $('.mmooc-course-tab').filter('.selected');\n          var notSelectedTabs = $('.mmooc-course-tabs li:not(\".selected\")');\n          var allTabs = $('.mmooc-course-tab');\n          var time = 100;\n  \n          if ($(allTabs).css('display') != 'none') {\n            $(notSelectedTabs).slideUp(time);\n            selectedTab.insertBefore('.mmooc-course-tab:first-of-type');\n            $(notSelectedTabs).show();\n          } else {\n            $(notSelectedTabs).show();\n          }\n          selectedTab.insertBefore('.mmooc-course-tab:first-of-type');\n        });\n\n        $(window).on('resize', function(e) {\n          var desktopViewport = window.matchMedia(\"(max-width: 1050px)\");\n          var tabsNotSelected = $('.mmooc-course-tabs li:not(\".selected\")');\n          var tabsHamburger = $('.tabs-hamburger');\n          \n          if(desktopViewport.matches) {\n            $(tabsHamburger).css(\"display\", \"block\");\n          }else {\n            $(tabsHamburger).css(\"display\", \"none\");\n          }\n      \n          if (!desktopViewport.matches) {\n            tabsNotSelected.css(\"display\", \"flex\");\n          }else {\n            tabsNotSelected.css(\"display\", \"none\");\n          }\n      });\n    },\n    hideSectionTabsHeader: function() {\n      $('#section-tabs-header-subtitle').hide();\n    },\n    showHamburger: function() {\n      if(mmooc.util.isAuthenticated()) {\n        var header = document.querySelector(\".ic-app-header__main-navigation\");\n\n        if (header) {\n          header.insertAdjacentHTML(\n            'afterbegin',\n            '<div class=\"menu-mobile\">☰</div>'\n          );\n        }\n      }\n    },\n    showMobileMenu: function() {\n      if(mmooc.util.isAuthenticated) {\n        $('.menu-mobile').click(function(event) {\n          var mobileMenu = $('#menu');\n          var time = 100;\n\n          if (mobileMenu.css('display') != 'none') {\n            mobileMenu.slideUp(time);\n          } else {\n            mobileMenu.slideDown(time);\n          }\n        });\n \n      $(window).on('resize', function(e) {\n          var desktopViewport = window.matchMedia(\"(min-width: 1051px)\");\n                   \n          if (desktopViewport.matches) {\n            $('#menu').css(\"display\", \"flex\");\n          }else {\n            $('#menu').css(\"display\", \"none\");\n          }\n      });\n      }\n    },\n    showUserMenu: function() {\n      var menu = document.getElementById('menu');\n      if (menu != null && mmooc.util.isAuthenticated()) {\n        var html = mmooc.util.renderTemplateWithData('usermenu', {\n          alertMenuItem: mmooc.settings.displayAlertsMenuItem, \n          user: mmooc.api.getUser(), \n          queryString: mmooc.hrefQueryString,\n          displayInboxMenu: mmooc.settings.displayInboxMenu,\n        });\n        menu.insertAdjacentHTML('afterend', html);\n\n        if(mmooc.settings.displayAlertsMenuItem) {\n          $('#mmooc-menu-item-varsler').click(function(event) {\n            handleMenuClick('#mmooc-menu-item-varsler', '#mmooc-activity-stream', 400);\n          });\n        }\n        $('#mmooc-menu-item-profile-settings').click(function(event) {\n          handleMenuClick(\n            '#mmooc-menu-item-profile-settings',\n            '#mmooc-profile-settings',\n            400\n          );\n        });\n\n        var linkToMyCourses = mmooc.utilRoot.getLinkToMyCourses();\n        this.alterHomeLink(linkToMyCourses);\n\n        mmooc.api.getUnreadMessageSize(function(conversations) {\n          var msgBadge = $('#mmooc-unread-messages-count');\n          if (conversations.unread_count != '0') {\n            msgBadge.html(conversations.unread_count);\n            msgBadge.show();\n          } else {\n            msgBadge.hide();\n          }\n        });\n        this.updateNotificationsForUser();\n        \n\n        //20180921ETH Vi bruker ikke hjelpemenyen lenger.\n        //                $(document).on(\"click\", \".helpMenu\", openHelpDialog);\n        //                hideHelpMenuElementIfNotActivated();\n      }\n    },\n    setMenuActiveLink: function() {\n      var menuItems = $('.ic-app-header__menu-list li a ');\n      menuItems.each((_, element) => {\n        if (window.location.pathname.includes($(element).attr('href'))) {\n          $(element).addClass('active');\n        }\n      });\n    },\n\n    updateNotificationsForUser: function() {\n      if(!mmooc.settings.displayAlertsMenuItem) {\n        return;\n      }\n      mmooc.api.getActivityStreamForUser(function(activities) {\n        var unreadNotifications = 0;\n        for (var i = 0; i < activities.length; i++) {\n          if (mmooc.menu.checkReadStateFor(activities[i])) {\n            unreadNotifications++;\n          }\n          activities[i].created_at = mmooc.util.formattedDate(\n            activities[i].created_at\n          );\n        }\n\n        var badge = $('#mmooc-notification-count');\n        if (unreadNotifications == 0) {\n          badge.hide();\n        } else {\n          badge.html(unreadNotifications);\n          badge.show();\n        }\n\n        document.getElementById(\n          'mmooc-activity-stream'\n        ).innerHTML = mmooc.util.renderTemplateWithData('activitystream', {\n          activities: activities\n        });\n\n        var notifications = $('#mmooc-notifications').find('li');\n        var showAllItems = $('#mmooc-notifications-showall');\n        if (notifications.size() > 10) {\n          notifications.slice(10).addClass('hidden');\n\n          showAllItems.click(function() {\n            notifications.removeClass('hidden');\n            showAllItems.hide();\n          });\n        } else {\n          showAllItems.hide();\n        }\n      });\n    },\n\n    showCourseMenu: function(courseId, selectedMenuItem, title, hideTabs) {\n      hideTabs = hideTabs || false; //Do not hide tabs if the parameter\n      $('body').addClass('with-course-menu');\n      mmooc.api.getCourse(courseId, function(course) {\n        _renderCourseMenu(course, selectedMenuItem, title, hideTabs);\n        mmooc.menu.showMobileTabs();\n      });\n    },\n\n    showBackButton: function(url, title) {\n      var buttonHTML = mmooc.util.renderTemplateWithData('backbutton', {\n        url: url,\n        title: title\n      });\n      document\n        .getElementById('content-wrapper')\n        .insertAdjacentHTML('afterbegin', buttonHTML);\n    },\n\n    showGroupHeader: function() {\n      var groupId = mmooc.api.getCurrentGroupId();\n      var groupHeaderHTML = mmooc.util.renderTemplateWithData('backbutton', {\n        groupId: groupId\n      });\n      document\n        .getElementById('content-wrapper')\n        .insertAdjacentHTML('afterbegin', groupHeaderHTML);\n    },\n\n    showDiscussionGroupMenu: function() {\n      function strLeft(sourceStr, keyStr) {\n        return (sourceStr.indexOf(keyStr) == -1) | (keyStr == '')\n          ? ''\n          : sourceStr.split(keyStr)[0];\n      }\n\n      function _addGetHelpFromteacherButton(group) {\n        //Match gruppenavn mot seksjon i seksjonsliste.\n        function _getSectionRecipientFromGroupName(\n          sectionRecipients,\n          groupName\n        ) {\n          for (var i = 0; i < sectionRecipients.length; i++) {\n            var r = sectionRecipients[i];\n            if (r.name == groupName) {\n              return r.id;\n            }\n          }\n          return null;\n        }\n\n        function _tilkallVeilederFeilet() {\n          $('#mmooc-get-teachers-help').addClass('btn-failure');\n          $('#mmooc-get-teachers-help').html('Tilkall veileder feilet');\n        }\n\n        function _sendMessageToSectionTeachers() {\n          var courseId = mmooc.api.getCurrentCourseId();\n          mmooc.api.getUserGroupsForCourse(courseId, function(groups) {\n            if (groups.length == 0 || groups.length > 1) {\n              _tilkallVeilederFeilet();\n              alert(\n                'Det er noe galt med gruppeoppsettet ditt.\\nDu er medlem i ' +\n                  groups.length +\n                  ' grupper.'\n              );\n            } else {\n              var group = groups[0];\n              var groupName = group.name;\n              var groupCourseId = group.course_id;\n              mmooc.api.getSectionRecipients(\n                groupCourseId,\n                (function(courseId) {\n                  return function(recipients) {\n                    var sectionRecipient = _getSectionRecipientFromGroupName(\n                      recipients,\n                      groupName\n                    );\n                    if (sectionRecipient == null) {\n                      _tilkallVeilederFeilet();\n                      alert(\n                        'Det er noe galt med gruppeoppsettet ditt.\\nFant ikke seksjonen til ' +\n                          groupName\n                      );\n                    } else {\n                      var sectionRecipientTeachers =\n                        sectionRecipient + '_teachers';\n                      var subject =\n                        groupName + ' ' + mmooc.i18n.GroupGetInTouchSubject;\n                      var discussionUrl = window.location.href;\n                      var discussionAndGroupTitle = $(\n                        '.discussion-title'\n                      ).text();\n                      var discussionTitle = strLeft(\n                        discussionAndGroupTitle,\n                        ' - '\n                      );\n                      var newLine = '\\n';\n\n                      var body =\n                        mmooc.i18n.WeHaveAQuestionToTeacherInTheDiscussion +\n                        ' \"' +\n                        discussionTitle +\n                        '\":' +\n                        newLine +\n                        discussionUrl;\n\n                      $('#mmooc-get-teachers-help').html('Sender melding...');\n\n                      mmooc.api.postMessageToConversation(\n                        courseId,\n                        sectionRecipientTeachers,\n                        subject,\n                        body,\n                        function(result) {\n                          console.log(result);\n                          $('#mmooc-get-teachers-help').addClass('btn-done');\n                          $('#mmooc-get-teachers-help').html(\n                            'Veileder tilkalt'\n                          );\n                        },\n                        function(error) {\n                          _tilkallVeilederFeilet();\n                          alert(\n                            'Tilkall veileder feilet. Gruppen har ingen veileder.'\n                          );\n                          console.log(error);\n                        }\n                      );\n                    }\n                  };\n                })(groupCourseId)\n              );\n            }\n          });\n        }\n\n        function _addClickEventOnGetHelpFromTeacherButton() {\n          $('#mmooc-get-teachers-help').click(function() {\n            $('#mmooc-get-teachers-help').off('click');\n            $('#mmooc-get-teachers-help').html('Finner veileder...');\n            _sendMessageToSectionTeachers();\n          });\n        }\n\n        // Get help from teacher by clicking a button\n        var getHelpButtonFromteacherButtonHTML = mmooc.util.renderTemplateWithData(\n          'groupdiscussionGetHelpFromTeacher',\n          { hoverOverText: mmooc.i18n.CallForInstructorHoverOverText }\n        );\n        //document.getElementById('content').insertAdjacentHTML('afterbegin', getHelpButtonFromteacherButtonHTML);\n        $('#discussion-managebar > div > div > div.pull-right').append(\n          getHelpButtonFromteacherButtonHTML\n        );\n        _addClickEventOnGetHelpFromTeacherButton();\n      }\n\n      var groupId = mmooc.api.getCurrentGroupId();\n      if (groupId != null) {\n        mmooc.api.getGroup(groupId, function(group) {\n          // For discussion pages we only want the title to be \"<discussion>\" instead of \"Discussion: <discussion>\"\n          var title = mmooc.util.getPageTitleAfterColon();\n          mmooc.menu.showCourseMenu(group.course_id, 'Grupper', title, true); //Group menu in tabs including title - Use optional fourth parameter for hiding tabs\n          if(mmooc.settings.displayCallForAssistanceButtonInGroupDisccussions) {\n            _addGetHelpFromteacherButton(group);\n          }\n        });\n      }\n    },\n\n    checkReadStateFor: function(activity) {\n      return activity.read_state === false;\n    },\n\n    extractBadgesLinkFromPage: function() {\n      var href = null;\n      var a = null;\n      var badgeSafe = $('li.section:contains(\"BadgeSafe\")')\n\n      if(badgeSafe) {\n        a = badgeSafe.find('a');\n      }\n      if(a) {\n        href = a.attr('href');\n      }\n      return { title: mmooc.i18n.Badgesafe, url: href };\n    },\n    setCanvaBadgesLink: function(course, callback) {\n      var user_id = mmooc.api.getUser().id;\n\n      //This should be refactored to be in an api resource file\n      var domain = location.host;\n      var urlToCanvaBadgesApi =\n        mmooc.settings.CanvaBadgeProtocolAndHost +\n        '/api/v1/badges/public/' +\n        user_id +\n        '/' +\n        encodeURIComponent(domain) +\n        '.json';\n      $.ajax({\n        type: 'GET',\n        crossDomain: true,\n        dataType: 'jsonp',\n        url: urlToCanvaBadgesApi,\n        timeout: 5000,\n        success: function(data) {\n          if ($.isFunction(callback)) {\n            callback({\n              title: mmooc.i18n.Badgesafe,\n              url: '/courses/' + course.id + '?allcanvabadges'\n            });\n          }\n\n          // if(data.objects && data.objects.length > 0) {\n\n          // }\n        },\n        error: function(err) {\n          if ($.isFunction(callback)) {\n            callback({\n              title: mmooc.i18n.Badgesafe,\n              url: undefined\n            });\n          }\n        }\n      });\n    },\n\n    injectGroupsPage: function() {\n      $('#courses_menu_item').after(\n        '<li class=\"menu-item\"><a href=\"/groups\" class=\"menu-item-no-drop\">Grupper</a></li>'\n      );\n    },\n\n    alterHomeLink: function(linkToMyCourses) {\n      $('#header-logo').attr('href', linkToMyCourses);\n      $('a.ic-app-header__logomark').attr('href', linkToMyCourses); //New UI\n// 20180122ETH Uncommenting the line below to see if we can specify the logo in the theme editor instead.\n//             In any case the logo should not be hardcoded but taken from the variables file instead.      \n      $('a.ic-app-header__logomark').attr('src', 'https://server/Ny-Udir-Logo-RGB-Neg.png'); //New UI\n      $('.ic-app-header__logomark-container')\n        .detach()\n        .prependTo('.ic-app-header__main-navigation');\n    },\n\n    alterCourseLink: function() {\n      //   if ($('#menu > li:first-child a').hasClass('menu-item-no-drop')) {\n      //     $('#menu > li:first-child a').attr('href', '/courses');\n      //   }\n    }\n  };\n})();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.pages = (function() {\n  function updateButtonText(container, input, label) {\n    if (input.is(':checked')) {\n      label.html('Marker som ulest');\n      container.addClass('is-done');\n    } else {\n      label.html('Marker som lest');\n      container.removeClass('is-done');\n    }\n  }\n  function getHeaderBarJson() {\n    var headerBarPosition = 'after';\n\n    //Content page\n    var headerBar = $(\n      '#wiki_page_show > div.header-bar-outer-container > div > div.header-bar.flex-container > div.header-bar-right.header-right-flex'\n    );\n\n    //Quiz\n    if (!headerBar.length) {\n      headerBar = $('#quiz_show > div.header-bar > div');\n    }\n    //Assignment\n    if (!headerBar.length) {\n      headerBar = $(\n        '#assignment_show > div.assignment-title > div.assignment-buttons'\n      );\n    }\n    //Discussion\n    if (!headerBar.length) {\n      headerBar = $('#discussion-managebar > div > div > div.pull-right');\n    }\n    //File\n    if (!headerBar.length) {\n      headerBar = $('#content');\n      headerBarPosition = 'before';\n    }\n    var headerBarJson = { headerBar: headerBar, position: headerBarPosition };\n\n    return headerBarJson;\n  }\n\n  function addButton(buttonHtml) {\n    var headerBarJson = getHeaderBarJson();\n    if (headerBarJson.headerBar.length) {\n      if (headerBarJson.position == 'after') {\n        headerBarJson.headerBar.append(buttonHtml);\n      } else {\n        headerBarJson.headerBar.before(buttonHtml);\n      }\n    } else {\n      setTimeout(function() {\n        addButton(buttonHtml);\n      }, 500);\n    }\n  }\n\n  return {\n    modifyMarkAsDoneButton: function() {\n      $('body').bind('wiki-page-rendered', function() {\n        var container = $('#mark-as-done-container');\n        container.appendTo('#content .usercontent');\n\n        var input = container.find('input');\n        var label = container.find('label');\n        input.change(function() {\n          updateButtonText(container, input, label);\n        });\n\n        updateButtonText(container, input, label);\n\n        container.show();\n      });\n    },\n    addGotoModuleButton: function() {\n      var moduleItemId = mmooc.api.getCurrentModuleItemId();\n      var courseId = mmooc.api.getCurrentCourseId();\n      var targetHref =\n        '/courses/' + courseId + '/modules#context_module_item_' + moduleItemId;\n      var buttonHtml =\n        \"<a class='btn' href='\" + targetHref + \"'>Gå til modul</a>\";\n      addButton(buttonHtml);\n    },\n    addStudentViewButton: function() {\n      var courseId = mmooc.api.getCurrentCourseId();\n      var buttonHtml = '<a class=\"btn student_view_button\" ';\n      buttonHtml +=\n        'rel=\"nofollow\" data-method=\"post\" href=\"/courses/' +\n        ENV.COURSE_ID +\n        '/student_view\">';\n      buttonHtml += '<i class=\"icon-student-view\"></i>Studentvisning</a>';\n      addButton(buttonHtml);\n    },\n\n    updateSidebarWhenMarkedAsDone: function() {\n      $('body').on('click', '#mark-as-done-checkbox', function() {\n        var icon = $('ul.mmooc-module-items .active span:last-child');\n\n        if (icon.hasClass('done')) {\n          icon.removeClass('done');\n        } else {\n          icon.addClass('done');\n        }\n\n        //Mark principal sybmol as done as well.\n        var principal = icon.find(\".mmooc-icon-principal-tag\")\n        if(principal && principal.hasClass('done')) {\n          principal.removeClass('done');\n          principal.addClass('not_done');\n        } else {\n          principal.removeClass('not_done');\n          principal.addClass('done');\n        }\n\n        //Check if header title should/not be marked as done as well.\n        var activeHeader = $('#mmooc-module-item-active-header');\n        var activeListId = activeHeader.attr('href');\n        var activeList = $(activeListId);\n        var noOfItemsInActiveList = activeList.find('li').length;\n        var noOfItemsDoneInActiveList = activeList.find('li').find('.done')\n          .length;\n        var headerIcon = activeHeader.find('span:last-child');\n        if (noOfItemsDoneInActiveList < noOfItemsInActiveList) {\n          headerIcon.removeClass('done');\n        } else {\n          headerIcon.addClass('done');\n        }\n      });\n    },\n\n    updateSidebarWhenContributedToDiscussion: function() {\n      $('#discussion_container').on('click', '.btn-primary', function() {\n        var icon = $('ul.mmooc-module-items .active span:last-child');\n\n        if (!icon.hasClass('done')) {\n          icon.addClass('done');\n        }\n      });\n    },\n\n    createMarkAsDoneButtonClone: function(parent, markAsDoneButton) {\n      let cloneButtonId = \"mark-as-done-checkbox-clone\";\n      let oldMarkAsDoneButtonClone = document.getElementById(cloneButtonId);\n      if(oldMarkAsDoneButtonClone) {\n        oldMarkAsDoneButtonClone.remove();\n      }\n\n      let newMarkAsDoneButtonClone = markAsDoneButton.cloneNode(true);\n      newMarkAsDoneButtonClone.setAttribute(\"id\", cloneButtonId);\n      parent.prepend(newMarkAsDoneButtonClone);\n      newMarkAsDoneButtonClone.onclick = function() {\n        markAsDoneButton.click();\n      };\n    },\n\n    showInformationPane: function(observer, pfdk, unmaintainedSince, alertMsg, isMemberOfExpiredCommunity, notificationtouser, feedback) {\n      var paneHTML = mmooc.util.renderTemplateWithData('informationpane', {observer:observer, pfdk:pfdk, unmaintainedSince:unmaintainedSince, alertMsg:alertMsg, expiredCommunity: isMemberOfExpiredCommunity, notificationtouser: notificationtouser, feedback: feedback});\n      document\n        .getElementById('wrapper')\n        .insertAdjacentHTML('afterend', paneHTML);\n    },\n    hideInformationPane: function() {\n      $(\"#fixed_bottom\").hide();\n    },\n    showBackLinkIfNecessary: function() {\n      if ($('#left-side').is(':hidden')) {\n        var linkBack = mmooc.util.renderTemplateWithData(\n          'navigateToPreviousPage',\n          { linkText: mmooc.i18n.LinkBack }\n        );\n        $(linkBack).prependTo($('#content'));\n      }\n    },\n\n    redesignAssignmentPage: function() {\n      function _isAssignmentWithPeerReview() {\n        var returnValue = false;\n        var peerReviewer = mmooc.i18n.PeerReviewer;\n        if (\n          $(\n            \"#right-side .details .content > h4:contains('\" +\n              peerReviewer.toLowerCase() +\n              \"')\"\n          ).length\n        ) {\n          returnValue = true;\n        }\n        return returnValue;\n      }\n\n      function _getPeerReviewArray() {\n        // 20062018 Erlend: Canvas har endret designet og jeg måtte endre litt denne testen.\n        function _getWorkFlowState(peerReviewLinkClass) {\n          var _workflow_state = ''; // workflow_state either 'assigned' or 'completed'\n          if (peerReviewLinkClass == 'icon-warning') {\n            _workflow_state = 'assigned';\n          } else if (peerReviewLinkClass == 'icon-check') {\n            _workflow_state = 'completed';\n          }\n          return _workflow_state;\n        }\n\n        // 20062018 Erlend: Canvas har endret designet og jeg måtte endre litt på selector.\n        //                  Årsaken til at vi må hente ut informasjon om peer review på denne måten\n        //                  er at studenter ikke får denne informasjonen via api'et.\n        var $peerReviewLinks = $(\n          '#right-side .details .content > h4 + ul.unstyled_list a'\n        );\n        var _peerReview = []; //Peer review api is unfortunately not displaying the info we want (only info about the persons beeing peer reviewers for my submission), so we have to do this by using jquery\n        var workflow_state;\n        var peerReviewLinkClass;\n\n        $peerReviewLinks.each(function(i) {\n          peerReviewLinkClass = $(this)\n            .find('i')\n            .attr('class');\n          workflow_state = _getWorkFlowState(peerReviewLinkClass);\n          _peerReview[_peerReview.length] = {\n            workflow_state: workflow_state,\n            assessor: {\n              display_name: $(this).text(),\n              mmooc_url: $(this).attr('href')\n            }\n          };\n        });\n\n        console.log('Custom peerReview array:');\n        console.log(_peerReview);\n\n        return _peerReview;\n      }\n\n      function _appendPeerReviewHtmlOnRightSide(submission, peerReview) {\n        var peerReviewHtml = mmooc.util.renderTemplateWithData(\n          'assignmentPageWithPeerReviewRightSide',\n          { submission: submission, peerReview: peerReview }\n        );\n        // $(\"body.assignments #application.ic-app #right-side .details\" ).append(peerReviewHtml);\n        $(peerReviewHtml).insertBefore(\n          'body.assignments #application.ic-app #right-side .details'\n        );\n      }\n\n      function _appendPeerReviewWarningInContentsColumn(\n        submission,\n        peerReview\n      ) {\n        var $peerReviewLinksWarnings = $(\n          '#right-side .details .content > h4 + ul.unstyled_list a.warning'\n        );\n        if ($peerReviewLinksWarnings.length) {\n          //If any warnings display peer review warning in the contents column after the assignment meta data\n          var peerReviewWarningHtml = mmooc.util.renderTemplateWithData(\n            'assignmentPageWithPeerReviewWarning',\n            { submission: submission, peerReview: peerReview }\n          );\n          $(\n            'body.assignments #application.ic-app ul.student-assignment-overview'\n          ).after(peerReviewWarningHtml);\n        }\n      }\n\n      function _displayRightColumnContents() {\n        $('#right-side .details').show();\n      }\n\n      var courseId = mmooc.api.getCurrentCourseId();\n      var assignmentId = mmooc.api.getCurrentTypeAndContentId().contentId;\n      var user_id = mmooc.api.getUser().id;\n\n      if (_isAssignmentWithPeerReview()) {\n        // console.log('user_id:' + user_id);\n        mmooc.api.getSingleSubmissionForUser(\n          courseId,\n          assignmentId,\n          user_id,\n          function(submission) {\n            console.log('submission');\n            console.log(submission);\n            var peerReview = _getPeerReviewArray();\n            _appendPeerReviewHtmlOnRightSide(submission, peerReview);\n            _appendPeerReviewWarningInContentsColumn(submission, peerReview);\n          }\n        );\n      } else {\n        _displayRightColumnContents();\n        $('#submission_comment.submission_comment_textarea').show();\n      }\n    },\n\n    redesignPeerReviewAndOwnSubmissionDetailsPage: function() {\n      function _isCodeRunningInIframe() {\n        var returnValue = true;\n        if (ENV.SUBMISSION && ENV.SUBMISSION.user_id) {\n          returnValue = false;\n        }\n        return returnValue;\n      }\n\n      function _getSubmissionTitle() {\n        var returnValue;\n        var current_user_id = mmooc.api.getUser().id;\n        if (isPeerReview) {\n          returnValue = mmooc.i18n.PeerReview;\n        } else {\n          returnValue = mmooc.i18n.DetailsAboutYourDelivery;\n          if (current_user_id != submission_user_id) {\n            //Submission opened by admin or teacher. We don't make any changes in the existing design when this is the case.\n            returnValue = mmooc.i18n.DetailsAboutDelivery;\n          }\n        }\n        return returnValue;\n      }\n\n      function _isTeacherViewingStudentsSubmission() {\n        var returnValue = false;\n        var current_user_id = mmooc.api.getUser().id;\n        if (!isPeerReview && current_user_id != submission_user_id) {\n          //Submission opened by admin or teacher. We don't make any changes in the existing design when this is the case.\n          returnValue = true;\n        }\n        return returnValue;\n      }\n\n      function _isPeerReviewFinished() {\n        var returnValue = false;\n        if (\n          $('.assessment_request_incomplete_message').css('display') == 'none'\n        ) {\n          returnValue = true;\n        }\n        return returnValue;\n      }\n\n      function _isRubric() {\n        var returnValue = false;\n        if ($('.assess_submission_link').length) {\n          returnValue = true;\n        }\n        return returnValue;\n      }\n\n      function _addClickEventOnOpenAssessmentButton() {\n        $(document).on('click', '.open-assessment-dialog-button', function(\n          event\n        ) {\n          event.preventDefault();\n          $('#rubric_holder').show();\n          // $('.assess_submission_link.rubric').click(); //click on the previous hidden button.\n        });\n      }\n\n      function _updateDomAfterSaveRubricButtonClick(event) {\n        console.log('_updateDomAfterSaveRubricButtonClick is running');\n        function _appendCompletedPeerReviewHtml(\n          assignment,\n          submission,\n          peerReview\n        ) {\n          var submissionTitle = _getSubmissionTitle();\n          var isTeacherViewingStudentsSubmission = _isTeacherViewingStudentsSubmission();\n          var isPeerReviewFinished = true;\n          var submissionObject = {\n            assignment: assignment,\n            submission: submission,\n            peerReview: peerReview,\n            submissionTitle: submissionTitle,\n            isPeerReview: isPeerReview,\n            isPeerReviewFinished: isPeerReviewFinished,\n            isTeacherViewingStudentsSubmission: isTeacherViewingStudentsSubmission\n          };\n\n          var submissionHtml = mmooc.util.renderTemplateWithData(\n            'assignmentSubmission',\n            submissionObject\n          );\n\n          $(\n            '.mmooc-assignment-submission, .mmooc-assignment-submission-answers'\n          ).remove(); //Remove old Html that was created before\n          $(\n            'body.assignments #application.ic-app #content .submission_details'\n          ).after(submissionHtml);\n        }\n\n        //Functionality for this is as follows:\n        // We want the peer review to display that it is finished without a refresh of the page.\n        // Unfortunately we don't have any info about the peer review from the API because as a user you don't have access to that data it seems.\n        // In order to solve this we check that the user has submitted data by checking the DOM. Then the SubmissionObject used in the template (assignmentSubmission) is changed so the peer review looks completed (which it also is).\n\n        mmooc.api.getSingleAssignment(courseId, assignmentId, function(\n          assignment\n        ) {\n          mmooc.api.getSingleSubmissionForUser(\n            courseId,\n            assignmentId,\n            submission_user_id,\n            function(submission) {\n              var submission_id = submission.id;\n\n              mmooc.api.getPeerReviewsForSubmissionId(\n                courseId,\n                assignmentId,\n                submission_id,\n                function(peerReview) {\n                  _logDataToConsole(assignment, submission, peerReview);\n                  _appendCompletedPeerReviewHtml(\n                    assignment,\n                    submission,\n                    peerReview\n                  );\n                }\n              );\n            }\n          );\n        });\n      }\n\n      function _isPeerReview() {\n        var returnValue = false;\n        var peerReviewText = mmooc.i18n.PeerReviewer;\n        var originalSubmissionHeader =\n          'body.assignments #application.ic-app #content .submission_details h2.submission_header';\n        if (\n          $(originalSubmissionHeader + \":contains('\" + peerReviewText + \"')\")\n            .length\n        ) {\n          returnValue = true;\n        }\n        return returnValue;\n      }\n\n      function _isOwnSubmission() {\n        var returnValue = false;\n        var deliveryText = mmooc.i18n.Delivery;\n        var originalSubmissionHeader =\n          'body.assignments #application.ic-app #content .submission_details h2.submission_header';\n        if (\n          $(originalSubmissionHeader + \":contains('\" + deliveryText + \"')\")\n            .length\n        ) {\n          returnValue = true;\n        }\n        return returnValue;\n      }\n\n      function _logDataToConsole(assignment, submission, peerReview) {\n        console.log('submission_user_id:' + submission_user_id);\n        console.log('Assignment:');\n        console.log(assignment);\n        console.log('Submission:');\n        console.log(submission);\n        console.log('peerReview for submission id');\n        console.log(peerReview);\n      }\n\n      function _appendSubmissionHtml(assignment, submission, peerReview) {\n        var submissionTitle = _getSubmissionTitle();\n        var isTeacherViewingStudentsSubmission = _isTeacherViewingStudentsSubmission();\n        var isPeerReviewFinished = _isPeerReviewFinished();\n        var submissionObject = {\n          assignment: assignment,\n          submission: submission,\n          peerReview: peerReview,\n          submissionTitle: submissionTitle,\n          isPeerReview: isPeerReview,\n          isPeerReviewFinished: isPeerReviewFinished,\n          isTeacherViewingStudentsSubmission: isTeacherViewingStudentsSubmission\n        };\n\n        var submissionHtml = mmooc.util.renderTemplateWithData(\n          'assignmentSubmission',\n          submissionObject\n        );\n        $(\n          'body.assignments #application.ic-app #content .submission_details'\n        ).after(submissionHtml);\n      }\n\n      function _addSaveRubricButtonIfItDoesNotExist() {\n        function _new_save_rubric_button(event) {\n          console.log(\n            'dynamically button (#mmooc_save_rubric_button.save_rubric_button )is clicked'\n          );\n\n          //Start original rubric button on click code in Canvas LMS\n          var showGrade = function(submission) {\n            $('.grading_box').val(\n              submission.grade != undefined && submission.grade !== null\n                ? submission.grade\n                : ''\n            );\n            $('.score').text(\n              submission.score != undefined && submission.score !== null\n                ? round(submission.score, round.DEFAULT)\n                : ''\n            );\n            $('.published_score').text(\n              submission.published_score != undefined &&\n                submission.published_score !== null\n                ? round(submission.published_score, round.DEFAULT)\n                : ''\n            );\n          };\n\n          var toggleRubric = function($rubric) {\n            ariaSetting = $rubric.is(':visible');\n            $('#application')\n              .find('[data-hide_from_rubric]')\n              .attr('aria-hidden', ariaSetting);\n          };\n\n          var closeRubric = function() {\n            $('#rubric_holder').fadeOut(function() {\n              toggleRubric($(this));\n              $('.assess_submission_link').focus();\n            });\n          };\n\n          var $rubric = $(this)\n            .parents('#rubric_holder')\n            .find('.rubric');\n          var data = rubricAssessment.assessmentData($rubric);\n          var url = $('.update_rubric_assessment_url').attr('href');\n          var method = 'POST';\n          $rubric.loadingImage();\n\n          $.ajaxJSON(url, method, data, function(data) {\n            $rubric.loadingImage('remove');\n            var assessment = data;\n            var found = false;\n            if (assessment.rubric_association) {\n              rubricAssessment.updateRubricAssociation(\n                $rubric,\n                data.rubric_association\n              );\n              delete assessment.rubric_association;\n            }\n            for (var idx in rubricAssessments) {\n              var a = rubricAssessments[idx].rubric_assessment;\n              if (a && assessment && assessment.id == a.id) {\n                rubricAssessments[idx].rubric_assessment = assessment;\n                found = true;\n              }\n            }\n            if (!found) {\n              if (!data.rubric_assessment) {\n                data = { rubric_assessment: data };\n              }\n              rubricAssessments.push(data);\n              var $option = $(document.createElement('option'));\n              $option\n                .val(assessment.id)\n                .text(assessment.assessor_name)\n                .attr('id', 'rubric_assessment_option_' + assessment.id);\n              $('#rubric_assessments_select')\n                .prepend($option)\n                .val(assessment.id);\n            }\n            $('#rubric_assessment_option_' + assessment.id).text(\n              assessment.assessor_name\n            );\n            $('#new_rubric_assessment_option').remove();\n            $('#rubric_assessments_list').show();\n            rubricAssessment.populateRubric($rubric, assessment);\n            submission = assessment.artifact;\n            if (submission) {\n              showGrade(submission);\n            }\n            closeRubric();\n            //End original rubric button on click code in Canvas LMS\n            console.log(\n              'Finished running #mmooc_save_rubric_button.save_rubric_button code'\n            );\n            _updateDomAfterSaveRubricButtonClick();\n          });\n        }\n\n        if (isPeerReview) {\n          var isAssessingRubric = false;\n          if ($('#rubric_holder .rubric_container.rubric.assessing').length) {\n            isAssessingRubric = true;\n          }\n\n          if (isAssessingRubric) {\n            //We know that we are in assessing mode\n            //The button should be there\n            var $saveRubricButton = $(\n              '#rubric_holder #rubric_criterion_comments_dialog + .button-container > button.save_rubric_button'\n            );\n            if ($saveRubricButton.length == 0) {\n              console.log('Adding custom save rubric button');\n              var saveRubricButtonHtml = mmooc.util.renderTemplateWithData(\n                'assignmentPageWithPeerReviewSaveRubricButton',\n                {}\n              );\n\n              // $(\"#rubric_holder #rubric_criterion_comments_dialog + .button-container button.save_rubric_button\").remove();\n              $(\n                '#rubric_holder #rubric_criterion_comments_dialog + .button-container'\n              ).append(saveRubricButtonHtml);\n              $(document).on(\n                'click',\n                '#mmooc_save_rubric_button',\n                _new_save_rubric_button\n              );\n            }\n          }\n        }\n      }\n\n      if (_isCodeRunningInIframe()) {\n        return false; //The code is running in an iframe. Code should not be running.\n      }\n      var courseId = mmooc.api.getCurrentCourseId();\n      var assignmentId = mmooc.api.getCurrentTypeAndContentId().contentId;\n      var isRubric = _isRubric();\n      var isPeerReview = _isPeerReview();\n      var isOwnSubmission = _isOwnSubmission();\n      var submission_user_id = ENV.SUBMISSION.user_id;\n\n      if (isRubric) {\n        //Spesial design dersom vi bruker vurderingskriterier.\n        if (isPeerReview || isOwnSubmission) {\n          mmooc.api.getSingleAssignment(courseId, assignmentId, function(\n            assignment\n          ) {\n            mmooc.api.getSingleSubmissionForUser(\n              courseId,\n              assignmentId,\n              submission_user_id,\n              function(submission) {\n                var submission_id = submission.id;\n\n                mmooc.api.getPeerReviewsForSubmissionId(\n                  courseId,\n                  assignmentId,\n                  submission_id,\n                  function(peerReview) {\n                    _logDataToConsole(assignment, submission, peerReview);\n                    _appendSubmissionHtml(assignment, submission, peerReview);\n                    _addClickEventOnOpenAssessmentButton();\n                    //                            _addSaveRubricButtonIfItDoesNotExist(); //Enable this if the button 'Lagre kommentar' in the peer review dialog is not displaying\n                    //                          Update: This is a bug in Canvas: https://community.canvaslms.com/thread/12681-peer-review-issues\n                    $(document).on(\n                      'click',\n                      'button.save_rubric_button',\n                      _updateDomAfterSaveRubricButtonClick\n                    );\n                  }\n                );\n              }\n            );\n          });\n        }\n      } //Vis standard design.\n      else {\n        $('.submission-details-header.submission_details').show();\n        $('.submission-details-comments').show();\n        $('#submission_comment.submission_comment_textarea').show();\n      }\n    }\n  };\n})();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.powerFunctions = (() => {\n  let rootId = undefined;\n\n  _render = (template, heading, data) => {\n    const html =\n      mmooc.util.renderTemplateWithData('powerfunctions/head', {\n        heading: heading\n      }) +\n      mmooc.util.renderTemplateWithData(template, data) +\n      mmooc.util.renderTemplateWithData('powerfunctions/tail', {});\n    document.getElementById(rootId).innerHTML = html;\n  };\n\n  AssignPeerReviewsForGroup = () => {\n    _renderView = () => {\n      mmooc.api.getCoursesForUser(courses => {\n        _render('powerfunctions/peer-review', 'Assign peer reviews by group', {\n          courses: courses\n        });\n        let peerReviewAssignments = [];\n        $('#mmpf-course-select').change(() => {\n          const courseID = $('#mmpf-course-select option:selected').val();\n          mmooc.api.getGroupCategoriesForCourse(courseID, categories => {\n            $('.step-2').css('display', 'list-item');\n            $('.step-3').css('display', 'none');\n            $('.step-4').css('display', 'none');\n            let html = `${html}<option value=''>Choose a group set</option>`;\n            categories.forEach(category => {\n              html = `${html}<option value='${category.id}'>${\n                category.name\n              }</option>`;\n            });\n            $('#mmpf-category-select').html(html);\n            $('.peer-review-list').html('');\n            $('.assignment-info').html('');\n          });\n        });\n\n        $('#mmpf-category-select').change(() => {\n          const categoryID = $('#mmpf-category-select option:selected').val();\n          mmooc.api.getGroupsInCategory(categoryID, groups => {\n            $('.step-3').css('display', 'list-item');\n            $('.step-4').css('display', 'none');\n            let html = `${html}<option value='' disabled>Choose groups</option>`;\n            groups.forEach(\n              group =>\n                (html = `${html}<option value=\"${group.id}\">${\n                  group.name\n                }</option>`)\n            );\n            $('#mmpf-group-select').html(html);\n            $('.peer-review-list').html('');\n            $('.assignment-info').html('');\n          });\n        });\n\n        $('#mmpf-group-select').change(() => {\n          const courseID = $('#mmpf-course-select option:selected').val();\n          mmooc.api.getAssignmentsForCourse(courseID, assignments => {\n            peerReviewAssignments = [];\n            assignments.forEach(assignment => {\n              if (assignment.peer_reviews)\n                peerReviewAssignments.push(assignment);\n            });\n            let html = \"<option value=''>Choose an assignment</option>\";\n            peerReviewAssignments.forEach(\n              peerReviewAssignment =>\n                (html = `${html}<option value=\"${peerReviewAssignment.id}\">${\n                  peerReviewAssignment.name\n                }</option>`)\n            );\n            $('#mmpf-assignment-select').html(html);\n            $('.peer-review-list').html('');\n            $('.assignment-info').html('');\n            $('.step-4').css('display', 'list-item');\n          });\n        });\n\n        $('#mmpf-assignment-select').change(() => {\n          const assignmentID = $(\n            '#mmpf-assignment-select option:selected'\n          ).val();\n          for (let i = 0; i < peerReviewAssignments.length; i++) {\n            if (peerReviewAssignments[i].id == assignmentID) {\n              var activeAssignment = peerReviewAssignments[i];\n            }\n          }\n          let assignmentDue = new Date(activeAssignment.due_at);\n          if (typeof activeAssignment.peer_reviews_assign_at !== 'undefined') {\n            let peerReviewDue = new Date(\n              activeAssignment.peer_reviews_assign_at\n            );\n            peerReviewDue = `0${peerReviewDue\n              .getDate()\n              .slice(-2)}.0${peerReviewDue\n              .getMonth()\n              .slice(-2)}.${peerReviewDue.getFullYear()}`;\n          } else {\n            peerReviewDue = 'Ikke satt';\n          }\n          assignmentDue = `0${assignmentDue\n            .getDate()\n            .slice(-2)}.0${assignmentDue\n            .getMonth()\n            .slice(-2)}.${assignmentDue.getFullYear()}`;\n          const html = `<h3>${\n            activeAssignment.name\n          }</h3><p><span class='bold'>Innleveringsfrist: </span>${assignmentDue}<br>\n\t\t\t\t\t\t<span class='bold'>Hverandrevurderingsfrist: </span>${peerReviewDue}</p>`;\n          $('.assignment-info').html(html);\n          let selectedGroups = [];\n          $('#mmpf-group-select option:selected').each(() => {\n            selectedGroups.push(this);\n          });\n          $('.peer-review-list').html('');\n          _listPeerReviewsForGroup(selectedGroups, assignmentID);\n          _showInput();\n        });\n      });\n    };\n\n    _listPeerReviewsForGroup = (selectedGroups, assignmentID) => {\n      $('.peer-review-list').html('');\n      $('.progress-info').html(\n        '<p>Laster hverandrevurderinger... (Kan ta opptil 1 minutt)</p>'\n      );\n      const courseID = $('#mmpf-course-select option:selected').val();\n      let html = '';\n      let peerReviewsInGroup = [];\n      let count = 0;\n      let asyncsDone = 0;\n      let inArray = false;\n      const groupsMembers = [];\n      const allSubmitted = [];\n      let noOfAssignedPeerReviewsForStudent = [];\n      let noOfPeerReviewersForStudent = [];\n      mmooc.api.getPeerReviewsForAssignment(\n        courseID,\n        assignmentID,\n        peerReviews => {\n          for (var i = 0; i < selectedGroups.length; i++) {\n            mmooc.api.getGroupMembers(selectedGroups[i].value, function(\n              members\n            ) {\n              groupsMembers.push(members);\n              asyncsDone++;\n              $('.progress-info').html('Laster grupper');\n              $('#progress').show();\n              var width = (100 / selectedGroups.length) * asyncsDone + '%';\n              $('#bar').width(width);\n              if (asyncsDone == selectedGroups.length) {\n                //Sort groups array based on selected groups array\n                var groupsMembersSorted = [];\n                for (var i = 0; i < selectedGroups.length; i++) {\n                  for (var j = 0; j < groupsMembers.length; j++) {\n                    if (\n                      selectedGroups[i].value == groupsMembers[j][0].group_id\n                    ) {\n                      groupsMembersSorted.push(groupsMembers[j]);\n                      break;\n                    }\n                  }\n                }\n                _findSubmissionsForGroups(groupsMembersSorted);\n              }\n            });\n          }\n\n          _findSubmissionsForGroups = groupsMembers => {\n            const totalMembers = 0;\n            asyncsDone = 0;\n            // Find total members\n            for (let j = 0; j < groupsMembers.length; j++) {\n              for (let i = 0; i < groupsMembers[j].length; i++) {\n                totalMembers++;\n              }\n            }\n            for (let j = 0; j < groupsMembers.length; j++) {\n              // Get submissions for users in group and push to array if workflow_state is submitted or graded\n              for (let i = 0; i < groupsMembers[j].length; i++) {\n                mmooc.api.getSingleSubmissionForUser(\n                  courseID,\n                  assignmentID,\n                  groupsMembers[j][i].id,\n                  submission => {\n                    $('.progress-info').html('Laster besvarelser');\n                    if (\n                      submission.workflow_state == 'submitted' ||\n                      submission.workflow_state == 'graded'\n                    ) {\n                      allSubmitted.push(submission);\n                    }\n                    asyncsDone++;\n                    width = (100 / totalMembers) * asyncsDone + '%';\n                    $('#bar').width(width);\n                    // Print groups when all requests are done\n                    if (asyncsDone == totalMembers) {\n                      for (let i = 0; i < groupsMembers.length; i++) {\n                        _printSingleGroup(groupsMembers[i], allSubmitted);\n                      }\n                    }\n                  }\n                );\n              }\n            }\n          };\n\n          _printSingleGroup = (members, submitted) => {\n            peerReviewsInGroup = [];\n            inArray = false;\n            count = 0;\n            var groupName;\n            members.forEach(\n              member => (noOfPeerReviewersForStudent[member.id] = 0)\n            );\n            for (let i = 0; i < selectedGroups.length; i++) {\n              if (selectedGroups[i].value == members[0].group_id) {\n                groupName = selectedGroups[i].text;\n              }\n            }\n            html = `<h3>${groupName}</h3><ul>`;\n            // Traverse all peer reviews and group members\n            for (let i = 0; i < peerReviews.length; i++) {\n              for (let j = 0; j < members.length; j++) {\n                // Check if object is already in array\n                for (let k = 0; k < peerReviewsInGroup.length; k++) {\n                  if (peerReviewsInGroup[k] === peerReviews[i]) inArray = true;\n                }\n                // Push object to array if assesor is member of group and object not already in array\n                if (peerReviews[i].assessor_id == members[j].id && !inArray) {\n                  peerReviewsInGroup[count] = peerReviews[i];\n                  count++;\n                }\n                inArray = false;\n              }\n            }\n            inArray = false;\n            for (let i = 0; i < members.length; i++) {\n              const noOfAssignedPeerReviews = 0;\n              count = 0;\n              // List users and tag users without submissions\n              if (submitted) {\n                for (let j = 0; j < submitted.length; j++) {\n                  // Check if user has submission\n                  if (submitted[j].user_id == members[i].id) {\n                    html = `${html}<li><a href='/courses/${courseID}/assignments/${assignmentID}/submissions/${\n                      members[i].id\n                    }' target='_blank'>${members[i].name}</a></li><ul>`;\n                    inArray = true;\n                    break;\n                  }\n                }\n                if (!inArray) {\n                  html = `${html}<li>${\n                    members[i].name\n                  }<span class='no-submission'>Ikke levert besvarelse</span></li><ul>`;\n                }\n              } else {\n                html = `${html}<li>${members[i].name}</li><ul>`;\n              }\n              for (let k = 0; k < peerReviewsInGroup.length; k++) {\n                if (members[i].id == peerReviewsInGroup[k].assessor_id) {\n                  noOfAssignedPeerReviews++;\n                  noOfPeerReviewersForStudent[peerReviewsInGroup[k].user.id]++;\n                  // List user name and tag peer review as completed/not completed\n                  if (peerReviewsInGroup[k].workflow_state == 'completed') {\n                    html = `${html}<li>\n\t\t\t\t\t\t\t\t\t\t<a href='/courses/${courseID}/assignments/${assignmentID}/submissions/${\n                      peerReviewsInGroup[k].user.id\n                    }' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t${\n                      peerReviewsInGroup[k].user.display_name\n                    }</a><span style='color:green;'>Fullført</span></li>`;\n                  } else {\n                    html = `${html}<li>\n\t\t\t\t\t\t\t\t\t\t<a href='/courses/${courseID}/assignments/${assignmentID}/submissions/${\n                      peerReviewsInGroup[k].user.id\n                    }' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t${\n                      peerReviewsInGroup[k].user.display_name\n                    }</a><span style='color:red;'>Ikke fullført</span></li>`;\n                  }\n                  count++;\n                }\n              }\n              html = `${html}</ul>`;\n              if (count == 0) html = `${html}<div>Ingen tildelt</div>`;\n              inArray = false;\n              noOfAssignedPeerReviewsForStudent[\n                members[i].id\n              ] = noOfAssignedPeerReviews;\n            }\n            $('#progress').hide();\n            $('.peer-review-list').append(`${html}</ul>`);\n            $('.progress-info').html('');\n            $('.input-wrapper').show();\n            $('.btn-create-pr')\n              .unbind()\n              .click(() => {\n                const numOfReviews = $('.number-of-reviews').val();\n                // Create peer reviews for group after validation\n                if (!_isNormalInteger(numOfReviews) || numOfReviews < 1) {\n                  alert('Antall gjennomganger må være et positivt heltall');\n                } else {\n                  $('.input-wrapper').hide();\n                  _createPeerReviewsForGroups(\n                    courseID,\n                    assignmentID,\n                    numOfReviews,\n                    allSubmitted,\n                    groupsMembers,\n                    selectedGroups,\n                    peerReviewsInGroup,\n                    noOfAssignedPeerReviewsForStudent,\n                    noOfPeerReviewersForStudent\n                  );\n                }\n              });\n          };\n        }\n      );\n    };\n\n    _createPeerReviewsForGroups = (\n      courseID,\n      assignmentID,\n      numOfReviews,\n      allSubmitted,\n      groupsMembers,\n      selectedGroups,\n      peerReviewsInGroup,\n      noOfAssignedPeerReviewsForStudent,\n      noOfPeerReviewersForStudent\n    ) => {\n      $('.peer-review-list').html('');\n      $('#progress').show();\n      const asyncsDone = 0;\n      let assesorIndex = 0;\n      let submitted = [];\n      let skipped = 0;\n      let width = 0;\n      for (let m = 0; m < groupsMembers.length; m++) {\n        $('#bar').width('0%');\n        submitted = [];\n        // Get submissions for group\n        $('.progress-info').html(\n          `Finner innleveringene for gruppe ${m + 1} av ${groupsMembers.length}`\n        );\n        for (let k = 0; k < allSubmitted.length; k++) {\n          for (let l = 0; l < groupsMembers[m].length; l++) {\n            width = (100 / allSubmitted.length) * k + '%';\n            $('#bar').width(width);\n            if (allSubmitted[k].user_id == groupsMembers[m][l].id)\n              submitted.push(allSubmitted[k]);\n          }\n        }\n        // Continue if number of reviews exeeds number of groups members\n        if (numOfReviews > submitted.length - 1) {\n          skipped = skipped + submitted.length;\n          alert(\n            `For mange gjennomganger i forhold til antall besvarelser for gruppe ${\n              selectedGroups[m].text\n            }`\n          );\n          continue;\n        }\n        $('.progress-info').html('Tildeler hverandrevurderinger...');\n        $('#bar').width(0);\n        for (let j = 0; j < numOfReviews; j++) {\n          for (let i = 0; i < submitted.length; i++) {\n            assesorIndex = i + 1 + j;\n            // Check if index exceeds array length\n            if (assesorIndex >= submitted.length)\n              assesorIndex = assesorIndex - submitted.length;\n            let userID = submitted[assesorIndex].user_id;\n            for (let l = 0; l < numOfReviews; l++) {\n              for (let k = 0; k < peerReviewsInGroup.length; k++) {\n                if (\n                  (peerReviewsInGroup[k].assessor_id == userID &&\n                    peerReviewsInGroup[k].user_id == submitted[i].user_id) ||\n                  userID == submitted[i].user_id\n                ) {\n                  assesorIndex++;\n                  if (assesorIndex >= submitted.length)\n                    assesorIndex = assesorIndex - submitted.length;\n                  userID = submitted[assesorIndex].user_id;\n                }\n              }\n            }\n            // Check if student already has enough peer reviews or peer reviewers\n            if (\n              noOfAssignedPeerReviewsForStudent[userID] < numOfReviews &&\n              noOfPeerReviewersForStudent[submitted[i].user_id] < numOfReviews\n            ) {\n              noOfAssignedPeerReviewsForStudent[userID]++;\n              noOfPeerReviewersForStudent[submitted[i].user_id]++;\n              mmooc.api.createPeerReview(\n                courseID,\n                assignmentID,\n                submitted[i].id,\n                userID,\n                function(result) {\n                  asyncsDone++;\n                  width =\n                    (100 / (numOfReviews * allSubmitted.length)) * asyncsDone +\n                    '%';\n                  $('#bar').width(width);\n                  if (\n                    asyncsDone ==\n                    allSubmitted.length * numOfReviews - skipped\n                  ) {\n                    $('#progress').hide();\n                    _listPeerReviewsForGroup(selectedGroups, assignmentID);\n                    if (skipped > 0) {\n                      alert(\n                        `Klarte ikke tildele hverandrevurderinger for ${skipped} studenter. (Studentene har allerede nok hverandrevurderinger eller hverandrevurderere.)`\n                      );\n                    }\n                  }\n                }\n              ); //end createPeerReview async call\n            } //end if noOfAssignedPeerReviewsForStudent < numOfReviews && noOfPeerReviewersForStudent[submitted[i].user_id] < numOfReviews\n            else {\n              skipped++;\n              if (asyncsDone == allSubmitted.length * numOfReviews - skipped) {\n                $('#progress').hide();\n                _listPeerReviewsForGroup(selectedGroups, assignmentID);\n                if (skipped > 0) {\n                  alert(\n                    `Klarte ikke tildele hverandrevurderinger for ${skipped} studenter. (Studentene har allerede nok hverandrevurderinger eller hverandrevurderere.)`\n                  );\n                }\n              }\n            }\n          } //end for submitted.length\n        } //end for numOfReviews (ferdig å tildele hverandrevurderinger for en gruppe)\n      } //end for groupsMembers.length (ferdig å tildele hverandrevurderinger for alle grupper)\n    };\n\n    _isNormalInteger = str => {\n      return /^\\+?(0|[1-9]\\d*)$/.test(str);\n    };\n\n    _showInput = () => {\n      $('.peer-review-create').html(\n        `<div class='input-wrapper'><input type='text' value='${\n          mmooc.settings.defaultNumberOfReviews\n        }' style='width:25px;' class='number-of-reviews'>\n\t\t\t\tgjennomganger per bruker<br><input type='button' value='Tildel hverandrevurderinger' class='button btn-create-pr'></div>`\n      );\n    };\n\n    return {\n      run: () => _renderView()\n    };\n  };\n\n  ListStudentProgress = () => {\n    const error = error => console.error('error calling api', error);\n\n    _renderView = () => {\n      mmooc.api.getCoursesForUser(courses => {\n        _render(\n          'powerfunctions/student-progress',\n          'List student progress by section',\n          { courses: courses }\n        );\n        $('#mmpf-course-select').change(() => {\n          const courseID = $('#mmpf-course-select option:selected').val();\n          const params = { per_page: 999 };\n          mmooc.api.getSectionsForCourse(courseID, params, sections => {\n            $('.step-2').css('display', 'list-item');\n            $('.step-3').css('display', 'none');\n            let html = `${html}<option value=''>Choose a section</option>`;\n            sections.forEach(\n              section =>\n                (html = `${html}<option value=\"${i}\">${section.name}</option>`)\n            );\n            $('#mmpf-section-select').html(html);\n            $('.student-progress-table').html('');\n          });\n        });\n        $('#mmpf-section-select').change(() => {\n          const courseID = $('#mmpf-course-select option:selected').val();\n          mmooc.api.getModulesForCourseId(\n            modules => {\n              $('.step-3').css('display', 'list-item');\n              let html = `${html}<option value=''>Choose a module</option>`;\n              modules.forEach(\n                module =>\n                  (html = `${html}<option value=\"${module.id}\">${\n                    module.name\n                  }</option>`)\n              );\n              $('#mmpf-module-select').html(html);\n              $('.student-progress-table').html('');\n            },\n            error,\n            courseID\n          );\n        });\n        $('#mmpf-module-select').change(() => {\n          _printStudentProgressForSection();\n          $('.student-progress-table').html('');\n        });\n      });\n    };\n\n    _printStudentProgressForSection = () => {\n      $('#progress').hide();\n      const courseID = $('#mmpf-course-select option:selected').val();\n      const moduleID = $('#mmpf-module-select option:selected').val();\n      const sectionIndex = $('#mmpf-section-select option:selected').val();\n      const sectionParams = { per_page: 999, include: ['students'] };\n      let moduleParams = { per_page: 999 };\n      let html = '<table><tr><th>Navn</th>';\n      const asyncsDone = 0;\n      mmooc.api.getItemsForModuleId(\n        items => {\n          items.forEach(item => (html = `${html}<th>${item.title}</th>`));\n          html = `${html}</tr>`;\n          mmooc.api.getSectionsForCourse(courseID, sectionParams, sections => {\n            if (sections[sectionIndex].students.length < 1)\n              $('.student-progress-table').html(\n                `Ingen studenter funnet i klasse ${sections[sectionIndex].name}`\n              );\n            for (let j = 0; j < sections[sectionIndex].students.length; j++) {\n              moduleParams = {\n                student_id: sections[sectionIndex].students[j].id,\n                per_page: 999\n              };\n              mmooc.api.getItemsForModuleId(\n                itemsForStudent => {\n                  for (\n                    let l = 0;\n                    l < sections[sectionIndex].students.length;\n                    l++\n                  ) {\n                    if (\n                      sections[sectionIndex].students[l].id ==\n                      itemsForStudent[0].student_id\n                    )\n                      html = `${html}<tr><td>${\n                        sections[sectionIndex].students[l].name\n                      }</td>`;\n                  }\n                  if (itemsForStudent.length < 1)\n                    html = `${html}<td>Ingen krav</td>`;\n                  for (let k = 0; k < itemsForStudent.length; k++) {\n                    if ('completion_requirement' in itemsForStudent[k]) {\n                      if (itemsForStudent[k].completion_requirement.completed) {\n                        html = `${html}<td class='ok' />`;\n                      } else {\n                        html = `${html}<td class='nok' />`;\n                      }\n                    } else {\n                      html = `${html}<td>Ingen krav</td>`;\n                    }\n                  }\n                  asyncsDone++;\n                  const width =\n                    (100 / sections[sectionIndex].students.length) *\n                      asyncsDone +\n                    '%';\n                  $('#bar').width(width);\n                  $('#progress').show();\n                  if (asyncsDone == sections[sectionIndex].students.length) {\n                    $('#progress').hide();\n                    $('.student-progress-table').html(`${html}</table>`);\n                  }\n                },\n                error,\n                courseID,\n                moduleID,\n                moduleParams\n              );\n              html = `${html}</tr>`;\n            }\n          });\n        },\n        error,\n        courseID,\n        moduleID,\n        moduleParams\n      );\n    };\n\n    return {\n      run: () => {\n        _renderView();\n      }\n    };\n  };\n\n  Menu = () => {\n    _setUpClickHandlers = () => {\n      $('#mmooc-pf-peer-review-btn').click(() => {\n        new AssignPeerReviewsForGroup().run();\n      });\n      $('#mmooc-pf-student-progress-btn').click(() => {\n        new ListStudentProgress().run();\n      });\n    };\n\n    return {\n      run: () => {\n        try {\n          _render('powerfunctions/mainteacher', 'Choose function');\n          _setUpClickHandlers();\n        } catch (e) {\n          alert(e.message);\n          console.log(e);\n        }\n      }\n    };\n  };\n\n  return {\n    show: parentId => {\n      rootId = parentId;\n      new Menu().run();\n    }\n  };\n})();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.routes = (function() {\n  function Route(paths, queryStrings, handler) {\n    if (paths != null) {\n      this.paths = paths instanceof Array ? paths : [paths];\n    } else {\n      this.paths = null;\n    }\n\n    if (queryStrings != null) {\n      this.queryStrings =\n        queryStrings instanceof Array ? queryStrings : [queryStrings];\n    } else {\n      this.queryStrings = null;\n    }\n\n    this.handler = handler;\n    this.isAlreadyHandled = false;\n  }\n\n  var routes = [];\n\n  return {\n    addRouteForPath: function(path, handler) {\n      routes.push(new Route(path, null, handler));\n    },\n    addRouteForQueryString: function(queryString, handler) {\n      routes.push(new Route(null, queryString, handler));\n    },\n\n    addRouteForPathOrQueryString: function(path, queryString, handler) {\n      routes.push(new Route(path, queryString, handler));\n    },\n\n    performHandlerForUrl: function(location) {\n      var path = location.pathname;\n      var queryString = location.search;\n\n      for (var i = 0; i < routes.length; i++) {\n        var route = routes[i];\n        if (route.paths != null) {\n          for (var j = 0; j < route.paths.length; j++) {\n            if (route.paths[j].test(path) && !route.isAlreadyHandled) {\n              //20180911ETH Need to know if there is a query string to decide how to handle a discussion.\n              route.hasQueryString = queryString.length;\n              route.path = path;\n              route.isAlreadyHandled = true;\n              route.handler();\n            }\n          }\n        }\n\n        if (route.queryStrings != null) {\n          for (var k = 0; k < route.queryStrings.length; k++) {\n            if (\n              route.queryStrings[k].test(queryString) &&\n              !route.isAlreadyHandled\n            ) {\n              route.isAlreadyHandled = true;\n              console.log('Handle query string: ' + route.queryStrings[k]);\n              route.handler();\n              return;\n            }\n          }\n        }\n      }\n    }\n  };\n})();\n\nif (typeof module !== 'undefined' && module !== null) {\n  module.exports = this.mmooc.routes;\n}\n","Handlebars.registerHelper('lowercase', function(str) {\n  return ('' + str).toLowerCase();\n});\n\nHandlebars.registerHelper('uppercase', function(str) {\n  return ('' + str).toUpperCase();\n});\n\nHandlebars.registerHelper('percentage', function(number1, number2) {\n  if (number2 == 0) {\n    return 0;\n  }\n  return Math.round((number1 * 100) / number2);\n});\n\nHandlebars.registerHelper('ifEquals', function(var1, var2, options) {\n  if (var1 == var2) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('ifUnmaintained', function(options) {\n  if(mmooc.util.isUnmaintained(this)) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('courseAlert', function() {\n  return mmooc.util.isUnmaintained(this);\n});\n\nHandlebars.registerHelper('getCourseUrl', function() {\n  if (mmooc.util.isAuthenticated()) {\n    return '/courses/' + this.id;\n  } else {\n    return '/enroll/' + this.self_enrollment_code;\n  }\n});\n\nHandlebars.registerHelper('ifHasRole', function(enrollments, role, options) {\n  for (var i = 0; i < enrollments.length; i++) {\n    if (enrollments[i].role == role) {\n      return options.fn(this);\n    }\n  }\n});\n\nHandlebars.registerHelper('ifGreaterThan', function(value1, value2, options) {\n  if (value1 > value2) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('mapItemType', function(type) {\n  type = type.toLowerCase();\n  if (type.indexOf('externalurl') != -1 ||\n      type.indexOf('externaltool') != -1) {\n    return 'link';\n  }\n  return type;\n});\n\nHandlebars.registerHelper('overrideIconClassByTitle', function(title) {\n  title = title.toLowerCase();\n  if (title.indexOf('utmerkelse') != -1) {\n    return ' mmooc-icon-badge';\n  } else if (title.indexOf('video') != -1) {\n    return ' mmooc-icon-video';\n  } else if (title.indexOf('aktivitet') != -1) {\n    return ' mmooc-icon-interactive';\n  } else {\n    return '';\n  }\n});\n\nHandlebars.registerHelper('ifIsPrincipal', function(enrollments, options) {\n  if(mmooc.util.isTeacherOrAdmin())\n  {\n    return options.fn(this);\n  }\n  for (var i = 0; i < enrollments.length; i++) {\n    if (enrollments[i].role == mmooc.settings.principalRoleType) {\n      return options.fn(this);\n    }\n  }\n});\n\n\nHandlebars.registerHelper('ifIsIndented', function(options) {\n  if(this.indent) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\n\nHandlebars.registerHelper('getPeerReviewWorkflowIconClass', function(\n  workflow_state\n) {\n  if (workflow_state == 'assigned') {\n    return ' warning';\n  } else if (workflow_state == 'completed') {\n    return ' pass';\n  } else {\n    return '';\n  }\n});\n\nHandlebars.registerHelper('norwegianDateAndTime', function(timestamp) {\n  var year = new Date(timestamp).toString(' yyyy');\n  var day = new Date(timestamp).toString('dd. ');\n  var time = new Date(timestamp).toString(' HH:mm');\n  var monthNumber = parseInt(new Date(timestamp).toString('M'), 10);\n  var months = mmooc.i18n.Months;\n  var month = months[monthNumber - 1];\n\n  return day + month + year + time; //return new Date(timestamp).toString('dd. MMMM yyyy HH:mm'); // yyyy-MM-dd\n});\n\nHandlebars.registerHelper('getSubmissionAssessmentText', function(peerReview) {\n  var submissionText = '';\n  var numberOfReviews = peerReview.length;\n  var numberOfReviewsCompleted = 0;\n  var submissionAssessmentText = '';\n\n  $.each(peerReview, function(index, singlePeerReview) {\n    if (singlePeerReview.workflow_state == 'completed') {\n      numberOfReviewsCompleted = numberOfReviewsCompleted + 1;\n    }\n  });\n\n  if (numberOfReviews === 0) {\n    submissionAssessmentText = mmooc.i18n.SubmissionIsNotAssessed;\n  } else if (numberOfReviews === numberOfReviewsCompleted) {\n    if (numberOfReviewsCompleted == 1) {\n      submissionAssessmentText = mmooc.i18n.SubmissionIsAssessedByOne;\n    } else {\n      submissionAssessmentText = mmooc.i18n.SubmissionIsAssessedByAll;\n    }\n  } else {\n    submissionAssessmentText =\n      numberOfReviewsCompleted.toString() +\n      ' ' +\n      mmooc.i18n.OutOf +\n      ' ' +\n      numberOfReviews.toString() +\n      ' ' +\n      mmooc.i18n.SubmissionAssessmentsAreReady;\n  }\n\n  return submissionAssessmentText;\n});\n\nHandlebars.registerHelper('ifAtLeastOnePeerReviewIsComplete', function(\n  peerReview,\n  options\n) {\n  var atLeastOnePeerReviewComplete = false;\n  $.each(peerReview, function(index, singlePeerReview) {\n    if (singlePeerReview.workflow_state == 'completed') {\n      atLeastOnePeerReviewComplete = true;\n    }\n  });\n  if (atLeastOnePeerReviewComplete) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('ifAllPeerReviewsAreComplete', function(\n  peerReview,\n  options\n) {\n  var allPeerReviewsAreComplete = true;\n\n  $.each(peerReview, function(index, singlePeerReview) {\n    if (singlePeerReview.workflow_state != 'completed') {\n      allPeerReviewsAreComplete = false;\n    }\n  });\n\n  if (allPeerReviewsAreComplete) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('getPathFromUrl', function(url) {\n  return url.split('?')[0]; //returns an array even if there is no '?' so no need for extra checks\n});\n\nHandlebars.registerHelper('urlForCourseId', function(courseId) {\n  return '/courses/' + courseId;\n});\n\nHandlebars.registerHelper('urlForGroupId', function(groupId) {\n  return '/groups/' + groupId + '/discussion_topics';\n});\n\nHandlebars.registerHelper('ifItemIsCompleted', function(\n  completion_requirement,\n  options\n) {\n  if (completion_requirement && completion_requirement.completed) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('localize', function(key, options) {\n  if (mmooc.i18n[key] != null) {\n    return mmooc.i18n[key];\n  } else {\n    return key;\n  }\n});\n\nHandlebars.registerHelper('ifAllItemsCompleted', function(items, options) {\n  for (var i = 0; i < items.length; i++) {\n    var item = items[i];\n    if (item.completion_requirement && !item.completion_requirement.completed) {\n      return options.inverse(this);\n    }\n  }\n\n  return options.fn(this);\n});\n\nHandlebars.registerHelper('ifAllModulesCompleted', function(modules, options) {\n  if (mmooc.courseList.isCourseCompleted(modules)) {\n    return options.fn(this);\n  }\n  return options.inverse(this);\n});\n\nHandlebars.registerHelper('ifAllStudentModulesCompleted', function(modules, options) {\n  var bIncludeIndentedItems = false;\n  if (mmooc.util.percentageProgress(modules, bIncludeIndentedItems) == 100)\n  {\n    return options.fn(this);\n  }\n  return options.inverse(this);\n});\n\n\nHandlebars.registerHelper('percentageForModules', function(modules) {\n  var bIncludeIndentedItems = true;\n  return mmooc.util.percentageProgress(modules, bIncludeIndentedItems);\n});\n\nHandlebars.registerHelper('percentageForStudentModules', function(modules) {\n  var bIncludeIndentedItems = false;\n  return mmooc.util.percentageProgress(modules, bIncludeIndentedItems);\n});\n\n\nHandlebars.registerHelper('urlForFirstNoneCompletePrincipalItem', function(items) {\n  var bIncludeIndentedItems = true;\n  return mmooc.util.firstIncompleteItemHtmlUrl(items, bIncludeIndentedItems);\n});\n\nHandlebars.registerHelper('urlForFirstNoneCompleteItem', function(items) {\n  var bIncludeIndentedItems = false;\n  return mmooc.util.firstIncompleteItemHtmlUrl(items, bIncludeIndentedItems);\n});\n\n\nHandlebars.registerHelper('ifItemTypeDiscussion', function(type, options) {\n  if (type == 'Discussion') {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('findRightUrlFor', function(activity) {\n  return activity.type === 'Submission'\n    ? '/courses/' + activity.course_id + '/grades'\n    : activity.html_url;\n});\n\nHandlebars.registerHelper('checkReadStateFor', function(activity) {\n  return mmooc.menu.checkReadStateFor(activity) ? 'unread' : '';\n});\n\nHandlebars.registerHelper('debug', function(optionalValue) {\n  console.log('Current Context');\n  console.log('====================');\n  console.log(this);\n\n  if (optionalValue) {\n    console.log('Value');\n    console.log('====================');\n    console.log(optionalValue);\n  }\n});\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.tinyMCEEditor = (function () {\n\n    function getGroupNames(userGroups) {\n        let groupNames = [];\n        for (let i = 0; i < userGroups.length; i++){\n            groupNames.push(userGroups[i].name);\n        }\n        return groupNames;\n    }\n\n    function hyphenateGroupNames(groupNames) {\n        const regExp = /\\s+/g;\n        let hyphenatedGroupNames = [];\n        for (let i = 0; i < groupNames.length; i++){\n            const trimmedName = groupNames[i].trim();\n            const hyphenatedName = trimmedName.replace(regExp, \"-\");\n            hyphenatedGroupNames.push(hyphenatedName);\n        }\n        return hyphenatedGroupNames;\n    }\n\n    function hashtagGroupNames(hyphenatedGroupNames) {\n        let hashtaggedGroupNames = [];\n        for (let i = 0; i < hyphenatedGroupNames.length; i++){\n            const hashtaggedGroupName = \"#\" + hyphenatedGroupNames[i];\n            hashtaggedGroupNames.push(hashtaggedGroupName)\n        }\n        return hashtaggedGroupNames;\n    }\n\n    function htmlDecode(encoded) {\n        const doc = new DOMParser().parseFromString(encoded, \"text/html\");\n        return doc.documentElement.textContent;\n    }\n\n    return {\n        injectGroupHashtags: function (userGroups) {\n            const groupNames = getGroupNames(userGroups);\n            const hyphenatedGroupNames = hyphenateGroupNames(groupNames);\n            const hashtaggedHyphenatedGroupNames = hashtagGroupNames(hyphenatedGroupNames);\n            const joinedNames = hashtaggedHyphenatedGroupNames.join(\" \").toString() + \"\";\n            const htmlElementWithGroupNames = \"<p>&nbsp;</p><p>&nbsp;</p><p><span style=\\\"font-size: 10pt; color: gray;\\\">\" + joinedNames + \"</span></p>\";\n            \n            const rawContent = tinyMCE.activeEditor.getContent();\n            const decodedContent = htmlDecode(rawContent);\n            if (decodedContent.search(joinedNames) === -1) {\n                tinyMCE.activeEditor.setContent(rawContent + htmlElementWithGroupNames);\n            }\n        }\n    }\n})();\n","this.mmooc=this.mmooc||{};\n\n\nthis.mmooc.uidp = function() {\n    var token = null;\n\n    let request = ['openid','profile'];\n    let uidpCallback = 'https://localhost/courses/1';\n    let uidpClientId = 'udir.kompetanseportalen-local';\n    \n    var opts = {\n        scopes: {\n            request: request\n        },\n        response_type: 'id_token token'\n    }\n        \n    var client = new jso.JSO({\n                providerID: \"UIDP\",\n                client_id: uidpClientId,\n                redirect_uri: uidpCallback, \n                authorization: \"https://uidp-dev.udir.no/connect/authorize\"\n            });\n\n    return {\n        getSilentOpts : function() {\n            var silent_opts = JSON.parse(JSON.stringify(opts));\n            silent_opts.request = {prompt: \"none\"};\n            return silent_opts;\n        },\n        getClient : function() {\n            return client;\n        },\n        updateStatus : function(s, waitIcon = true) {\n            $(\"#uidpStatus\").html(s);\n            if(waitIcon) {\n                $(\"#uidpStatus\").append(\"<span class='loading-gif'></span>\");\n            }\n        },\n        clearStatus : function() {\n            $(\"#uidpStatus\").html(\"\");\n        },\n        updateContent : function(s) {\n            $(\"#uidpContent\").html(s);\n        },\n        appendContent : function(s){\n            $(\"#uidpContent\").append(s);\n        },\n        clearContent : function() {\n            $(\"#uidpContent\").html(\"\");\n            $(\"#uidpUserInfo\").html(\"\");\n        },\n        display: function() {\n            $(\"#course_home_content\").prepend(\"<div id='uidpStatus'/><div id='uidpUserInfo'/><div id='uidpContent'/><div id='uidpLoginInfo'/>\");\n            var silent_opts = this.getSilentOpts();\n\n            mmooc.uidp.updateStatus(\"Sjekker forbindelse til uidp...\");\n            this.token = client.checkToken(silent_opts);\n            if(this.token) {\n                console.log(this.token.access_token);\n                this.tokenBelongsToLoggedInUser(function(belongs, canvasUserId, uidpUserInfo) {\n                    if(belongs) {\n                        mmooc.uidp.validToken();\n                    } else {\n                        let waitIcon = false;\n                        var html = \"Du er logget inn med \" + canvasUserId  + \" i Canvas og \" + uidpUserInfo.user.userid;\n                        if(uidpUserInfo.user.userid_sec.length)\n                        {\n                            html += \"/\" + uidpUserInfo.user.userid_sec[0];\n                        }\n                        html += \" i uidp. Du må være logget inn med samme bruker i de to systemene.\";\n                        mmooc.uidp.updateStatus(html, waitIcon);\n\n                        mmooc.uidp.printLogoutOptions();\n                    }\n                });  \n            } else { //Try and see if we can login silently.\n                this.hiddenIframeLogin();\n            }\n        },\n        displayUserInfo : function() {\n/*\n            mmooc.uidp.getUserInfo(function(userInfo) {\n                var html = \"Du er logget inn på uidp som \" + userInfo.user.name;\n                $(\"#uidpUserInfo\").html(html);\n            });\n*/        \n        },\n        validToken: function() {\n            mmooc.uidp.displayUserInfo();\n            mmooc.uidp.printLogoutOptions();\n        },\n        getFeideIdFromuidpUserInfo(userIdSec)\n        {\n            let start = userIdSec.indexOf(\":\") + 1;\n            let feideid = userIdSec.substr(start);\n            return feideid;\n        },\n        //If we want to require that the account used to connect to uidp is the same as the one used\n        //to login to Canvas, we could call the code below and perform some checks. Right now the code\n        //compares the Canvas login id with the secondary open id, i.e. Feide id. \n        tokenBelongsToLoggedInUser: function(callback) {\n            this.getUserInfo(function(userInfo) {\n                mmooc.api.getUserProfile(function(userProfile) {\n                    var belongs = false;\n                    if(userProfile.login_id == userInfo.user.userid) {\n                        belongs = true;\n                    } else if (userInfo.user.userid_sec.length) {\n                        let userIdSec = userInfo.user.userid_sec[0];\n                        let feideId = mmooc.uidp.getFeideIdFromuidpUserInfo(userIdSec);\n                        if(userProfile.login_id == feideId) {\n                            belongs = true;\n                        }\n                    }\n                    callback(belongs, userProfile.login_id, userInfo);\n                });\n            });\n        },\n        printLogoutOptions : function() {\n            var html = \"<div><button class='button' id='uidpWipeToken'>Logg ut av uidp</button></div>\";\n            $(\"#uidpLoginInfo\").html(html);\n            $(document).on(\"click\",\"#uidpWipeToken\",function(e){\n                mmooc.uidp.wipeToken();\n                mmooc.uidp.clearStatus();\n                mmooc.uidp.clearContent();\n                mmooc.uidp.printLoginOptions();\n            });\n        },\n        printLoginOptions : function() {\n            var uidpHtml = mmooc.util.renderTemplateWithData(\"uidp\", {});\n            $(\"#uidpLoginInfo\").html(uidpHtml);\n            $(document).off('click', \"#uidpPopupLogin\");\n            $(document).on (\"click\", \"#uidpPopupLogin\",function(e) {mmooc.uidp.authorizePopup()});\n        },\n        _get : function(url, callback) {\n            var self = this;\n            $.ajax({\n                    url: url,\n                    beforeSend: function(xhr) {\n                         xhr.setRequestHeader(\"Authorization\", \"Bearer \" + self.token.access_token)\n                    }, success: function(data){\n                        callback(data)\n                    }, error: function(XMLHttpRequest, textStatus, errorThrown) {\n                        let errMsg = 'Det oppstod en feil:' + errorThrown;\n                        console.log(errMsg);\n                        mmooc.uidp.clearStatus();\n                        self.wipeToken();\n                        self.printLoginOptions();\n                }});\n        },\n        _post : function(url, data, callback) {\n            var self = this;\n            $.ajax({\n                type: \"POST\",\n                url: url,\n                beforeSend: function(xhr) {\n                    xhr.setRequestHeader(\"Authorization\", \"Bearer \" + self.token.access_token)\n                }, \n                data: data,\n                success: function(result) {\n                    callback(result)\n                },\n                error(XMLHttpRequest, textStatus, errorThrown) {\n                    let errMsg = 'Det oppstod en feil:' + errorThrown;\n                    alert(errMsg);\n                    console.log(errMsg);\n                }\n            });\n        },\n        getUserInfo : function(callback) {\n            let url = \"https://uidp-api-dev.udir.no/Account\";\n            this._get(url, callback);\n        },\n\n        wipeToken: function()  {\n            client.wipeTokens()\n        },\n\n        authorizePopup: function()  {\n            var self = this;\n            let opts = {\n                scopes: {\n                    request: request\n                },\n                response_type: 'id_token token'\n            }\n\n            client.setLoader(jso.Popup)\n            client.getToken(opts)\n                .then((token) => {\n                    console.log(\"I got the token: \" + token.access_token);\n                    console.log(\"I got the idtoken: \" + token.id_token);\n                    self.token = token;\n                    self.validToken();\n                })\n                .catch((err) => {\n                    console.error(\"Error from popup loader\", err)\n                })\n        },        \n        login : function() {\n            window.loginType = \"login\";\n            let token = client.getToken(opts);\n            client.setLoader(jso.HTTPRedirect)\n            client.getToken(opts)\n                .then((token) => {\n                    dashboard.dataporten.valideToken();\n                    console.log(\"I got the token: \", token)\n                    console.log(\"I got the idtoken: \" + token.id_token);\n                })\n        },\n        hiddenIframeLogin : function()\n        {\n//            window.loginType = \"iframeLogin\";\n            var self = this;\n            var silent_opts = this.getSilentOpts();\n            client.setLoader(jso.IFramePassive)\n            client.getToken(silent_opts)\n                .then((token) => {\n                    console.log(\"I got the token: \", token)\n                    console.log(\"I got the idtoken: \" + token.id_token);\n                    self.token = token;\n                    self.validToken();\n                })\n                .catch((err) => {\n                    console.log(\"Error from passive loader\", err)\n                    mmooc.uidp.clearStatus();\n                    self.printLoginOptions();\n\n//                    alert(\"iframe passive login only works if you are already logged in:\" + err);\n                })\n        }    }\n}();\n","this.mmooc = this.mmooc || {};\n\nthis.mmooc.util = (function () {\n  return {\n    courseListEnum: {\n      normalCourse: 1,\n      allCoursesList: 2,\n      myCoursesList: 3,\n      dataportenCallback: 4,\n      uidpCallback: 5\n    },\n    mmoocLoadScript: function (mmoocScript) {\n      var mmoocScriptElement = document.createElement('script');\n      mmoocScriptElement.setAttribute('charset', 'UTF-8');\n      mmoocScriptElement.setAttribute('src', mmoocScript);\n      document.body.appendChild(mmoocScriptElement);\n    },\n\n    renderTemplateWithData: function (template, data) {\n      var html = '';\n      try {\n        html = mmooc.templates[template](data);\n      } catch (e) {\n        console.log(e);\n      }\n\n      return html;\n    },\n\n    //Kilde: https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n    isMobileOrTablet: function() {\n      let check = false;\n      (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n      return check;\n    },\n\n    getPageTitleBeforeColon: function () {\n      // For discussion pages we only want the title to be \"<discussion>\" instead of \"Discussion: <discussion>\"\n      var title = document.title;\n      if (title.indexOf(':')) {\n        title = title.substring(0, title.indexOf(':'));\n      }\n      return title;\n    },\n\n    getPageTitleAfterColon: function () {\n      // For discussion pages we only want the title to be \"<discussion>\" instead of \"Discussion: <discussion>\"\n      var title = document.title;\n      if (title.indexOf(':')) {\n        title = title.substring(title.indexOf(':') + 1, title.length);\n      }\n      return title;\n    },\n\n    filterCourse: function (course) {\n      if (!this.mmooc.settings.filterCourses) {\n        return true;\n      }\n      return this.mmooc.settings.filterCoursesOnAccountId.includes(course.account_id);\n    },\n    filterSearchAllCourse: function (course) {\n      if (!this.mmooc.settings.filterCourses) {\n        return true;\n      }\n      return this.mmooc.settings.filterCoursesOnAccountId.includes(course.course.account_id);\n    },\n    callWhenElementIsPresent: function (classId, callback) {\n      var checkExist = setInterval(function () {\n        var checkClassId = classId;\n        if ($(checkClassId).length) {\n          clearInterval(checkExist);\n          callback();\n        }\n      }, 100);\n    },\n\n    arraySorted: function (array, elementToSort) {\n      if (\n        Object.prototype.toString.call(array) === '[object Array]' &&\n        elementToSort\n      ) {\n        return array.sort(function (a, b) {\n          if (\n            a.hasOwnProperty(elementToSort) &&\n            b.hasOwnProperty(elementToSort)\n          ) {\n            var field1 = a[elementToSort].toLocaleLowerCase();\n            var field2 = b[elementToSort].toLocaleLowerCase();\n            return field1.localeCompare(field2, 'nb', { usage: 'sort' });\n          }\n          return 0;\n        });\n      }\n      return array;\n    },\n\n    goBack: function (e) {\n      //http://stackoverflow.com/questions/9756159/using-javascript-how-to-create-a-go-back-link-that-takes-the-user-to-a-link-i\n      var defaultLocation = 'https://server';\n      var oldHash = window.location.hash;\n\n      history.back(); // Try to go back\n\n      var newHash = window.location.hash;\n\n      /* If the previous page hasn't been loaded in a given time (in this case\n       * 1000ms) the user is redirected to the default location given above.\n       * This enables you to redirect the user to another page.\n       *\n       * However, you should check whether there was a referrer to the current\n       * site. This is a good indicator for a previous entry in the history\n       * session.\n       *\n       * Also you should check whether the old location differs only in the hash,\n       * e.g. /index.html#top --> /index.html# shouldn't redirect to the default\n       * location.\n       */\n\n      if (\n        newHash === oldHash &&\n        (typeof document.referrer !== 'string' || document.referrer === '')\n      ) {\n        window.setTimeout(function () {\n          // redirect to default location\n          window.location.href = defaultLocation;\n        }, 1000); // set timeout in ms\n      }\n      if (e) {\n        if (e.preventDefault) e.preventDefault();\n        if (e.preventPropagation) e.preventPropagation();\n      }\n      return false; // stop event propagation and browser default event\n    },\n\n    adaptHeightToIframeContentForId: function (containerId, frameId) {\n      var scrollHeight =\n        Number(\n          document.getElementById(frameId).contentWindow.document.body\n            .scrollHeight\n        ) + 20;\n      document.getElementsByClassName(containerId)[0].style.height =\n        scrollHeight + 'px';\n    },\n\n    isEnrolledAsStudent: function (enrollments) {\n      for (var i = 0; i < enrollments.length; i++) {\n        if (enrollments[i].role == 'StudentEnrollment') {\n          return true;\n        }\n      }\n      return false;\n    },\n    isEnrolledAsObserver: function (enrollments) {\n      for (var i = 0; i < enrollments.length; i++) {\n        if (enrollments[i].role == 'ObserverEnrollment') {\n          return true;\n        }\n      }\n      return false;\n    },\n    enrollmentsHasRoleInCourse: function (enrollments, role) {\n      for (i = 0; i < enrollments.length; i++) {\n        let enrollment = enrollments[i];\n        if (enrollment[\"role\"] == role) {\n          return true;\n        }\n      }\n      return false;\n    },\n    hasRoleInCourse: function (courseId, role, callback) {\n      return function (callback, role) {\n        mmooc.api.getUsersEnrollmentsForCourse(courseId, function (enrollments) {\n          callback(mmooc.util.enrollmentsHasRoleInCourse(enrollments, role));\n        });\n      }(callback, role)\n    },\n    isTeacherOrAdmin: function () {\n      var roles = mmooc.api.getRoles();\n      return (\n        roles != null &&\n        (roles.indexOf('teacher') != -1 || roles.indexOf('admin') != -1)\n      );\n    },\n    isObserver: function (course) {\n      if (course && course.enrollments) {\n        return this.isEnrolledAsObserver(course.enrollments);\n      }\n    },\n    isEnrolledWithRole(course, role) {\n      if (course && course.enrollments) {\n        for (var i = 0; i < course.enrollments.length; i++) {\n          if (course.enrollments[i].role == role) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n    isPfDKCourse: CourseOptions.hasOptionFunction('PfDK'),\n    isMultilangCourse: CourseOptions.hasOptionFunction('lang'),\n    isPrincipal() {\n      return (this.isTeacherOrAdmin() || this.isEnrolledWithRole(mmooc.util.course, mmooc.settings.principalRoleType));\n    },\n    isRoleBasedCourse: CourseOptions.hasOptionFunction('role'),\n    isMMOOCLicense() {\n      return CourseOptions.hasOption(mmooc.util.course, 'MMOOCLICENSE');\n    },\n    postModuleProcessing() {\n      try {\n        let html = '<div class=\"login-box\" style=\"position: fixed\">Laster diskusjonen</div>';\n        $(\"#wrapper\").append(html);\n        setInterval(function () {\n          console.log(\"postModuleProcessing intervall timer called\")\n          $(\".login-box\").append(\".\");\n        }, 1000);\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    postModuleCoursePageProcessing() {\n      try {\n        $(\".mmooc-module-items-icons-Discussion\").click(function () {\n          mmooc.util.postModuleProcessing()\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    postModuleMenuProcessing() {\n      try {\n        $(\".mmooc-module-items-icons-Discussion\").parent().click(function () {\n          mmooc.util.postModuleProcessing()\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    },\n  \n\n    isAlertMsg(course) {\n      if (course) {\n        var arr = course.course_code.split(\"::\");\n        for (var i = 0; i < arr.length; i++) {\n          if (arr[i] == \"ALERTMSG\") {\n            return arr[i + 1];\n          }\n        }\n      }\n      return \"\";\n    },\n    isUnmaintained(course) {\n      if (course) {\n        var arr = course.course_code.split(\"::\");\n        for (var i = 0; i < arr.length; i++) {\n          if (arr[i] == \"UNMAINTAINED\") {\n            return arr[i + 1];\n          }\n        }\n      }\n      return \"\";\n    },\n    isNotificationToUser(course) {\n      if (course) {\n        var arr = course.course_code.split(\"::\");\n        for (var i =0; i < arr.length; i++) {\n          if (arr[i] == \"notificationtouser\"){\n            return true ;\n          }\n        }\n      }\n      return \"\";\n    },\n    isFeedback(course) {\n      if (course) {\n        var arr = course.course_code.split(\"::\");\n        for (var i =0; i < arr.length; i++) {\n          if (arr[i] == \"feedback\"){\n            return true ;\n          }\n        }\n      }\n      return \"\";\n    },\n    //description\":\"courseId:360:community:1902:940101808\"\n    getCountyOrCommunityNumber(groupDescription) {\n      var arr = groupDescription.split(\":\");\n      for (var i = 0; i < arr.length; i++) {\n        if ((arr[i] == \"community\") || (arr[i] == \"county\")) {\n          return parseInt(arr[i + 1], 10);\n        }\n      }\n      return 0;\n    },\n    updateInformationPane() {\n      mmooc.util.isMemberOfExpiredCommunity(mmooc.util.course, function (isMemberOfExpiredCommunity) {\n        var observer = (mmooc.util.isAuthenticated() && mmooc.util.isObserver(mmooc.util.course));\n        var pfdk = mmooc.util.isPfDKCourse(mmooc.util.course);\n        var unmaintainedSince = mmooc.util.isUnmaintained(mmooc.util.course);\n        var alertMsg = mmooc.util.isAlertMsg(mmooc.util.course);\n        var notificationtouser= mmooc.util.isNotificationToUser(mmooc.util.course);\n        var feedback= mmooc.util.isFeedback(mmooc.util.course);\n        if (observer || pfdk || unmaintainedSince || alertMsg || isMemberOfExpiredCommunity || notificationtouser || feedback) {\n          mmooc.pages.showInformationPane(observer, pfdk, unmaintainedSince, alertMsg, isMemberOfExpiredCommunity, notificationtouser, feedback);\n        } else {\n          mmooc.pages.hideInformationPane();\n        }\n      });\n    },\n    isMemberOfExpiredCommunity(course, callback) {\n      if(!course) {\n        return;\n      }\n      mmooc.api.getUserGroupsForCourse(course.id, function (groups) {\n        var memberOfUtgaattKommune = false;\n        if (groups.length) {\n          for (var i = 0; i < groups.length; i++) {\n            var group = groups[i];\n            var countyOrCommunityNumber = mmooc.util.getCountyOrCommunityNumber(group.description);\n            if (countyOrCommunityNumber) {\n              if (utgaatteKommuneNr.indexOf(countyOrCommunityNumber) > -1) {\n                memberOfUtgaattKommune = true;\n                break;\n              }\n            }\n          }\n        }\n        callback(memberOfUtgaattKommune);\n      });\n    },\n    isActiveCourseRoleBased() {\n      return mmooc.util.isRoleBasedCourse(mmooc.util.course);\n    },\n    isAuthenticated: function () {\n      return mmooc.api.getRoles() !== null;\n    },\n\n    getGroupsInfo(groups) {\n      var groupsInfo = {};\n      for (var i = 0; i < groups.length; i++) {\n        if (groups[i].description) {\n          var s = groups[i].description.split(\":\");\n          if (s[2] == \"community\") {\n            groupsInfo.municipalityId = s[3];\n          } else if (s[2] == \"county\") {\n            groupsInfo.countyId = s[3];\n          }\n        }\n      }\n      return groupsInfo;\n    },\n    firstIncompleteItemHtmlUrl: function (items, bIncludeIndentedItems) {\n      var firstHtmlUrl = null;\n      var firstItem = null;\n      if (items != null && items != undefined && items.length > 0) {\n        for (var i = 0; i < items.length; i++) {\n          var item = items[i];\n          if (!firstHtmlUrl && item.html_url) {\n            firstHtmlUrl = item.html_url;\n          }\n          if (item.completion_requirement && !(item.indent && !bIncludeIndentedItems)) {\n            if (!firstItem) {\n              firstItem = item;\n            }\n            if (!item.completion_requirement.completed) {\n              return item.html_url;\n            }\n          }\n        }\n      }\n      if (firstItem) {\n        return firstItem.html_url;\n      }\n      return firstHtmlUrl;\n    },\n\n    percentageProgress: function (modules, bIncludeIndentedItems) {\n      var total = 0;\n      var completed = 0;\n\n      for (var i = 0; i < modules.length; i++) {\n        var module = modules[i];\n        for (var j = 0; j < module.items.length; j++) {\n          var item = module.items[j];\n          if (!(item.indent && !bIncludeIndentedItems)) {\n            if (item.completion_requirement) {\n              total++;\n              if (item.completion_requirement.completed) {\n                completed++;\n              }\n            }\n          }\n        }\n      }\n      return Math.round((completed * 100) / total);\n    },\n    updateProgressForRoleBasedCourses: function (courses) {\n      const error = error => console.error('error calling api', error);\n      for (var i = 0; i < courses.length; i++) {\n        var course = courses[i];\n        if (mmooc.util.isRoleBasedCourse(course) && !mmooc.util.isEnrolledWithRole(course, mmooc.settings.principalRoleType)) {\n          mmooc.api.listModulesForCourse(\n            (function (courseId) {\n              return function (modules) {\n                var bIncludeIndentedItems = false;\n                var p = mmooc.util.percentageProgress(modules, bIncludeIndentedItems);\n                var divId = \"#course_\" + courseId + \"> div > div.mmooc-course-list-progress > div \";\n                $(divId + \" > div\").attr(\"style\", \"width:\" + p + \"%; -webkit-transition: width 2s; transition: width 2s;\");\n                if (p == 100) {\n                  $(divId).addClass(\"mmooc-progress-bar-done\");\n                }\n              };\n            })(course.id)\n            , error, course.id);\n        }\n      }\n    },\n    setGlobalPeerReviewButtonState: function () {\n      if (mmooc.settings.disablePeerReviewButton == true) {\n        $('.assignments #right-side :submit').prop('disabled', true);\n      }\n    },\n\n    formattedDate: function (date) {\n      var date = new Date(date);\n      var month = mmooc.util.getMonthShortName(date);\n      return (\n        date.getDate() +\n        ' ' +\n        month +\n        ', ' +\n        date.getFullYear() +\n        ' - ' +\n        date.getHours() +\n        ':' +\n        (date.getMinutes() < 10 ? '0' : '') +\n        date.getMinutes()\n      );\n    },\n\n    getWeekdayShortName: function (date) {\n      var weekdays = ['sø', 'ma', 'ti', 'on', 'to', 'fr', 'lø'];\n      return weekdays[date.getDay()];\n    },\n\n    getMonthShortName: function (date) {\n      var months = [\n        'jan',\n        'feb',\n        'mar',\n        'apr',\n        'mai',\n        'jun',\n        'jul',\n        'aug',\n        'sep',\n        'okt',\n        'nov',\n        'des'\n      ];\n      return months[date.getMonth()];\n    },\n    getCourseCategories: function (courses) {\n      var categorys = [];\n      var hasOther = false;\n      for (var i = 0; i < courses.length; i++) {\n        var category = mmooc.util.getCourseCategory(courses[i].course_code);\n        if (categorys.indexOf(category) == -1) {\n          if (category == 'Andre') {\n            hasOther = true;\n          } else {\n            categorys.push(category);\n          }\n        }\n      }\n      //      categorys.sort();\n      if (hasOther) {\n        categorys.push('Andre');\n      }\n      return categorys;\n    },\n    sortCourses: function (courses) {\n      return courses.sort(function (a, b) {\n        var aParams = a.course_code.split(\"::\");\n        if (aParams.length < 2) {\n          return 1;\n        }\n\n        var aCourseCode = aParams[aParams.length - 1];\n\n        var bParams = b.course_code.split(\"::\");\n        if (bParams.length < 2) {\n          return -1;\n        }\n        var bCourseCode = bParams[bParams.length - 1];\n\n        return aCourseCode < bCourseCode ? -1 : 1;\n      });\n    },\n    getCoursesCategorized: function (courses, categorys) {\n      var coursesCategorized = [];\n      for (var i = 0; i < categorys.length; i++) {\n        var categoryCourses = [];\n        for (var j = 0; j < courses.length; j++) {\n          var category = mmooc.util.getCourseCategory(courses[j].course_code);\n          if (categorys[i] == category) {\n            categoryCourses.push(courses[j]);\n          }\n        }\n        /*        categoryCourses.sort(function(a, b) {\n                  return a.course_code > b.course_code;\n                });\n        */\n        var categoryObj = {\n          title: categorys[i],\n          courses: categoryCourses\n        };\n        coursesCategorized.push(categoryObj);\n      }\n      return coursesCategorized;\n    },\n    getCourseCategory: function (courseCode) {\n      var category = 'Andre';\n      if (courseCode && courseCode.indexOf('::') > -1) {\n        category = courseCode.substring(0, courseCode.indexOf('::'));\n      }\n      return category;\n    },\n    getToolsInLeftMenu: function (path) {\n      var modulesFound = false;\n      var toolList = [];\n      var activeToolName = 'Verktøy';\n      var activeToolPath = '';\n\n      $('#section-tabs .section > a').each(function () {\n        var currentClass = $(this).attr('class');\n        if (modulesFound && currentClass != 'settings') {\n          var href = $(this).attr('href');\n          var title = $(this).html();\n          var activeTool = false;\n          if (href == path) {\n            activeTool = true;\n            activeToolName = title;\n            activeToolPath = href;\n          }\n          toolList.push({\n            activeTool: activeTool,\n            href: href,\n            title: title\n          });\n        } else if (currentClass == 'modules') {\n          modulesFound = true;\n        }\n      });\n      return {\n        activeToolName: activeToolName,\n        activeToolPath: activeToolPath,\n        toolList: toolList\n      };\n    },\n    debounce: function (func, wait, immediate) {\n      var timeout;\n      return function () {\n        var context = this, args = arguments;\n        var later = function () {\n          timeout = null;\n          if (!immediate) func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n      };\n    },\n    filter: function (arr, fun) {\n      var len = arr.length;\n      if (typeof fun != \"function\")\n        throw new TypeError();\n\n      var res = new Array();\n      var thisp = arguments[1];\n      for (var i = 0; i < len; i++) {\n        if (i in arr) {\n          var val = arr[i];\n          if (fun.call(thisp, val, i, arr))\n            res.push(val);\n        }\n      }\n\n      return res;\n    },\n    urlHashToObject: () => {\n      if (document.location.hash === '') return {};\n\n      const hash = location.hash.substring(1);\n      return JSON.parse(\n        '{\"' + hash.replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}',\n        (key, value) => key === \"\" ? value : decodeURIComponent(value)\n      );\n    },\n    updateRightMenuButtons: function() {\n      $(\"#course_show_secondary > a\").each(function() {\n        var $this = $(this);\n        var _href = $this.attr(\"href\");\n        $this.attr(\"href\", _href + mmooc.hrefAmpQueryString);\n      });\n    },\n    getLinkToAvailableCourses: function () {\n      var linkToAvailableCourses = \"/search/all_courses\" + mmooc.hrefQueryString;\n      //ETH20190409 By making sure the root account loads our design, we do not need a front page.\n      /*\n              if (this.mmooc.allCoursesFrontpageCourseID > 0) {\n                  linkToAvailableCourses = \"/courses/\" + this.mmooc.allCoursesFrontpageCourseID + \"?coursesList=1\";\n              }\n      */\n      return linkToAvailableCourses;\n    },\n    //This function can probably be deleted now that we use ?udirDesign\n    isCourseFrontpageForAllCoursesList: function () {\n      return false;\n      const queryString = document.location.search;\n      const currentCourseID = mmooc.api.getCurrentCourseId();\n\n      const isOverridenCourse = currentCourseID === this.mmooc.allCoursesFrontpageCourseID;\n      const isNotTeacherOrAdmin = !mmooc.util.isTeacherOrAdmin();\n\n      const urlParamsObj = mmooc.utilRoot.urlParamsToObject();\n      const isOverridenAnyCourse = urlParamsObj && urlParamsObj['coursesList'];\n      const isDisabledOverridenCourse = urlParamsObj && !urlParamsObj['skipCoursesList'];\n      const isMyCourses = urlParamsObj && urlParamsObj['myCourses'];\n      const isDataportenCallback = urlParamsObj && urlParamsObj['dataportenCallback'];\n\n      const urlHashObj = mmooc.util.urlHashToObject();\n      const isUidpCallback = urlHashObj && urlHashObj['id_token'];\n\n      var returnCode = mmooc.util.courseListEnum.normalCourse;\n\n      if (isOverridenCourse && isNotTeacherOrAdmin && isDisabledOverridenCourse) {\n        returnCode = mmooc.util.courseListEnum.allCoursesList;\n      }\n      if (isOverridenAnyCourse) {\n        returnCode = mmooc.util.courseListEnum.allCoursesList;\n      }\n      if (isMyCourses) {\n        returnCode = mmooc.util.courseListEnum.myCoursesList;\n      }\n      if (isDataportenCallback) {\n        returnCode = mmooc.util.courseListEnum.dataportenCallback;\n      } else if (isUidpCallback) {\n        returnCode = mmooc.util.courseListEnum.uidpCallback;\n      }\n      return returnCode;\n    },\n    tinyMceEditorIsInDOM(callback) {\n      this.executeCallbackWhenObjectExists(function () {\n        this.tinyMCE.activeEditor;\n      }, callback);\n    },\n    executeCallbackWhenObjectExists(functionWithObjectReference, callback) {\n      let counter = 0;\n      let maxTries = 10;\n      let success = false;\n      var objectExistInterval = setInterval(function () {\n        try {\n          if (!success) {\n            functionWithObjectReference();\n            clearInterval(objectExistInterval);\n            callback();\n            success = true;\n          }\n        } catch (e) {\n          counter += 1;\n          if (counter >= maxTries) {\n            clearInterval(objectExistInterval);\n          }\n        }\n      }, 1000);\n    }\n  };\n})();\n","this.mmooc = this.mmooc || {};\n\n// Course ID for selected course, which frontend page\n// will be swapped with All Courses list\nthis.mmooc.settings = {\n  CanvaBadgeProtocolAndHost: 'https://canvabadges-beta-iktsenteret.bibsys.no',\n  useCanvaBadge: false,\n  defaultNumberOfReviews: 1, // Default number of peer reviews per student in power function\n  useDataportenGroups : false,\n  filterCourses: true,\n  filterCoursesOnAccountId: [99, 100, 102, 103, 137, 138, 139, 145],\n  disablePeerReviewButton: false,\n  principalRoleType: \"Skoleleder\",\n  removeGlobalGradesLink: true,\n  removeGroupsLink: true,\n  displayProfileLeftMenu: false,\n  displayUserMergeButton: true,\n  userMergeLtiToolId: 863,\n  displayGroupsTab: false,\n  displayDiscussionsTab : false,\n  displayAlertsMenuItem : false,\n  displayCallForAssistanceButtonInGroupDisccussions : false,\n  displayInboxMenu: false,\n  privacyPolicyLink: 'https://kompetanseudirno.azureedge.net/udirdesign/privacypolicy.html?v=1_0',\n  contactPoint: 'kompetansesupport@udir.no',\n  platformName: 'UDIR - kompetanseplattform',\n  homeOrganization: 'Udir.no',\n  aboutThePlatform: 'https://kompetanseudirno.azureedge.net/udirdesign/omkompetanseudirno.html',\n};\n\n","this.mmooc = this.mmooc || {};\n\nif (typeof this.mmooc.i18n === 'undefined') {\n  if (mmooc.api.getLocale() == 'nn') {\n    this.mmooc.i18n = {\n      AllAvailableCoursesIngress: \"Oversikt over alle kompetansepakker du er meldt på og som du kan melde deg på.\",\n      DropCourseDialogText: 'Trykk OK for å melde deg av kompetansepakken ',\n      NoCoursesInfo: 'Det finst ingen kompetansepakker du kan registrere deg på for augeblikket',\n      CourseContinue: 'Fortsette',\n      CourseRegisterWhenAuthenticated: 'Meld deg på',\n      YouAreRegisteredToXCourses: amount => `du er registrert i ${amount} kompetansepakker`,\n      CoursesAmount: amount => `${amount} kompetansepakker`,\n      OpenCoursesGroup: 'Åpne',\n      CloseCoursesGroup: 'Lukk',\n      LogIn: 'Logg inn',\n      LogInPopup: 'Logg inn på kompetanseportalen',\n      LogInCanvas: 'Har ikke Feide',\n      JoinCourseDialogText:\n        'Du kan melde deg på kompetansepakken igjen seinare om du vil ',\n      DropCourse: 'Meld deg av kompetansepakken',\n      CreateAccountTitle: 'Har du ikkje konto?',\n      CreateAccountSubtitle: 'Klikk her for å lage ein',\n      Course: 'Kompetansepakke',\n      CourseDefinite: 'Kompetansepakken',\n      CoursePlural: 'Kompetansepakker',\n      CourseProgressionTitle: 'Din progresjon i kompetansepakken:',\n      GoToCourse: 'Gå til kompetansepakken',\n      GoToModule: 'Gå til modul',\n      BackToCoursePage: 'Tilbake til forsida',\n      AddACourse: 'Legg til ein kompetansepakke',\n      Module: 'Modul',\n      ModulePlural: 'Modular',\n      CourseModules: 'Kompetansepakkemodular',\n      Assignment: 'Oppgåve',\n      Discussion: 'Diskusjon',\n      Quiz: 'Prøve',\n      Page: 'Innhaldsside',\n      ExternalUrl: 'Ekstern lenke',\n      ExternalTool: 'Eksternt verktøy',\n      File: 'Fil',\n      Announcement: 'Kunngjering',\n      DiscussionTopic: 'Diskusjon',\n      Conversation: 'Innboksmelding',\n      Message: 'Oppgåvevarsel',\n      Submission: 'Innlevering',\n      AssessmentRequest: 'Vurderingsførespurnad',\n      Conference: 'Conference',\n      Collaboration: 'Collaboration',\n      LinkBack: 'Tilbake til førre side',\n      Badgesafe: 'Utmerkingar',\n      PeerReview: 'Kvarandrevurdering',\n\n      //Teksten nedenfor brukes til å gjenkjenne\n      //om man er på en hverandrevurderingsside.\n      //http://localhost/courses/1/assignments/1/submissions/3\n      //http://localhost/courses/1/assignments/1\n      PeerReviewer: 'Fagfellevurdering',\n\n      //Teksten nedenfor brukes til å undersøke om man viser sin egen innlevering\n      Delivery: 'Innleveringsdetaljar',\n\n      DetailsAboutYourDelivery: 'Detaljar om innleveringa di',\n      DetailsAboutDelivery: 'Detaljar om innlevering',\n      SubmissionIsNotAssessed: 'Oppgåva er ikkje vurdert',\n      SubmissionIsAssessedByOne: 'Vurderinga er klar',\n      SubmissionIsAssessedByAll: 'Alle vurderingar er klare',\n      SubmissionAssessmentsAreReady: 'vurderingar er klare',\n      GroupGetInTouchSubject: 'ønsker kontakt',\n      eventsAndDeadlinesTitle: 'Viktige datoar',\n      WeHaveAQuestionToTeacherInTheDiscussion:\n        'Vi har eit spørsmål til rettleiar i diskusjonen',\n      CallForInstructorHoverOverText:\n        'Sender ei melding til rettleiar om at de treng hjelp i denne konkrete gruppediskusjonen. Treng du personleg rettleiing: send melding til din rettleiar i innboks.',\n      NoTeacherFeedbackLink:\n        'No teacher_feedback link. Does the help menu have a link to send feedback to the teacher?',\n      NoEnrollments:\n        'Velkommen til vår kompetanseplattform. Du er ikkje påmeldt nokon kompetansepakker endå. Klikk på knappen nedanfor for å sjå tilgjengelege kompetansepakker.',\n      OutOf: 'av',\n      Months: [\n        'januar',\n        'februar',\n        'mars',\n        'april',\n        'mai',\n        'juni',\n        'juli',\n        'august',\n        'september',\n        'oktober',\n        'november',\n        'desember'\n      ]\n    };\n  } else {\n    this.mmooc.i18n = {\n      AllAvailableCoursesIngress: \"Oversikt over alle kompetansepakker du er meldt på og som du kan melde deg på.\",\n      DropCourseDialogText: 'Trykk OK for å melde deg av kompetansepakken ',\n      NoCoursesInfo: 'Det er ingen kompetansepakker du kan registrere deg på for øyeblikket',\n      EnrollButton: 'Join this Course',\n      CourseContinue: 'Fortsette',\n      CourseRegisterWhenAuthenticated: 'Meld deg på',\n      YouAreRegisteredToXCourses: amount => `du er registert i ${amount} kompetansepakker`,\n      CoursesAmount: amount => `${amount} kompetansepakker`,\n      OpenCoursesGroup: 'Åpne',\n      CloseCoursesGroup: 'Lukk',\n      LogInPopup: 'Logg inn på kompetanseportalen',\n      LogIn: 'Logg inn',\n      LogInCanvas: 'Har ikke Feide',\n      JoinCourseDialogText:\n        'Du kan melde deg på kompetansepakken igjen senere om du vil ',\n      DropCourse: 'Meld deg av kompetansepakken',\n      CreateAccountTitle: 'Har du ikke konto?',\n      CreateAccountSubtitle: 'Klikk her for å lage en',\n      Course: 'Kompetansepakke',\n      CourseDefinite: 'Kompetansepakken',\n      CoursePlural: 'Kompetansepakker',\n      CourseProgressionTitle: 'Din progresjon i kompetansepakken:',\n      GoToCourse: 'Gå til kompetansepakken',\n      GoToModule: 'Gå til modul',\n      BackToCoursePage: 'Tilbake til forsiden',\n      AddACourse: 'Legg til en kompetansepakke',\n      Module: 'Modul',\n      ModulePlural: 'Moduler',\n      CourseModules: 'Kompetansepakkemoduler',\n      Assignment: 'Oppgave',\n      Discussion: 'Diskusjon',\n      Quiz: 'Prøve',\n      Page: 'Innholdsside',\n      ExternalUrl: 'Ekstern lenke',\n      ExternalTool: 'Eksternt verktøy',\n      File: 'Fil',\n      Announcement: 'Kunngjøring',\n      DiscussionTopic: 'Diskusjon',\n      Conversation: 'Innboksmelding',\n      Message: 'Oppgavevarsel',\n      Submission: 'Innlevering',\n      AssessmentRequest: 'Vurderingsforespørsel',\n      Conference: 'Conference',\n      Collaboration: 'Collaboration',\n      LinkBack: 'Tilbake til forrige side',\n      Badgesafe: 'Utmerkelser',\n      PeerReview: 'Hverandrevurdering',\n\n      //Teksten nedenfor brukes til å gjenkjenne om man er på en hverandrevurderingsside.\n      PeerReviewer: 'Hverandrevurdering',\n\n      //Teksten nedenfor brukes til å undersøke om man viser sin egen innlevering\n      Delivery: 'innlevering',\n\n      DetailsAboutYourDelivery: 'Detaljer om din innlevering',\n      DetailsAboutDelivery: 'Detaljer om innlevering',\n      SubmissionIsNotAssessed: 'Oppgaven er ikke vurdert',\n      SubmissionIsAssessedByOne: 'Vurderingen er klar',\n      SubmissionIsAssessedByAll: 'Alle vurderinger er klare',\n      SubmissionAssessmentsAreReady: 'vurderinger er klare',\n      GroupGetInTouchSubject: 'ønsker kontakt',\n      eventsAndDeadlinesTitle: 'Viktige datoer',\n      WeHaveAQuestionToTeacherInTheDiscussion:\n        'Vi har et spørsmål til veileder i diskusjonen',\n      CallForInstructorHoverOverText:\n        'Sender en melding til veileder om at dere trenger hjelp i denne konkrete gruppediskusjonen. Trenger du personlig veiledning: send melding til din veileder i innboks.',\n      NoTeacherFeedbackLink:\n        'No teacher_feedback link. Does the help menu have a link to send feedback to the teacher?',\n      NoEnrollments:\n        'Velkommen til vår kompetanseplattform. Du er ikke påmeldt noen kompetansepakker enda. Klikk på knappen nedenfor for å se tilgjengelige kompetansepakker.',\n      OutOf: 'av',\n      Months: [\n        'januar',\n        'februar',\n        'mars',\n        'april',\n        'mai',\n        'juni',\n        'juli',\n        'august',\n        'september',\n        'oktober',\n        'november',\n        'desember'\n      ]\n    };\n  }\n}\n","jQuery(function($) {\n  //KURSP-469 Support embedding of KPAS LTI tool. In general our design should not load in iframes. \n  //The code below detects if we are in an iframe and then returns.\n  if(window.self != window.top) {\n    return;\n  }\n  //Multilanguage KURSP-279 Css must be present before javascript is run.\n  //KURSP-376-multilanguage-fix \n  mmooc.multilanguage.initializeCss();\n\n  mmooc.routes.addRouteForPath(/\\/$/, function() {\n    var parentId = 'wrapper';\n\n    if (document.location.search === '?mmpf') {\n      mmooc.powerFunctions.show(parentId);\n    } else {\n      window.location.href = '/courses?design=udir';\n    }\n  });\n\n  mmooc.routes.addRouteForQueryString(/invitation=/, function() {});\n\n  mmooc.routes.addRouteForPath(/\\/login\\/canvas$/, function() {\n    mmooc.utilRoot.redirectFeideAuthIfEnrollReferrer();\n    mmooc.utilRoot.triggerForgotPasswordIfParamPassed();\n  });\n\n  ////KURSP-293-RCE-mister-farge-for-redigering\n  mmooc.routes.addRouteForPath(/\\/edit$/, function() {\n    MultilangUtils.applyColorCodingInEditor();\n  });\n\n  mmooc.routes.addRouteForPath(/\\/login$/, function() {\n    $('#register_link').html('<i>Trenger du en konto?</i><b>Klikk her.</b>');\n  });\n\n  mmooc.routes.addRouteForPath(/\\/courses$/, function() {\n    mmooc.utilRoot.redirectToEnrollIfCodeParamPassed();\n    mmooc.menu.hideRightMenu();\n    mmooc.courseList.listCourses(\n      'content',\n      mmooc.courseList.showAddCourseButton\n    );\n  });\n\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+/, function() {\n    if(!mmooc.util.isAuthenticated()) {\n      \n    } else {\n      mmooc.util.updateInformationPane();\n    }\n  });\n\n  //The logic below should be refactored and cleaned up.\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+$/, function() {\n    mmooc.util.updateRightMenuButtons();\n    mmooc.groups.interceptLinksToGroupPage();\n    mmooc.coursePage.showCourseInvitation();\n    // override default view and display all courses list instead\n    var courseView = mmooc.util.isCourseFrontpageForAllCoursesList();\n    if (courseView == mmooc.util.courseListEnum.allCoursesList) {\n      mmooc.menu.hideRightMenu();\n      mmooc.enroll.printAllCoursesContainer();\n      mmooc.enroll.printAllCourses();\n      $('body').removeClass('home');\n\n      // skips the rest of this function\n      return null;\n    }\n    else if (courseView == mmooc.util.courseListEnum.myCoursesList) {\n        mmooc.menu.hideRightMenu();\n        mmooc.courseList.listCourses(\n          'content',\n          mmooc.courseList.showAddCourseButton\n        );\n        return null;\n    }\n    else if (courseView == mmooc.util.courseListEnum.dataportenCallback) {\n        if(window.opener) {\n            $(\"#application\").html('Du er nå logget inn i dataporten.<button id=\"dataportenLoggedIn\">OK</button>');\n            window.opener.popupCompleted();\n            $(document).on(\"click\",\"#dataportenLoggedIn\",function(e) {\n                window.close();\n            });\n        }\n        console.log(document.location.href);\n\t\treturn null;\n    }\n    else if (courseView == mmooc.util.courseListEnum.uidpCallback) {\n        if(window.opener) {\n            $(\"#application\").html('Du er nå logget inn i UIDP.<button id=\"uidpLoggedIn\">OK</button>');\n            window.opener.popupCompleted();\n            $(document).on(\"click\",\"#uidpLoggedIn\",function(e) {\n                window.close();\n            });\n        }\n        console.log(document.location.href);\n\t\treturn null;\n    }\n    //        mmooc.coursePage.hideCourseInvitationsForAllUsers();\n\n    var courseId = mmooc.api.getCurrentCourseId();\n    var queryString = document.location.search;\n    if (queryString === '?allcanvabadges') {\n      //query string = ?allcanvabadges\n      var courseId = mmooc.api.getCurrentCourseId();\n      mmooc.menu.showCourseMenu(courseId, 'Utmerkelser', 'Utmerkelser');\n      //Should be refactored to use json api instead\n      var canvabadgesForCurrentCourse =\n        '<iframe allowfullscreen=\"true\" height=\"680\" id=\"tool_content\" mozallowfullscreen=\"true\" name=\"tool_content\" src=\"' +\n        mmooc.settings.CanvaBadgeProtocolAndHost +\n        '/badges/course/' +\n        courseId +\n        '\" tabindex=\"0\" webkitallowfullscreen=\"true\" width=\"100%\"></iframe>';\n      $('#content').append(canvabadgesForCurrentCourse);\n    } else {\n        var queryString = document.location.search;\n        if ((queryString === '?dataportengroups=1') && mmooc.settings.useDataportenGroups) {\n            mmooc.menu.showCourseMenu(\n              courseId,\n              'Grupper',\n              mmooc.util.getPageTitleBeforeColon()\n            );\n            mmooc.dataporten.display();\n        } else {\n          mmooc.menu.showCourseMenu(courseId, 'Forside', null);\n\n\n          //20180822ETH If the user has chosen to use a wikipage as front page and the logged in user is teacher, we display that page.\n          //            Otherwise we list the modules.\n          if (mmooc.api.usesFrontPage()) {\n            if (!mmooc.util.isTeacherOrAdmin()) {\n              var frontPage = $('#wiki_page_show');\n              if (frontPage.length) {\n                frontPage.hide();\n              }\n              mmooc.coursePage.listModulesAndShowProgressBar();\n            }\n          } //Hvis det ikke er wiki som forside så lister vi ut modulene på vanlig måte.\n          else {\n            mmooc.coursePage.listModulesAndShowProgressBar();\n          }\n        }\n    }\n    mmooc.announcements.printAnnouncementsUnreadCount();\n    if(mmooc.coursePage.replaceUpcomingInSidebar()) {\n      mmooc.coursePage.printDeadlinesForCourse();\n    }\n    mmooc.coursePage.overrideUnregisterDialog();\n  });\n\n  mmooc.routes.addRouteForPath(/\\/search\\/all_courses$/, function() {\n    mmooc.enroll.printAllCoursesContainer();\n    mmooc.enroll.printAllCourses();\n    mmooc.enroll.goToAllCourses();\n  });\n  \n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+\\/settings$/, function() {\n    mmooc.coursesettings.addSanityCheckButton();\n    mmooc.coursesettings.addListSectionsButton();\n    mmooc.coursesettings.addListUsersButton();\n    mmooc.coursesettings.addListGroupsButton();\n    mmooc.coursesettings.addListAssignmentsButton();\n  });\n\n  mmooc.routes.addRouteForPath(/\\/profile\\/settings$/, function() {\n    var elementId = document.getElementById('confirm_email_channel');\n    if(!mmooc.settings.displayProfileLeftMenu) {\n      document.getElementById(\"section-tabs\").style.display = \"none\";\n    }\n    var notificationButtonHTML = mmooc.util.renderTemplateWithData(\n      'notifications',\n      {}\n    );\n    if(mmooc.settings.displayUserMergeButton) {\n      var mergeUserButtonHTML = mmooc.util.renderTemplateWithData(\n        'usermerge',\n        {userId:mmooc.api.getUser().id, userMergeLtiToolId:mmooc.settings.userMergeLtiToolId}\n      );\n      elementId.insertAdjacentHTML('beforebegin', mergeUserButtonHTML);\n    }\n\n    elementId.insertAdjacentHTML('beforebegin', notificationButtonHTML);\n  });\n\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+\\/announcements$/, function() {\n    var courseId = mmooc.api.getCurrentCourseId();\n    mmooc.menu.showCourseMenu(\n      courseId,\n      'Kunngjøringer',\n      mmooc.util.getPageTitleBeforeColon()\n    );\n    mmooc.api.getModulesForCurrentCourse(function(modules) {\n      mmooc.discussionTopics.printDiscussionUnreadCount(modules);\n    });\n    mmooc.announcements.printAnnouncementsUnreadCount();\n    mmooc.announcements.setAnnouncementsListUnreadClass();\n  });\n\n  mmooc.routes.addRouteForPath(\n    /\\/courses\\/\\d+\\/discussion_topics$/,\n    function() {\n      var courseId = mmooc.api.getCurrentCourseId();\n      mmooc.menu.showCourseMenu(\n        courseId,\n        'Diskusjoner',\n        mmooc.util.getPageTitleBeforeColon()\n      );\n      mmooc.discussionTopics.setDiscussionsListUnreadClass();\n      mmooc.discussionTopics.insertSearchButton();\n      mmooc.discussionTopics.hideUnreadCountInDiscussionList();\n      mmooc.api.getModulesForCurrentCourse(function(modules) {\n        mmooc.discussionTopics.printDiscussionUnreadCount(\n          modules,\n          'discussionslist'\n        );\n      });\n      mmooc.announcements.printAnnouncementsUnreadCount();\n    }\n  );\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+\\/external_tools/, function() {\n    var courseId = mmooc.api.getCurrentCourseId();\n    mmooc.menu.showCourseMenu(courseId, this.path, 'Verktøy');\n  });\n\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+\\/groups$/, function() {\n    mmooc.groups.interceptLinksToGroupPage();\n    var courseId = mmooc.api.getCurrentCourseId();\n    mmooc.menu.showCourseMenu(\n      courseId,\n      'Grupper',\n      mmooc.util.getPageTitleBeforeColon()\n    );\n    mmooc.api.getModulesForCurrentCourse(function(modules) {\n      mmooc.discussionTopics.printDiscussionUnreadCount(modules);\n    });\n    mmooc.announcements.printAnnouncementsUnreadCount();\n  });\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+\\/users$/, function() {\n    var courseId = mmooc.api.getCurrentCourseId();\n    mmooc.menu.showCourseMenu(\n      courseId,\n      '',\n      mmooc.util.getPageTitleBeforeColon()\n    );\n  });\n\n  mmooc.routes.addRouteForPath(/\\/groups\\/\\d+$/, function() {\n    var courseId = mmooc.api.getCurrentCourseId();\n    mmooc.menu.showCourseMenu(\n      courseId,\n      'Grupper',\n      mmooc.util.getPageTitleBeforeColon()\n    );\n  });\n\n  //Path for showing all dicussions, i.e. the discussion tab on the course front page.\n  mmooc.routes.addRouteForPath(/\\/groups\\/\\d+\\/discussion_topics$/, function() {\n    var courseId = mmooc.api.getCurrentCourseId();\n\n    if (mmooc.util.isTeacherOrAdmin()) {\n      mmooc.groups.interceptLinksToTeacherGroupPage();\n    }\n\n    if (null == courseId) {\n      var groupId = mmooc.api.getCurrentGroupId();\n      if (null != groupId) {\n        mmooc.api.getGroup(groupId, function(group) {\n          var courseId = group.course_id;\n          mmooc.menu.showCourseMenu(\n            courseId,\n            'Grupper',\n            mmooc.util.getPageTitleAfterColon()\n          );\n          mmooc.groups.showGroupHeader(group.id, courseId);\n        });\n      }\n    } else {\n      mmooc.menu.showCourseMenu(\n        courseId,\n        'Grupper',\n        mmooc.util.getPageTitleAfterColon()\n      );\n      mmooc.groups.showGroupHeader(groupId, courseId);\n    }\n  });\n\n  //Path for showing a group discussion or creating a new discussion\n  //20180821ETH Some functionality moved to new path below and to module_item_id path below\n  /*\n    mmooc.routes.addRouteForPath([/\\/groups\\/\\d+\\/discussion_topics\\/\\d+$/, /\\/groups\\/\\d+\\/discussion_topics\\/new$/], function() {\n        mmooc.menu.showLeftMenu();\n        mmooc.menu.listModuleItems();\n        mmooc.menu.showDiscussionGroupMenu();\n\n        if (!mmooc.util.isTeacherOrAdmin()) {\n        \tmmooc.menu.hideSectionTabsHeader();\n        }\n    });\n\n    mmooc.routes.addRouteForPath([/\\/groups\\/\\d+\\/discussion_topics\\/\\d+$/], function() {\n        mmooc.groups.moveSequenceLinks();\n        if (!mmooc.util.isTeacherOrAdmin()) {\n            mmooc.menu.hideRightMenu();\n        }\n    });\n*/\n  mmooc.routes.addRouteForPath(\n    [\n      /\\/groups\\/\\d+\\/discussion_topics\\/\\d+$/,\n      /\\/groups\\/\\d+\\/discussion_topics\\/new$/\n    ],\n    function() {\n      mmooc.menu.showDiscussionGroupMenu();\n      const courseId = mmooc.api.getCurrentCourseId();\n\n      //20180911ETH Need to know if I got here from the discussion list or from the module\n      //            navigation.\n      if (!this.hasQueryString) {\n        //If courseId was found, it is a group discussion created by a teacher.\n        if (courseId) {\n          mmooc.menu.showBackButton(\n            '/courses/' + courseId + '/discussion_topics',\n            'Tilbake til diskusjoner'\n          );\n        } else {\n          var groupId = mmooc.api.getCurrentGroupId();\n          if (null != groupId) {\n            mmooc.api.getGroup(groupId, function(group) {\n              var courseId = group.course_id;\n              mmooc.menu.showBackButton(\n                '/groups/' + group.id + '/discussion_topics',\n                'Tilbake til gruppeside'\n              );\n            });\n          }\n        }\n      }\n\n      if (!mmooc.util.isTeacherOrAdmin()) {\n        mmooc.menu.hideRightMenu();\n        mmooc.menu.hideSectionTabsHeader();\n      } else {\n        mmooc.groups.interceptLinksToTeacherGroupPage();\n      }\n\n      mmooc.api.getUserGroupsForCourse(courseId, (userGroups) => {\n        mmooc.util.tinyMceEditorIsInDOM(\n          () => mmooc.tinyMCEEditor.injectGroupHashtags(userGroups)\n        );\n        mmooc.discussionTopics.injectReplyButtonAction(userGroups);\n      });\n    }\n  );\n\n  //Disse rutene gjelder når man går inn på en diskusjon fra diskusjonslisten eller når lærer har redigert en diskusjon.\n  mmooc.routes.addRouteForPath(\n    [\n      /\\/courses\\/\\d+\\/discussion_topics\\/\\d+/,\n      /\\/courses\\/\\d+\\/discussion_topics\\/new/\n    ],\n    function() {\n      // For discussion pages we only want the title to be \"<discussion>\" instead of \"Discussion: <discussion>\"\n      var title = mmooc.util.getPageTitleAfterColon();\n      //If this is a group discussion we do not allow the user to access it because\n      //he is apparantly not a member of a group.\n      var courseId = mmooc.api.getCurrentCourseId();\n\n      mmooc.util.hasRoleInCourse(courseId, \"TeacherEnrollment\", function(isTeacher) {\n        if(!isTeacher) {\n          var courseId = mmooc.api.getCurrentCourseId();\n          var contentId = mmooc.api.getCurrentTypeAndContentId().contentId;\n          if (contentId){\n          mmooc.api.isGroupDiscussion(courseId, contentId, function(result) {\n            if(result) {\n                $(\".discussion-section\").hide();\n                $(\"#discussion-toolbar\").hide();\n                $(\".discussion-entry-reply-area\").hide();\n                $(\"#discussion-managebar\").html('<div class=\"uob-warning\"> \\\n                Dette er en gruppediskusjon, men du er ikke medlem i noen gruppe og kan derfor ikke delta.\\\n                  Gå tilbake til forsiden og velg fanen \"Rolle og grupper\".</div>');\n            }\n          });}\n        }\n      });\n\n      if (!mmooc.util.isTeacherOrAdmin()) {\n        mmooc.menu.hideRightMenu();\n        var contentId = mmooc.api.getCurrentTypeAndContentId().contentId;\n        mmooc.api.getDiscussionTopic(\n          courseId,\n          contentId,\n          mmooc.discussionTopics.setDiscussionTopicPubDate\n        );\n      }\n\n      // Announcements are some as type of discussions, must use a hack to determine if this is an announcement\n      if (mmooc.api.currentPageIsAnnouncement()) {\n        mmooc.menu.showCourseMenu(courseId, 'Kunngjøringer', title);\n        mmooc.menu.showBackButton(\n          '/courses/' + courseId + '/announcements',\n          'Tilbake til kunngjøringer'\n        );\n        mmooc.announcements.addMarkAsReadButton();\n      } else if (mmooc.api.getCurrentModuleItemId() == null) {\n        // Only show course menu if this discussion is not a module item\n        // Note detection if this is a module item is based on precense of query parameter\n        //            mmooc.menu.showCourseMenu(courseId, 'Diskusjoner', title);\n        mmooc.menu.showBackButton(\n          '/courses/' + courseId + '/discussion_topics',\n          'Tilbake til diskusjoner'\n        );\n      }\n\n      mmooc.api.getUserGroupsForCourse(courseId, (userGroups) => {\n        mmooc.util.tinyMceEditorIsInDOM(\n          () => mmooc.tinyMCEEditor.injectGroupHashtags(userGroups)\n        );\n        mmooc.discussionTopics.injectReplyButtonAction(userGroups);\n      });\n    }\n  );\n\n  mmooc.routes.addRouteForPathOrQueryString(\n    [\n      /\\/courses\\/\\d+\\/assignments\\/\\d+/,\n      /\\/courses\\/\\d+\\/pages\\/.*$/,\n      /\\/courses\\/\\d+\\/quizzes\\/\\d+/\n    ],\n    /module_item_id=/,\n    function() {\n      mmooc.menu.showLeftMenu();\n      mmooc.menu.listModuleItems();\n      mmooc.pages.modifyMarkAsDoneButton();\n      //20180911ETH showDiscussionGroupMenu is handled by group discussion path above.\n      //        mmooc.menu.showDiscussionGroupMenu();\n      mmooc.groups.moveSequenceLinks();\n\n      // mmooc.pages.changeTranslations();\n\n      if (mmooc.util.isTeacherOrAdmin()) {\n        mmooc.pages.addGotoModuleButton();\n        mmooc.pages.addStudentViewButton();\n      }\n    }\n  );\n\n  // example route: /courses/54/assignments/369 - assignment which may be a peer review (hverandrevurdering)\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+\\/assignments\\/\\d+/, function() {\n    mmooc.pages.redesignAssignmentPage();\n    mmooc.util.setGlobalPeerReviewButtonState();\n  });\n\n  // Assignment submission which might be your own or someone else's: Peer review (hverandrevurdering)\n  mmooc.routes.addRouteForPath(\n    /\\/courses\\/\\d+\\/assignments\\/\\d+\\/submissions\\/\\d+/,\n    function() {\n      mmooc.pages.redesignPeerReviewAndOwnSubmissionDetailsPage();\n    }\n  );\n\n  mmooc.routes.addRouteForPath(\n    /\\/courses\\/\\d+\\/external_tools\\/\\d+$/,\n    function() {\n      function isBadgesafePage() {\n        function extractPluginNumber(input) {\n          return input.substring(input.lastIndexOf('/') + 1);\n        }\n\n        var badgesafeUrl = mmooc.menu.extractBadgesLinkFromPage().url;\n\n        if(badgesafeUrl) {\n          return (\n            extractPluginNumber(badgesafeUrl) ===\n            extractPluginNumber(window.location.pathname)\n          );\n        }\n        return false;\n      }\n\n      if (isBadgesafePage()) {\n        var courseId = mmooc.api.getCurrentCourseId();\n        mmooc.menu.showCourseMenu(courseId, 'Utmerkelser', 'Utmerkelser');\n      }\n    }\n  );\n\n  mmooc.routes.addRouteForPath(\n    /\\/courses\\/\\d+\\/modules\\/items\\/\\d+$/,\n    function() {\n      //Canva Badges uses this route for instance\n      mmooc.menu.showLeftMenu();\n      mmooc.menu.listModuleItems();\n    }\n  );\n\n  mmooc.routes.addRouteForPath([/\\/pages/], function() {\n//    mmooc.pages.showBackLinkIfNecessary();\n    mmooc.util.callWhenElementIsPresent(\n      '.sikt-diploma-button',\n      mmooc.greeting.enableGreetingButtonIfNecessary\n    );\n    mmooc.util.callWhenElementIsPresent(\n      \".new-sikt-diploma-button\",\n      mmooc.greeting.enableNewGreetingButtonIfNecessary);\n\n    mmooc.util.callWhenElementIsPresent(\n      \".download-diploma-button\", \n      mmooc.greeting.enableDownloadDiplomaButtonIfNecessary); //This is the newest method which should replace the two old ones.\n  \n    var courseId = mmooc.api.getCurrentCourseId();\n\n    if ($(\"#kpas-lti-info\").length ||\n        $(\".kpas-lti-info\").length ||\n        $(\"#kommune-statistikk\").length ||\n        $(\"#fylke-statistikk\").length) {\n      const error = error => console.error('error calling api', error);\n      mmooc.api.getUserGroupsForCourse(courseId, function(groups) {\n        var isTeacherOrAdmin = mmooc.util.isTeacherOrAdmin();\n        mmooc.kpas.showInfo(groups);\n        var groupsInfo = mmooc.util.getGroupsInfo(groups);\n        mmooc.kpas.createDiagram(\"kommune-statistikk\", isTeacherOrAdmin, courseId, groupsInfo);\n        mmooc.kpas.createDiagram(\"fylke-statistikk\", isTeacherOrAdmin, courseId, groupsInfo);\n      }, error);\n    }\n  });\n\n  //Change \"Gå til dashboard\" button.\n  mmooc.routes.addRouteForQueryString(/enrolled=1/, function() {\n    $(\".ic-Self-enrollment-footer__Primary > a\").each(function() {\n      var $this = $(this);\n      var _href = $this.attr(\"href\");\n      $this.attr(\"href\", _href + mmooc.hrefQueryString);\n   });\n  });\n\n  mmooc.routes.addRouteForPath(/enroll\\/[0-9A-Z]+/, function() {\n    mmooc.enroll.changeEnrollPage();\n  });\n\n  mmooc.routes.addRouteForQueryString(/lang/, () => {\n    const language = MultilangUtils.getLanguageParameter()\n    console.log(`Language: ${language}`);\n    MultilangUtils.setActiveLanguage(language);\n  });\n\n  try {\n    mmooc.footer.changeFooter();\n    mmooc.menu.renderLeftHeaderMenu();\n    mmooc.menu.showUserMenu();\n    mmooc.menu.renderUnauthenticatedMenu();\n    mmooc.menu.setMenuActiveLink();\n    mmooc.menu.showHamburger();\n    mmooc.menu.showMobileMenu();\n  } catch (e) {\n    console.log(e);\n  }\n\n  //Try to get course information and store it such that routes can use it.\n  //Otherwise just handle the route.\n  try {\n    var courseId = mmooc.api.getCurrentCourseId();\n    if(courseId) {\n      mmooc.api.getCourse(\n        courseId,\n        function(course) {\n          mmooc.util.course = course;\n          //KURSP-376-multilanguage-fix\n          if (course && mmooc.util.isMultilangCourse(course)) {\n            var langCode = MultilangUtils.getLanguageCode();\n            MultilangUtils.setActiveLanguage(langCode);\n          }\n          mmooc.routes.performHandlerForUrl(document.location);\n        },\n        function(error) {\n          console.error(\n            'error calling mmooc.api.getCourse(' + courseId + ')',\n            error\n          );\n        }\n      );\n    } else {\n      mmooc.routes.performHandlerForUrl(document.location);\n    }\n  } catch (e) {\n    console.log(e);\n  }\n\n  mmooc.privacyPolicy.init();\n\n  try {\n    mmooc.messageHandler.init();\n    mmooc.uob.init();\n    mmooc.nrk.init();\n//    mmooc.youtube.init();\n  } catch (e) {\n    console.log(e);\n  }\n\n  try {\n    mmooc.menu.injectGroupsPage();\n    //mmooc.multilanguage.displayLanguageSelector();\n    mmooc.groups.changeGroupListURLs(document.location.href);\n\n    mmooc.pages.updateSidebarWhenMarkedAsDone();\n    mmooc.pages.updateSidebarWhenContributedToDiscussion();\n//    mmooc.menu.alterHomeLink();\n    mmooc.menu.alterCourseLink();\n  } catch (e) {\n    console.log(e);\n  }\n\n  $(\"#application\").show();\n});\n","$(function() {\n  // console.log(\"CANVABADGES: Loaded!\");\n  // NOTE: if pasting this code into another script, you'll need to manually change the\n  // next line. Instead of assigning the value null, you need to assign the value of\n  // the Canvabadges domain, i.e. \"https://www.canvabadges.org\". If you have a custom\n  // domain configured then it'll be something like \"https://www.canvabadges.org/_my_site\"\n  // instead.\n  // var protocol_and_host = null; Overridden because of the comment above\n  //Some small changes has been made to this script so it is displayed also on the about/<user id> page and /profile/settings page.\n  //The original is here: https://www.canvabadges.org/canvas_profile_badges.js\n  if (mmooc.settings.useCanvaBadge) {\n    //Only run this code if it is set to be used in the settings\n    var protocol_and_host = mmooc.settings.CanvaBadgeProtocolAndHost; //'https://canvabadges-beta-iktsenteret.bibsys.no' - this is where the Canva Badge certificate is stored.;\n    var isProfilePage = false;\n    var user_id;\n    if (!protocol_and_host) {\n      var $scripts = $('script');\n      $('script').each(function() {\n        var src = $(this).attr('src');\n        if (src && src.match(/canvas_profile_badges/)) {\n          var splits = src.split(/\\//);\n          protocol_and_host = splits[0] + '//' + splits[2];\n        }\n        var prefix = src && src.match(/\\?path_prefix=\\/(\\w+)/);\n        if (prefix && prefix[1]) {\n          protocol_and_host = protocol_and_host + '/' + prefix[1];\n        }\n      });\n    }\n    if (!protocol_and_host) {\n      console.log(\n        \"CANVABADGES: Couldn't find a valid protocol and host. Canvabadges will not appear on profile pages until this is fixed.\"\n      );\n    }\n    var match = location.href.match(/\\/(users|about)\\/(\\d+)$/);\n    if (!match) {\n      match = location.href.match(/\\/profile\\/settings$/);\n      isProfilePage = true;\n    }\n    if (match && protocol_and_host) {\n      console.log('CANVABADGES: This page shows badges! Loading...');\n      if (isProfilePage) {\n        user_id = mmooc.api.getUser().id;\n      } else {\n        user_id = match[2];\n      }\n\n      var domain = location.host;\n      var url =\n        protocol_and_host +\n        '/api/v1/badges/public/' +\n        user_id +\n        '/' +\n        encodeURIComponent(domain) +\n        '.json';\n      $.ajax({\n        type: 'GET',\n        dataType: 'jsonp',\n        url: url,\n        success: function(data) {\n          console.log('CANVABADGES: Data retrieved!');\n          if (data.objects && data.objects.length > 0) {\n            console.log('CANVABADGES: Badges found! Adding to the page...');\n            var $box = $('<div/>', { style: 'margin-bottom: 20px;' });\n            $box.append(\"<h2 class='border border-b'>Badges</h2>\");\n            for (idx in data.objects) {\n              var badge = data.objects[idx];\n              var $badge = $('<div/>', { style: 'float: left;' });\n              var link =\n                protocol_and_host +\n                '/badges/criteria/' +\n                badge.config_id +\n                '/' +\n                badge.config_nonce +\n                '?user=' +\n                badge.nonce;\n              var $a = $('<a/>', { href: link });\n              $a.append(\n                $('<img/>', {\n                  src: badge.image_url,\n                  style: 'width: 72px; height: 72px; padding-right: 10px;'\n                })\n              );\n              $badge.append($a);\n              $box.append($badge);\n            }\n            $box.append($('<div/>', { style: 'clear: left' }));\n            $(\n              '#edit_profile_form,fieldset#courses,.more_user_information + div, #update_profile_form'\n            ).after($box);\n          } else {\n            console.log(\n              'CANVABADGES: No badges found for the user: ' +\n                user_id +\n                ' at ' +\n                domain\n            );\n          }\n        },\n        error: function(err) {\n          console.log('CANVABADGES: Badges failed to load, API error response');\n          console.log(err);\n        },\n        timeout: 5000\n      });\n    } else {\n      console.log(\"CANVABADGES: This page doesn't show badges\");\n    }\n  }\n});\n"]}